<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[Anaconda完全入门指南]]></title>
      <url>http://blog.acring.me/2018/03/15/Anaconda%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/</url>
      <content type="html"><![CDATA[<h1 id="Anaconda-完全入门指南"><a href="#Anaconda-完全入门指南" class="headerlink" title="Anaconda 完全入门指南"></a>Anaconda 完全入门指南</h1><p>参考文章:</p>
<ul>
<li><a href="http://python.jobbole.com/87522/" target="_blank" rel="external">致Python初学者：Anaconda入门使用指南</a></li>
<li><a href="http://python.jobbole.com/86236/" target="_blank" rel="external">Anaconda使用总结</a></li>
</ul>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>很多学习python的初学者甚至学了有一段时间的人接触到anaconda或者其他虚拟环境工具时觉得无从下手, 其主要原因就是不明白这些工具究竟有什么用, 是用来做什么的, 为什么要这么做, 比如笔者一开始也是不明白为啥除了python之外我还需要这么一个东西, 他和python到底有啥联系和区别, 为啥能用来管理python.</p>
<p>在使用过之后我才逐渐发现其实anaconda等环境管理工具究竟在做啥, 以及为什么我们需要他们来管理我们的python环境</p>
<p>首先我们需要先去了解Anaconda诞生的目的.再去了解Anaconda的使用方法.</p>
<h2 id="Python本身"><a href="#Python本身" class="headerlink" title="Python本身"></a>Python本身</h2><p>首先我们需要从python本身说起, 从根源寻找问题, 我们在使用python语言编写程序之前需要下载一个python解释器, 这才是python的本体, 没了python解释器, 我们即使写了无比正确优雅的python脚本也没办法运行, 那这个解释器在哪呢.就在你安装python的地方,比如我的在<code>C:\Users\Acring\AppData\Local\Programs\Python\Python36-32</code></p>
<p><img src="https://upload-images.jianshu.io/upload_images/3026741-5a10016d9cebf11d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>项目结构如上图,这里有我们很熟悉的python.exe, 也就是Python解释器</p>
<p>除此之外还有个很重要的东西, Lib, 也就是python包文件, 包括自带的包和第三方包</p>
<p><img src="https://upload-images.jianshu.io/upload_images/3026741-c4fea7520ea7c810.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Lib文件夹">\</p>
<p>Lib目录如上图, 这里有python自带的包, 如笔者常用的日志包logging, 异步包 concurrent, 而所有的第三方包都放在site-packages文件夹里面</p>
<p>了解了这些我们就对整个python环境有了大概的了解, 其实最关键的, 一个python环境中需要有一个解释器, 和一个包集合.</p>
<h3 id="解释器"><a href="#解释器" class="headerlink" title="解释器"></a>解释器</h3><p>解释器根据python的版本大概分为2和3. python2和3之间无法互相兼容, 也就是说用python2语法写出来的脚本不一定能在python3的解释器中运行.</p>
<h3 id="包集合"><a href="#包集合" class="headerlink" title="包集合"></a>包集合</h3><p>包集合中包含了自带的包和第三方包, 第三方包我们一般通过pip或者easy_install来下载, 当一个python环境中不包含这个包, 那么引用了这个包的程序不能在该python环境中运行.</p>
<p>比如说一个爬虫脚本用到了第三方的requests包,而另一台计算机是刚刚装好原始python的, 也就是说根本没有任何第三方包, 那么这个爬虫脚本是无法在另一台机器上运行的.</p>
<h2 id="问题所在"><a href="#问题所在" class="headerlink" title="问题所在"></a>问题所在</h2><p>python环境解释完了, 那么接下来就要说明这样的环境究竟产生哪些问题, 因为anaconda正式为了解决这些问题而诞生的</p>
<ol>
<li>到底该装 Python2 呢还是 Python3 </li>
</ol>
<p>python2和python3在语法上是不兼容的, 那我的机器上应该装python2还是python3呢, 可能一开始选一个学习就好了, 但是如果你要开发的程序必须使用python2而不能使用python3,那这时候你就不得不再下载一个python2, 那这时候环境变量该设谁的目录呢, 如果还是切换环境变量岂不是很麻烦.</p>
<ol>
<li>包管理</li>
</ol>
<p>如果我在本地只有一个python环境那我所有程序用到的各种包都只能放到同一个环境中, 导致环境混乱, 另外当我将写好的程序放到另一电脑上运行时又会遇到缺少相关包, 需要自己手动一个个下载的情况, 实在是烦人, 要是能每个程序开发都选用不同的环境, 而开发好之后又能将该程序需要的环境(第三方包)都独立打包出来就好了.</p>
<h2 id="Anaconda"><a href="#Anaconda" class="headerlink" title="Anaconda"></a>Anaconda</h2><p>那么接下来就到我们的anaconda上场了, 先让我们安装好Anaconda然后我再来告诉你如何用Anaconda一个个解决我们上面的问题吧.</p>
<h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><p><a href="https://www.anaconda.com/download/" target="_blank" rel="external">官网下载</a></p>
<p>推荐下载python3版本, 毕竟未来python2是要停止维护的.</p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>按照安装程序提示一步步安装就好了, 安装完成之后会多几个应用</p>
<blockquote>
<ul>
<li><strong>Anaconda Navigtor</strong> ：用于管理工具包和环境的图形用户界面，后续涉及的众多管理命令也可以在 Navigator 中手工实现。</li>
<li><strong>Jupyter notebook</strong> ：基于web的交互式计算环境，可以编辑易于人们阅读的文档，用于展示数据分析的过程。</li>
<li><strong>qtconsole</strong> ：一个可执行 IPython 的仿终端图形界面程序，相比 Python Shell 界面，qtconsole 可以直接显示代码生成的图形，实现多行代码输入执行，以及内置许多有用的功能和函数。</li>
<li><strong>spyder</strong> ：一个使用Python语言、跨平台的、科学运算集成开发环境。</li>
</ul>
</blockquote>
<p>暂时先不用管, 了解一下就行了</p>
<h3 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h3><p>如果是windows的话需要去 <code>控制面板\系统和安全\系统\高级系统设置\环境变量\用户变量\PATH</code> 中添加 anaconda的安装目录的Scripts文件夹, 比如我的路径是<code>D:\Software\Anaconda\Scripts</code>, 看个人安装路径不同需要自己调整.</p>
<p>之后就可以打开命令行(最好用管理员模式打开) 输入 <code>conda --version</code></p>
<p>如果输出<code>conda 4.4.11</code>之类的就说明环境变量设置成功了.</p>
<p>为了避免可能发生的错误, 我们在命令行输入<code>conda upgrade --all</code> 先把所有工具包进行升级</p>
<h2 id="管理虚拟环境"><a href="#管理虚拟环境" class="headerlink" title="管理虚拟环境"></a>管理虚拟环境</h2><p>接下来我们就可以用anaconda来创建我们一个个独立的python环境了.接下来的例子都是在命令行操作的,请打开你的命令行吧.</p>
<h3 id="activate"><a href="#activate" class="headerlink" title="activate"></a>activate</h3><p>activate 能将我们引入anaconda设定的虚拟环境中, 如果你后面什么参数都不加那么会进入anaconda自带的base环境, </p>
<p>你可以输入python试试, 这样会进入base环境的python解释器, <em>如果你把原来环境中的python环境去除掉会更能体会到</em>, 这个时候在命令行中使用的已经不是你原来的python而是base环境下的python.而命令行前面也会多一个<code>(base)</code> 说明当前我们处于的是base环境下.</p>
<p><img src="https://upload-images.jianshu.io/upload_images/3026741-6ec93340fe2010dc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="activate"></p>
<h3 id="创建自己的虚拟环境"><a href="#创建自己的虚拟环境" class="headerlink" title="创建自己的虚拟环境"></a>创建自己的虚拟环境</h3><p>我们当然不满足一个base环境, 我们应该为自己的程序安装单独的虚拟环境.</p>
<p>创建一个名称为learn的虚拟环境并指定python版本为3(这里conda会自动找3中最新的版本下载)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">conda create -n learn python=3</div></pre></td></tr></table></figure>
<p><img src="https://upload-images.jianshu.io/upload_images/3026741-a511c6109ba7a70f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>于是我们就有了一个learn的虚拟环境, 接下来我们切换到这个环境, 一样还是用activae命令 后面加上要切换的环境名称</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">activate learn</div></pre></td></tr></table></figure>
<p>如果忘记了名称我们可以先用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">conda env list</div></pre></td></tr></table></figure>
<p>去查看所有的环境</p>
<p>现在的learn环境除了python自带的一些官方包之外是没有其他包的, 一个比较干净的环境我们可以试试</p>
<p>先输入<code>python</code>打开python解释器然后输入</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> requests</div></pre></td></tr></table></figure>
<p>会报错找不到requests包, 很正常.接下来我们就要演示如何去安装requests包</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">exit()</div></pre></td></tr></table></figure>
<p>退出python解释器</p>
<p>输入</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">conda install requests</div></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pip install requests</div></pre></td></tr></table></figure>
<p>来安装requests包.</p>
<p>安装完成之后我们再输入<code>python</code>进入解释器并import requests包, 这次一定就是成功的了.</p>
<p>那么怎么卸载一个包呢</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">conda remove requests</div></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pip uninstall requests</div></pre></td></tr></table></figure>
<p>就行啦.</p>
<p>要查看当前环境中所有安装了的包可以用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">conda list</div></pre></td></tr></table></figure>
<p>如果想要导出当前环境的包信息可以用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">conda env <span class="built_in">export</span> &gt; environment.yaml</div></pre></td></tr></table></figure>
<p>将包信息存入yaml文件中.</p>
<p>当需要重新创建一个相同的虚拟环境时可以用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">conda env create <span class="_">-f</span> environment.yaml</div></pre></td></tr></table></figure>
<p>其实命令很简单对不对, 我把一些常用的在下面给出来, 相信自己多打两次就能记住</p>
<blockquote>
<p>activate  // 切换到base环境</p>
<p>activate learn // 切换到learn环境</p>
<p>conda create -n learn python=3  // 创建一个名为learn的环境并指定python版本为3(的最新版本)</p>
<p>conda env list // 列出conda管理的所有环境</p>
<p>conda list // 列出当前环境的所有包</p>
<p>conda install requests 安装requests包</p>
<p>conda remove requests 卸载requets包</p>
<p>conda remove -n learn –all // 删除learn环境及下属所有包</p>
<p>conda update requests 更新requests包</p>
<p>conda env export &gt; environment.yaml  // 导出当前环境的包信息</p>
<p>conda env create -f environment.yaml  // 用配置文件创建新的虚拟环境</p>
</blockquote>
<h2 id="深入一下"><a href="#深入一下" class="headerlink" title="深入一下"></a>深入一下</h2><p>或许你会觉得奇怪为啥anaconda能做这些事, 他的原理到底是什么, 我们来看看anaconda的安装目录</p>
<p><img src="https://upload-images.jianshu.io/upload_images/3026741-63545935a35d56b9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>这里只截取了一部分, 但是我们和本文章最开头的python环境目录比较一下, 可以发现其实十分的相似, 其实这里就是base环境. 里面有着一个基本的python解释器, lLib里面也有base环境下的各种包文件.</p>
<p>那我们自己创建的环境去哪了呢, 我们可以看见一个envs, 这里就是我们自己创建的各种虚拟环境的入口, 点进去看看</p>
<p><img src="https://upload-images.jianshu.io/upload_images/3026741-dd23119033baf8ce.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>可以发现我们之前创建的learn目录就在下面, 再点进去</p>
<p><img src="https://upload-images.jianshu.io/upload_images/3026741-866fce7b82bb30b3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>这不就是一个标准的python环境目录吗?</p>
<hr>
<p>这么一看, anaconda所谓的创建虚拟环境其实就是安装了一个真实的python环境, 只不过我们可以通过activate,conda等命令去随意的切换我们当前的python环境, 用不同版本的解释器和不同的包环境去运行python脚本.</p>
<h2 id="与pycharm连接"><a href="#与pycharm连接" class="headerlink" title="与pycharm连接"></a>与pycharm连接</h2><p>在工作环境中我们会集成开发环境去编码, 这里推荐JB公司的pycharm, 而pycharm也能很方便的和anaconda的虚拟环境结合</p>
<p>在<code>Setting =&gt; Project =&gt; Project Interpreter</code> 里面修改 Project Interpreter , 点击齿轮标志再点击Add Local为你某个环境的python.exe解释器就行了</p>
<p><img src="https://upload-images.jianshu.io/upload_images/3026741-597f0901fbcefd03.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>比如你要在learn环境中编写程序, 那么就修改为<code>D:\Software\Anaconda\envs\learn</code>, 可以看到这时候下面的依赖包也变成了learn环境中的包了.接下来我们就可以在pycharm中愉快的编码了.</p>
<p><img src="https://upload-images.jianshu.io/upload_images/3026741-d09afc34a52b4903.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>现在你是不是发现用上anaconda就可以十分优雅简单的解决上面所提及的单个python环境所带来的弊端了呢, 而且也明白了其实这一切的实现并没有那么神奇.</p>
<p>当然anaconda除了包管理之外还在于其丰富数据分析包, 不过那就是另一个内容了, 我们先学会用anaconda去换一种方法管里自己的开发环境, 这已经是一个很大的进步了.</p>
]]></content>
      
        
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> 环境搭建 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[瞎扯一扯markdown]]></title>
      <url>http://blog.acring.me/2018/02/02/%E7%9E%8E%E6%89%AF%E4%B8%80%E6%89%AFmarkdown/</url>
      <content type="html"><![CDATA[<h1 id="瞎扯一扯markdown"><a href="#瞎扯一扯markdown" class="headerlink" title="瞎扯一扯markdown"></a>瞎扯一扯markdown</h1><h2 id="markdown是个啥"><a href="#markdown是个啥" class="headerlink" title="markdown是个啥"></a>markdown是个啥</h2><p>markdown是啥?markdown其实就是一种标记语言, 标记语言其实就是一种规则, 以这种规则写出来的文本能被渲染器或者阅读器解析, 以另一种方式呈现出来, 比如说html就是一种标记语言, 浏览器能将html转换成相应的网页供人们浏览, markdown其实也是一样的, 以特定的规则书写markdown, 最终就被解析成相应的界面了.</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3026741-74f89103bec15001.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h2 id="markdown图个啥"><a href="#markdown图个啥" class="headerlink" title="markdown图个啥"></a>markdown图个啥</h2><p>markdown的创造目的是为了人们能更好的编写文档, 尤其是在网页上显示的时候.</p>
<p>很久以前, 没有html的时候, 人们都用纯文本书写, 字都一样大,没有段落和层次感, 这种样式实在是太丑了, 不适合查看</p>
<p>后来诞生了html, 人们可以用html组织样式, 大小, 甚至颜色等等等,非常的方便, 可定制性很高, 但是html的书写和修改相对都比较麻烦, 所有人们吧html相对比较常用的样式一些抽出来作为固定的显示方法, 然后用markdown这种更简单的语法去书写, 最终markdown书写出来的文本是可以直接转换成html的, 那么你说我不会html咋办, 也没事, 一样能很简单的学会markdown的语法.</p>
<p>markdown是程序员的首选记录文档,笔记的方法, 但是不只是程序员才需要学习markdown, 所有想要用更高效,更优雅的方法记录文档的孩子都需要这个东西.</p>
<h2 id="markdown怎么写"><a href="#markdown怎么写" class="headerlink" title="markdown怎么写"></a>markdown怎么写</h2><h3 id="渲染器"><a href="#渲染器" class="headerlink" title="渲染器"></a>渲染器</h3><p>我们说markdown本身是纯文本, 只有经过渲染才能变成实际的样式, 就像代码本是所以我们需要一个渲染器, 一边学,一边看.</p>
<p>在线的markdown编辑器很多, 简书, 作业部落等等, 而且一般都会有示例, 学习还是很容易的.</p>
<p><a href="https://www.zybuluo.com/mdeditor" target="_blank" rel="external">作业部落cmd markdown</a></p>
<p>渲染器一般分为左右渲染和实时渲染, 前者是目前的主流, 也就是左边是原文本输入, 右边是渲染的结果</p>
<p>实时渲染我使用过的就只有 Typora, 但是其精简的设计和所见即所得的使用体验让我爱不释手,强推.</p>
<p>不过对于新手来说,我建议先从左右渲染开始, 等熟悉语法之后再使用Typora.</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><p>markdown学啥, 其实学的就是一个语法, 语法学会了, 打的多了自然都会了, 但是这样就落了俗套了, 而且这样的教程网上实在太多了, 我也不想多加赘述, 所以我们必须从markdown每种语法的目的出发, 真正了解markdown的设计思想.</p>
<h2 id="开始markdown之旅"><a href="#开始markdown之旅" class="headerlink" title="开始markdown之旅"></a>开始markdown之旅</h2><p>假设你现在有些一篇文章论述博主是多么多么帅,我们拿到了一个编辑器</p>
<p>首先我们需要一个<strong>大大大</strong>的标题来表示我们这片文章的主题</p>
<p>这时候我们需要一个<code>#</code>来表示, 注意<code>#</code> 和文本之间有空格</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="section"># 震惊,居然有人能这么帅</span></div></pre></td></tr></table></figure>
<p>然后我们需要一个二级标题来开始我们的论述, 很简单, 两个<code>#</code>, 二级标题的字体比一级标题小一点点, 也就是关于主题的一个论点,或者一个大的段落.有二级标题自然还有三级,四级,五级标题, 不过一般我们用到四级标题就行了.文章不宜有深入的层级.示例如下</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="section">## 从盘古开天地说起</span></div></pre></td></tr></table></figure>
<p>然后我们开始简单的陈述, 这时候用最简单的字来写就好了,如</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">博主这么帅,是自古以来的固有属性, 是无法被剥夺的,从三个点来说吧</div></pre></td></tr></table></figure>
<p>然后我们要分点描述博主帅的原因, 原因之间是没有先后关系的,这时候可以用<code>-</code>来写, 如</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="bullet">- </span>没啥理由</div><div class="line"><span class="bullet">- </span>帅无罪</div><div class="line"><span class="bullet">- </span>你没得反驳</div></pre></td></tr></table></figure>
<p>注意<code>-</code>和文字之间是有空格的</p>
<p>在第一论点的最后, 我们用加粗的字体来阐述自己的态度, 可以用左右各两个<code>*</code>号来包裹文本, 不用空格,如</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="strong">**以上, 博主就是那么帅**</span></div></pre></td></tr></table></figure>
<p>要是再浮夸点, 可以用斜体, 其实就是左右各一个<code>*</code> 号来表示</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="emphasis">*再说一遍,博主就是那么帅*</span></div></pre></td></tr></table></figure>
<p>以上渲染出来的样子大概就是下面这样, 是不是既美观又富有层次感( <del>关键是论述还特别有道理</del>).而且我们并没有太多的关注排版, 这一切都交给了渲染器, <strong>这让我们能更加的专注于书写的内容</strong>.</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3026741-3160dc9ba662e624.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>感受到markdown的魅力之后我们继续, 来看第二段, 我们要从个人经历来论证博主的帅气, 我们可以这样写</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="section">## 从我的经历说起</span></div><div class="line"></div><div class="line"></div><div class="line">那天我决定去见博主, 流程如下</div><div class="line"></div><div class="line"><span class="bullet">1. </span>我穿衣服</div><div class="line"><span class="bullet">2. </span>打开门</div><div class="line"><span class="bullet">3. </span>搭公交</div><div class="line"><span class="bullet">4. </span>下车</div><div class="line"><span class="bullet">5. </span>见到博主</div><div class="line"><span class="bullet">6. </span>帅瞎眼</div><div class="line"><span class="bullet">7. </span>完</div><div class="line"></div><div class="line">我临终前的愿望</div><div class="line"></div><div class="line"><span class="bullet">- </span>[ ] 再见一次博主的脸</div><div class="line"><span class="bullet">- </span>[x] 没了</div></pre></td></tr></table></figure>
<p>最终的渲染结果如下</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3026741-02fb8db8e1ba796f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>在这里我们用到了<strong>顺序关系</strong>的事件, 我们可以直接用编号<code>1.</code> 来表示, 区别在于这部分一般会被渲染器缩进, 查看美观.接着我们用到了<strong>代办事项</strong>, 用<code>- [ ]</code> 来表示未做, <code>- [x]</code> 来表示已做.</p>
<p>接着, 我们要引经据典来论证博主的颜值, 第三段可以这样写</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="section">## 这绝不是我听风就是雨</span></div><div class="line"></div><div class="line">关于博主的帅, 我绝不是瞎掰, 鲁迅就说过</div><div class="line"></div><div class="line"><span class="quote">&gt; 学医救不了中国人</span></div><div class="line"></div><div class="line">从这句话就能充分体现出鲁迅对博主帅的认同.</div><div class="line"></div><div class="line">另外你可以用这个公式算一算博主的帅气值</div><div class="line"></div><div class="line">$$ E=mc^2 $$</div><div class="line"></div><div class="line">用这个程序跑一下看看博主帅不帅</div><div class="line"></div><div class="line">\<span class="code">`\`</span>\`python</div><div class="line">def shuai():</div><div class="line"><span class="code">	while true:</span></div><div class="line"><span class="code">    	print("博主真的帅")</span></div><div class="line">\<span class="code">`\`</span>\`</div><div class="line"></div><div class="line"></div><div class="line">还不信的话我给你们发个网址,你们可以去看看[<span class="string">博主的帅照</span>](<span class="link">http://blog.acring.me/</span>)</div><div class="line"></div><div class="line">不然我直接放出来吧</div><div class="line"></div><div class="line">![<span class="string">TIM图片20180202152821.jpg</span>](<span class="link">http://upload-images.jianshu.io/upload_images/3026741-f95fdd4133804742.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240</span>)</div></pre></td></tr></table></figure>
<p>渲染结果如下</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3026741-1a8a33914a7ca917.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>这里用到了很多方式来论证博主的帅</p>
<ol>
<li>引用别人的话</li>
</ol>
<p><code>&gt;</code> 可以用来引用别人的话, 这是一种规范, 当然也可以不遵守</p>
<ol>
<li>数学表达式</li>
</ol>
<p><code>$$xxx$$</code> 可以用来写各种数学表达式, 渲染成比较容易查看的模式, 不过数学表达式的写法又是一套规则了,有兴趣的可以去了解下</p>
<ol>
<li>引用代码</li>
</ol>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">\<span class="code">`\`</span>\`python</div><div class="line"></div><div class="line">\<span class="code">`\`</span>\`</div></pre></td></tr></table></figure>
<p>这样子的格式是引用程序代码,  第一个三引号后面表明代码的语言, 渲染器就能帮你高亮代码, 是不是看起来舒服很多.</p>
<ol>
<li>创建连接</li>
</ol>
<p><code>[]()</code>可以把某段文字加上链接跳转,当点击这段文字时就会跳转到指定的页面, 中括号<code>[]</code>写的是文本, <code>()</code> 小括号里写的是链接,</p>
<ol>
<li>创建图片</li>
</ol>
<p>我们也可以直接在文章中添加想要的图片, 可以用 <code>![]()</code> 的方式相当于在链接的前面加了个感叹号, 不过这时的<code>()</code> 里填的就应该是图片地址了.</p>
<p>最后基本的用法中还有个表格, 不过我编不下去了, 就自己看看吧</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3026741-bc13530eee66eff4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div><div class="line">| 项目   |     价格 |  数量  |</div><div class="line">| ---- | -----: | :--: |</div><div class="line">| 计算机  | 1600 |  5   |</div><div class="line">| 手机   |   12 |  12  |</div><div class="line">| 管线   |    1 | 234  |</div></pre></td></tr></table></figure>
<p>效果如下.</p>
<table>
<thead>
<tr>
<th>项目</th>
<th style="text-align:right">价格</th>
<th style="text-align:center">数量</th>
</tr>
</thead>
<tbody>
<tr>
<td>计算机</td>
<td style="text-align:right">1600</td>
<td style="text-align:center">5</td>
</tr>
<tr>
<td>手机</td>
<td style="text-align:right">12</td>
<td style="text-align:center">12</td>
</tr>
<tr>
<td>管线</td>
<td style="text-align:right">1</td>
<td style="text-align:center">234</td>
</tr>
</tbody>
</table>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>markdown能让我的写作变得更加有效率和舒服, 不用担心排版的问题,而是更多的专注在内容的层次, 深度,组织结构,我们还可以用些转换工具(typora自带,其它没接触)从markdown文件直接转换 成pdf或者word, 达到一份文件, 各种格式的目的, 极快的加大了我们学习工作的效率, 所以为啥你还不试试用markdown开始你的创作之路呢?</p>
]]></content>
      
        
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> 效率 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Gensim模块处理之dictionary和corpora]]></title>
      <url>http://blog.acring.me/2018/02/01/Gensim%E6%A8%A1%E5%9D%97%E5%A4%84%E7%90%86%E4%B9%8Bdictionary%E5%92%8Ccorpora/</url>
      <content type="html"><![CDATA[<h1 id="Gensim模块处理之dictionary和corpora"><a href="#Gensim模块处理之dictionary和corpora" class="headerlink" title="Gensim模块处理之dictionary和corpora"></a>Gensim模块处理之dictionary和corpora</h1><p>参考资料:</p>
<p><a href="https://radimrehurek.com/gensim/tut1.html" target="_blank" rel="external">Corpora and Vector Spaces</a></p>
<p><a href="http://blog.csdn.net/u014595019/article/details/52218249" target="_blank" rel="external">gensim使用方法以及例子</a></p>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>自然语言处理的第一步就是将原始文本处理成计算机能够处理的形式</p>
<p>gensim中最基本的两种存储形式就是dictionary和corpora, 本文就是介绍如何用gensim去将原始文本转换成上述的两种形式,其实也是相当简单的</p>
<h3 id="词典-dictionary"><a href="#词典-dictionary" class="headerlink" title="词典(dictionary)"></a>词典(dictionary)</h3><p>词典是所有文档中所有单词的集合,就像一个我们平时用的字典类似,将使用中所有可能出现的词都存下来, 并且记录各个词出现的次数等信息.</p>
<p>假设有两篇文章:</p>
<ol>
<li>when I love you</li>
<li>I like the feeling</li>
</ol>
<p>那词典就是[“when”, “I”, “love”, “you”, “like”, “the”, “feeling”], 也就是出现过的单词的集合, 单词自然是不重复的.</p>
<p>在实际应用中, 类似”the”这样的单词是会在分词的阶段被去掉的, 因为他对整个文章没有实际的意义.</p>
<p>分词对于中文来说比较麻烦,因为中文词语之间是没有分隔的, 英文自带词语的分隔,所以相对容易, 分词同样是需要研究的课题, 这里暂时不讨论.</p>
<p>词典的单位是”词”, 他不会管每篇文章中出现的词的个数, 如果要和文章相关就要用到文档集(corpora)了</p>
<h3 id="文档集-corpora"><a href="#文档集-corpora" class="headerlink" title="文档集(corpora)"></a>文档集(corpora)</h3><p>文档集是用来表示每篇文档的词数的, 从本质上来说,corpora是一种约定的表达方式, 是一个二维矩阵.</p>
<p>在实际的操作中，对于字符串形式的文档，首先要将字符串分割成词语列表。比如”hurry up”要分割成[“hurry”,”up”]。</p>
<p>如果将上述的两篇文章转换成文档集就是</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[[(<span class="number">0</span>,<span class="number">1</span>),(<span class="number">1</span>,<span class="number">1</span>),(<span class="number">2</span>,<span class="number">1</span>),(<span class="number">3</span>,<span class="number">1</span>)],[(<span class="number">1</span>,<span class="number">1</span>),(<span class="number">4</span>,<span class="number">1</span>),(<span class="number">5</span>,<span class="number">1</span>),(<span class="number">6</span>,<span class="number">1</span>)]]</div></pre></td></tr></table></figure>
<p>上面的数组中有两个数组, 分别表示一篇文章, 每个数组中有一个元组, 元组中其实是一个对应关系, 表示的是词典中的第n个词在这篇文章中出现的次数(n从0开始数), 比如第一个数组中的第一个元组是(0,1)说明第一篇文章中出现了词典中第0个词一次,即出现”when”一次.注意这种表示和词在文章中的位置是没有关系的, 只是统计数量而已.</p>
<h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><p>接下来介绍gensim中的dictionary和corpora的基本创建方法和使用方法</p>
<p>首先是生成,保存,加载</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">save_load</span><span class="params">(filename)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    简单的保存和加载</div><div class="line">    :return:</div><div class="line">    """</div><div class="line"></div><div class="line">    documents = []</div><div class="line">    <span class="comment"># 打开原始文本</span></div><div class="line">    <span class="keyword">with</span> open(filename, <span class="string">"r"</span>, encoding=<span class="string">"utf-8"</span>) <span class="keyword">as</span> f:</div><div class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> f:</div><div class="line">            documents.append(line.split(<span class="string">" "</span>))</div><div class="line"></div><div class="line">    <span class="comment"># 生成词典</span></div><div class="line">    dictionary = corpora.Dictionary(documents)</div><div class="line"></div><div class="line">    print(dictionary)</div><div class="line">    <span class="comment"># 将词典保存到本地文件</span></div><div class="line">    dictionary.save(<span class="string">"tmp\\dictionary.dic"</span>)</div><div class="line"></div><div class="line">    <span class="comment"># 加载词典</span></div><div class="line">    dictionary2 = corpora.Dictionary.load(<span class="string">"tmp\\dictionary.dic"</span>)</div><div class="line">    print(dictionary2)</div><div class="line"></div><div class="line">    <span class="comment"># 生成词库</span></div><div class="line">    corpus = [dictionary.doc2bow(document) <span class="keyword">for</span> document <span class="keyword">in</span> documents]</div><div class="line">    print(len(corpus))</div><div class="line"></div><div class="line">    <span class="comment"># 保存词库</span></div><div class="line">    corpora.MmCorpus.serialize(<span class="string">"tmp\\corpus.m"</span>, corpus)</div><div class="line"></div><div class="line">    <span class="comment"># 加载词库</span></div><div class="line">    corpus2 = corpora.MmCorpus(<span class="string">'tmp\\corpus.m'</span>)</div><div class="line">    print(len(corpus2))</div><div class="line"></div><div class="line">    <span class="keyword">return</span> dictionary, corpus</div></pre></td></tr></table></figure>
<h3 id="加载语料库"><a href="#加载语料库" class="headerlink" title="加载语料库"></a>加载语料库</h3><p>先打开文件, 读取文件中的字符串, 生成一个二维数组, 类似下边的结构</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[[<span class="string">"我"</span>,<span class="string">"爱"</span>,<span class="string">"中国"</span>],[<span class="string">"他"</span>, <span class="string">"改变"</span>, <span class="string">"了"</span>]]</div></pre></td></tr></table></figure>
<p>其中内部的一个数组代表一篇文章, 比如”我爱中国”就是一片文章</p>
<h3 id="生成词典"><a href="#生成词典" class="headerlink" title="生成词典"></a>生成词典</h3><p>然后就可以用corpora.Dictionary来将这样的二维数组转换成一个词典dictionary了</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Dictionary(<span class="number">29550</span> unique tokens: [<span class="string">'arrivée'</span>, <span class="string">'arroseur'</span>, <span class="string">'arrosé'</span>, <span class="string">'av'</span>, <span class="string">'bébé'</span>]...)</div></pre></td></tr></table></figure>
<p>可以看到这个词典有29550个词.词典中有一些数据结构在使用的时候我们再说.</p>
<p>我们先用dictionary.save来保存这个词典, 之后重新加载并输出.输出结果是一样的.说明保存和加载都是没有问题的.</p>
<h3 id="生成文档集"><a href="#生成文档集" class="headerlink" title="生成文档集"></a>生成文档集</h3><p>之后我们可以用这个词典去将那些文章转换成corpus的形式, 也就是说, corpus的生成是基于词典的.</p>
<p>dictionary.doc2bow(document)可以将一篇文章(一个一维数组)转换成corpus向量表示</p>
<p>然后用corpora.MmCorpus.serialize来保存corpus</p>
<p>用corpora.MmCorpus来加载corpus</p>
<h3 id="dictionary的基本使用"><a href="#dictionary的基本使用" class="headerlink" title="dictionary的基本使用"></a>dictionary的基本使用</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">use_dic_cor</span><span class="params">(dictionary, corpus)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    dictionary的简单使用</div><div class="line">    :return:</div><div class="line">    """</div><div class="line">    <span class="comment"># 获取某个词的id</span></div><div class="line">    print(dictionary.token2id[<span class="string">"中国"</span>]) <span class="comment"># out:46</span></div><div class="line"></div><div class="line">    <span class="comment"># 用id获取某个词</span></div><div class="line">    print(dictionary[<span class="number">46</span>]) <span class="comment"># out: 中国</span></div><div class="line"></div><div class="line">    <span class="comment"># 和上面的效果相同</span></div><div class="line">    print(dictionary.id2token[<span class="number">46</span>]) <span class="comment"># out: 中国</span></div><div class="line"></div><div class="line">    <span class="comment"># 用id获取几个文档中出现过这个词</span></div><div class="line">    print(dictionary.dfs[<span class="number">46</span>]) <span class="comment"># out: 55</span></div><div class="line"></div><div class="line">    <span class="comment"># 按词出现文档的次个数对词进行排序</span></div><div class="line">    max_tuple = sorted(dictionary.dfs.items(), key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>], reverse=<span class="keyword">True</span>)</div><div class="line">    <span class="comment"># 出现次数第10个词语的id和出现次数</span></div><div class="line">    print(max_tuple[<span class="number">10</span>]) <span class="comment"># out: (31, 80)</span></div><div class="line">    <span class="comment"># 出现次数第10个词语的实际字符表示</span></div><div class="line">    print(dictionary[max_tuple[<span class="number">10</span>][<span class="number">0</span>]]) <span class="comment"># out: 一</span></div><div class="line"></div><div class="line">    <span class="comment"># 新的文章按照词典转换成corpus的向量表示形式</span></div><div class="line">    new_doc = <span class="string">"我 爱 中国"</span></div><div class="line">    new_vec = dictionary.doc2bow(new_doc.split())</div><div class="line">    print(new_vec) <span class="comment"># out:[(46, 1), (346, 1), (5493, 1)] </span></div><div class="line">    </div><div class="line">    <span class="comment"># 新的文章按照词典转换成下标的形式</span></div><div class="line">    new_doc = <span class="string">"我 爱 中国"</span></div><div class="line">    new_vec = dictionary.doc2idx(new_doc.split())</div><div class="line">    print(new_vec) <span class="comment"># out: [5493, 346, 46]</span></div></pre></td></tr></table></figure>
<p>通过阅读源码可以看到dictionary中有几个基本的数据结构</p>
<ul>
<li>token2id</li>
<li>id2token</li>
<li>dfs</li>
<li>num_docs</li>
<li>num_pos</li>
</ul>
<p>其中token2id表示一个词语的的词和词id的对应关系,如{“中国”:0, “美国”:2}, id2token则是相反, 如{0:”中国”, 1:”美国”}</p>
<p>所以用dictionary.token2id[“中国”]就可以知道一个词在词典中对应的id编号是多少,这里输出的是46,所以说中国这个词在词典中的编号是46.那我就可以用dictionary.id2token[46]去获取46这个编号的词,输出也确实是”中国”, 直接用dictionary和调用dictionary.id2token是一样的,只是dictionary会做一层检查, 同步id2token和token2id,具体查看源码.</p>
<p>dfs是对应词id和词出现的文档的个数dictionary.dfs[46]获得的是有几个文档中出现过”中国”这个词语, 注意是文档的个数,而不是这个词总共出现的次数.</p>
<p>然后就是num_docs 表示文档的总数, num_pos表示总共出现的词的词数(包括重复的词语)</p>
<p>除了数据结构, dictionary还提供一些处理函数</p>
<ul>
<li>doc2bow</li>
<li>doc2idx</li>
</ul>
<p>前者是生成corpus用的, 后者是将文章转换成下标形式的数组,如[“我”, “爱”, “中国”]被装换成[5493, 346, 46]</p>
<h3 id="合并dictionary"><a href="#合并dictionary" class="headerlink" title="合并dictionary"></a>合并dictionary</h3><p>有时候如果语料库太大我们需要分批创建字典, 再将两个字典合并, 这时候要用到dictionary.merge_with()函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">dictionary1 = corpora.Dictionary(ducuments1)</div><div class="line">dictionary2 = corpora.Dictionary(ducuments2)</div><div class="line"></div><div class="line">dictionary2_to_dictionary1 = dictionary1.merge_with(dictionary2)</div></pre></td></tr></table></figure>
<p>注意这里dictionary1是最终合并的到的合并词典, 那函数返回的dictionary2_to_dictionary1是啥呢, 是原来在dictionary2的下标表示在dictionary1新词典中的下标表示</p>
<p>比如说从”我爱中国”这个语料库生成的词典, 中国这个词的编号是2, 而在”他改变了中国”这个语料库生成的词典中, 中国这个词的编号是3, 那合并的时候中国这个词的编号肯定会变, 要不是用前者的词典编号, 要不是用后者的, 就看是谁合并谁.</p>
<p>那么现在有个问题, 如果我用词典1和词典2分别创建了两个corpus1和corpus2, 我想要合并两个corpus, 这就要进行编号转换了, 假设是dictionary1去合并corpus2, 则合并corpus的方法如下, itertools是python自带的类, 可用来合并两个数组</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">new_corpus2 = dict2_to_dict1[corpus2]</div><div class="line">merged_corpus = itertools.chain(corpus1, new_corpus2)</div><div class="line">merged_corpus = [x <span class="keyword">for</span> x <span class="keyword">in</span> merged_corpus]</div></pre></td></tr></table></figure>
<h3 id="dictionary的其他用法"><a href="#dictionary的其他用法" class="headerlink" title="dictionary的其他用法"></a>dictionary的其他用法</h3><blockquote>
<p>dictionary还有其他的一些用法，现罗列一部分</p>
<p><strong>dictionary.filter_n_most_frequent(N)</strong><br>过滤掉出现频率最高的N个单词</p>
<p><strong>dictionary.filter_extremes(no_below=5, no_above=0.5, keep_n=100000)</strong><br>1.去掉出现次数低于no_below的<br>2.去掉出现次数高于no_above的。注意这个小数指的是百分数<br>3.在1和2的基础上，保留出现频率前keep_n的单词</p>
<p><strong>dictionary.filter_tokens(bad_ids=None, good_ids=None)</strong><br>有两种用法，一种是去掉bad_id对应的词，另一种是保留good_id对应的词而去掉其他词。注意这里bad_ids和good_ids都是列表形式</p>
<p><strong>dictionary.compacity()</strong><br>在执行完前面的过滤操作以后，可能会造成单词的序号之间有空隙，这时就可以使用该函数来对词典来进行重新排序，去掉这些空隙。</p>
</blockquote>
]]></content>
      
        
        <tags>
            
            <tag> NLP </tag>
            
            <tag> 技术 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[自然语言处理之TF-IDF应用(python)]]></title>
      <url>http://blog.acring.me/2018/01/29/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86%E4%B9%8BTF-IDF%E5%BA%94%E7%94%A8(python)/</url>
      <content type="html"><![CDATA[<h1 id="自然语言处理之TF-IDF应用-python"><a href="#自然语言处理之TF-IDF应用-python" class="headerlink" title="自然语言处理之TF-IDF应用(python)"></a>自然语言处理之TF-IDF应用(python)</h1><p>笔记参考:</p>
<p><a href="http://blog.csdn.net/m0_37306360/article/details/76826121" target="_blank" rel="external">Gensim-TFIDF,LDA,LSI实战</a></p>
<p><a href="https://radimrehurek.com/gensim/tutorial.html" target="_blank" rel="external">Gensim Tutorials</a></p>
<h2 id="gensim"><a href="#gensim" class="headerlink" title="gensim"></a>gensim</h2><p>python的第三方库gensim提供了一些关于自然语言的模块,其中就包括TF-IDF的模型,这里稍作应用介绍,</p>
<h2 id="先导"><a href="#先导" class="headerlink" title="先导"></a>先导</h2><h3 id="TF-IDF基础"><a href="#TF-IDF基础" class="headerlink" title="TF-IDF基础"></a>TF-IDF基础</h3><p><a href="http://blog.acring.me/2018/01/29/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86%E4%B9%8BTF-IDF%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E7%AF%87/">自然语言处理之TF-IDF算法基础篇</a></p>
<h3 id="corpora和dictionary"><a href="#corpora和dictionary" class="headerlink" title="corpora和dictionary"></a>corpora和dictionary</h3><p>文档集和字典是自然语言中处理中必须理解的概念,可以参考我之前的文章</p>
<p><a href="http://blog.acring.me/2018/02/01/Gensim%E6%A8%A1%E5%9D%97%E5%A4%84%E7%90%86%E4%B9%8Bdictionary%E5%92%8Ccorpora/"><a href="http://blog.acring.me/2018/02/01/Gensim%E6%A8%A1%E5%9D%97%E5%A4%84%E7%90%86%E4%B9%8Bdictionary%E5%92%8Ccorpora/">Gensim模块处理之dictionary和corpora</a></a></p>
<h2 id="TF-IDF模块使用"><a href="#TF-IDF模块使用" class="headerlink" title="TF-IDF模块使用"></a>TF-IDF模块使用</h2><h3 id="准备文档集和要测试的文章"><a href="#准备文档集和要测试的文章" class="headerlink" title="准备文档集和要测试的文章"></a>准备文档集和要测试的文章</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">documents = [<span class="string">"Human machine interface for lab abc computer applications applications"</span>,</div><div class="line">                 <span class="string">"A survey of user opinion of computer system response time"</span>,</div><div class="line">                 <span class="string">"The EPS user interface management system"</span>,</div><div class="line">                 <span class="string">"System and human system engineering testing of EPS"</span>,</div><div class="line">                 <span class="string">"Relation of user perceived response time to error measurement"</span>,</div><div class="line">                 <span class="string">"The generation of random binary unordered trees"</span>,</div><div class="line">                 <span class="string">"The intersection graph of paths in trees"</span>,</div><div class="line">                 <span class="string">"Graph minors IV Widths of trees and well quasi ordering"</span>,</div><div class="line">                 <span class="string">"Graph minors A survey"</span>]</div><div class="line"></div><div class="line">test_document = <span class="string">"Human like machine while interface is survey abc"</span></div></pre></td></tr></table></figure>
<p>假设上面的documents表示整个网络的英文文章列表,每个字符串表示一篇文章, test_document表示一篇要测试的文章, 我们想要知道这篇文章和全网中哪篇文章的相似度比较高</p>
<h3 id="转换文档集"><a href="#转换文档集" class="headerlink" title="转换文档集"></a>转换文档集</h3><p>我们先要将全网文章转换成gensim中的corpus和dictionary</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">GensimTest</span><span class="params">(object)</span>:</span></div><div class="line"></div><div class="line">    corpus = <span class="keyword">None</span></div><div class="line">    dictionary = <span class="keyword">None</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, documents=None, filename=None)</span>:</span></div><div class="line">        <span class="keyword">if</span> documents:</div><div class="line">            texts = [[word <span class="keyword">for</span> word <span class="keyword">in</span> document.lower().split()] <span class="keyword">for</span> document <span class="keyword">in</span> documents]</div><div class="line"></div><div class="line">            <span class="comment"># 词典</span></div><div class="line">            dictionary = corpora.Dictionary(texts)</div><div class="line">            <span class="comment"># 词库，以(词，词频)方式存贮</span></div><div class="line">            corpus = [dictionary.doc2bow(text) <span class="keyword">for</span> text <span class="keyword">in</span> texts]</div><div class="line">            print(<span class="string">"词典:"</span>, dictionary)</div><div class="line">            print(<span class="string">"词库:"</span>, corpus)</div><div class="line">            self.dictionary = dictionary</div><div class="line">            self.corpus = corpus</div></pre></td></tr></table></figure>
<ul>
<li>main</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">manager = GensimTest(documents=documents)</div></pre></td></tr></table></figure>
<p>将用corpora.Dictionary讲全网文章转换成词典, 其实就是一个不重复的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="string">'abc'</span>, <span class="string">'applications'</span>, <span class="string">'computer'</span>, <span class="string">'for'</span>, <span class="string">'human'</span>]...</div></pre></td></tr></table></figure>
<p>然后用dictionary.doc2bow将每篇文章变成用词典表示的形式</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[[(<span class="number">0</span>, <span class="number">1</span>), (<span class="number">1</span>, <span class="number">2</span>), (<span class="number">2</span>, <span class="number">1</span>), (<span class="number">3</span>, <span class="number">1</span>), (<span class="number">4</span>, <span class="number">1</span>), (<span class="number">5</span>, <span class="number">1</span>), (<span class="number">6</span>, <span class="number">1</span>), (<span class="number">7</span>, <span class="number">1</span>)], [(<span class="number">2</span>, <span class="number">1</span>), (<span class="number">8</span>, <span class="number">1</span>), (<span class="number">9</span>, <span class="number">2</span>), (<span class="number">10</span>, <span class="number">1</span>), (<span class="number">11</span>, <span class="number">1</span>), (<span class="number">12</span>, <span class="number">1</span>), (<span class="number">13</span>, <span class="number">1</span>), (<span class="number">14</span>, <span class="number">1</span>), (<span class="number">15</span>, <span class="number">1</span>)], [(<span class="number">5</span>, <span class="number">1</span>), (<span class="number">13</span>, <span class="number">1</span>), (<span class="number">15</span>, <span class="number">1</span>), (<span class="number">16</span>, <span class="number">1</span>), (<span class="number">17</span>, <span class="number">1</span>), (<span class="number">18</span>, <span class="number">1</span>)], [(<span class="number">4</span>, <span class="number">1</span>), (<span class="number">9</span>, <span class="number">1</span>), (<span class="number">13</span>, <span class="number">2</span>), (<span class="number">16</span>, <span class="number">1</span>), (<span class="number">19</span>, <span class="number">1</span>), (<span class="number">20</span>, <span class="number">1</span>), (<span class="number">21</span>, <span class="number">1</span>)], [(<span class="number">9</span>, <span class="number">1</span>), (<span class="number">11</span>, <span class="number">1</span>), (<span class="number">14</span>, <span class="number">1</span>), (<span class="number">15</span>, <span class="number">1</span>), (<span class="number">22</span>, <span class="number">1</span>), (<span class="number">23</span>, <span class="number">1</span>), (<span class="number">24</span>, <span class="number">1</span>), (<span class="number">25</span>, <span class="number">1</span>), (<span class="number">26</span>, <span class="number">1</span>)], [(<span class="number">9</span>, <span class="number">1</span>), (<span class="number">18</span>, <span class="number">1</span>), (<span class="number">27</span>, <span class="number">1</span>), (<span class="number">28</span>, <span class="number">1</span>), (<span class="number">29</span>, <span class="number">1</span>), (<span class="number">30</span>, <span class="number">1</span>), (<span class="number">31</span>, <span class="number">1</span>)], [(<span class="number">9</span>, <span class="number">1</span>), (<span class="number">18</span>, <span class="number">1</span>), (<span class="number">30</span>, <span class="number">1</span>), (<span class="number">32</span>, <span class="number">1</span>), (<span class="number">33</span>, <span class="number">1</span>), (<span class="number">34</span>, <span class="number">1</span>), (<span class="number">35</span>, <span class="number">1</span>)], [(<span class="number">9</span>, <span class="number">1</span>), (<span class="number">19</span>, <span class="number">1</span>), (<span class="number">30</span>, <span class="number">1</span>), (<span class="number">32</span>, <span class="number">1</span>), (<span class="number">36</span>, <span class="number">1</span>), (<span class="number">37</span>, <span class="number">1</span>), (<span class="number">38</span>, <span class="number">1</span>), (<span class="number">39</span>, <span class="number">1</span>), (<span class="number">40</span>, <span class="number">1</span>), (<span class="number">41</span>, <span class="number">1</span>)], [(<span class="number">8</span>, <span class="number">1</span>), (<span class="number">12</span>, <span class="number">1</span>), (<span class="number">32</span>, <span class="number">1</span>), (<span class="number">37</span>, <span class="number">1</span>)]]</div></pre></td></tr></table></figure>
<p>这里的每一个数组代表一篇文章, 数组里的一个元组表示这个文章中一个词典下标和数量的对应关系,如第1个数组中(0,1)表示在第一篇文章中出现’abc’(词典中abc对应的下标为0)的次数为1, 我们看一下第一篇文章:”Human machine interface for lab abc computer applications applications”, 确实有出现一个abc,但是位置并不是第一位,也就是说这种corpus表示方法并不会在意文章中词的排列顺序,这是显而易见的.</p>
<h3 id="转换文章"><a href="#转换文章" class="headerlink" title="转换文章"></a>转换文章</h3><p>接下来要把我们要查询的文章也转换成相同的corpus表示形式, 这时候要基于文档集的词典</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">GensimTest</span><span class="params">(object)</span>:</span></div><div class="line">	    <span class="function"><span class="keyword">def</span> <span class="title">get_vec</span><span class="params">(self, document)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        根据当前的语料库将文章生成新的向量表示</div><div class="line">        :param document:</div><div class="line">        :return:</div><div class="line">        """</div><div class="line">        text = [word <span class="keyword">for</span> word <span class="keyword">in</span> document.lower().split()]</div><div class="line"></div><div class="line">        <span class="comment"># 生成文档集</span></div><div class="line">        vec = self.dictionary.doc2bow(text)</div><div class="line">        print(vec)</div><div class="line">        <span class="keyword">return</span> vec</div></pre></td></tr></table></figure>
<p>.main</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">test_vec = manager.get_vec(test_document)</div></pre></td></tr></table></figure>
<p>结果:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[(<span class="number">0</span>, <span class="number">1</span>), (<span class="number">4</span>, <span class="number">1</span>), (<span class="number">5</span>, <span class="number">1</span>), (<span class="number">7</span>, <span class="number">1</span>), (<span class="number">12</span>, <span class="number">1</span>)]</div></pre></td></tr></table></figure>
<p>现在我们要搜索的文章也转换成了相同的表达形式,接下来要利用TF-IDF来计算我们的相似度了</p>
<h3 id="检测相似度"><a href="#检测相似度" class="headerlink" title="检测相似度"></a>检测相似度</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">tf_idf</span><span class="params">(self, doc_bow)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    根据此类的文档集来检测文档相似度</div><div class="line">    :param doc_bow:</div><div class="line">    :return:</div><div class="line">    """</div><div class="line">    <span class="comment"># initialize a model</span></div><div class="line">    tfidf = models.TfidfModel(self.corpus)  <span class="comment"># 初始化tf-idf模型, corpus 作为语料库</span></div><div class="line"></div><div class="line">    <span class="comment"># 使用tfidf模型将自身的词库转换成tf-idf表示</span></div><div class="line">    corpus_tfidf = tfidf[self.corpus]</div><div class="line">    <span class="keyword">for</span> doc <span class="keyword">in</span> corpus_tfidf:</div><div class="line">        print(doc)</div><div class="line"></div><div class="line">    <span class="comment"># 使用模型tfidf，将doc_bow(由词,词频)表示转换成(词,tfidf)表示</span></div><div class="line">    print(tfidf[doc_bow])</div><div class="line"></div><div class="line">    <span class="comment"># 检查和每个文档的相似度</span></div><div class="line">    index = similarities.SparseMatrixSimilarity(tfidf[self.corpus], num_features=len(self.dictionary))</div><div class="line">    sims = index[doc_bow]</div><div class="line"></div><div class="line">    print(sims)</div></pre></td></tr></table></figure>
<ul>
<li>main</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">manager.tf_idf(test_vec)</div></pre></td></tr></table></figure>
<p>首先要利用models.TfidfModel和我们已有的语料库来初始化TF-IDF模型, 作为后面的使用.</p>
<blockquote>
<p>这里也可以阅读源码发现可以指定dictionary参数为词典,此时会忽略corpus, 具体原因还需要研究</p>
</blockquote>
<p>初始化模型会计算逆文档频率等等</p>
<p>接着用tfidf[self.corpus]可以所有文章都转换成TF-IDF表示</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">[(<span class="number">0</span>, <span class="number">0.3260640645717635</span>), (<span class="number">1</span>, <span class="number">0.652128129143527</span>), (<span class="number">2</span>, <span class="number">0.22320230461737825</span>), (<span class="number">3</span>, <span class="number">0.3260640645717635</span>), (<span class="number">4</span>, <span class="number">0.22320230461737825</span>), (<span class="number">5</span>, <span class="number">0.22320230461737825</span>), (<span class="number">6</span>, <span class="number">0.3260640645717635</span>), (<span class="number">7</span>, <span class="number">0.3260640645717635</span>)]</div><div class="line">[(<span class="number">2</span>, <span class="number">0.3431629039936792</span>), (<span class="number">8</span>, <span class="number">0.3431629039936792</span>), (<span class="number">9</span>, <span class="number">0.1850178511620907</span>), (<span class="number">10</span>, <span class="number">0.5013079568252677</span>), (<span class="number">11</span>, <span class="number">0.3431629039936792</span>), (<span class="number">12</span>, <span class="number">0.3431629039936792</span>), (<span class="number">13</span>, <span class="number">0.25065397841263387</span>), (<span class="number">14</span>, <span class="number">0.3431629039936792</span>), (<span class="number">15</span>, <span class="number">0.25065397841263387</span>)]</div><div class="line">[(<span class="number">5</span>, <span class="number">0.41758763104062496</span>), (<span class="number">13</span>, <span class="number">0.30501548925628524</span>), (<span class="number">15</span>, <span class="number">0.30501548925628524</span>), (<span class="number">16</span>, <span class="number">0.41758763104062496</span>), (<span class="number">17</span>, <span class="number">0.6100309785125705</span>), (<span class="number">18</span>, <span class="number">0.30501548925628524</span>)]</div><div class="line">[(<span class="number">4</span>, <span class="number">0.3248726433615307</span>), (<span class="number">9</span>, <span class="number">0.08757828669209215</span>), (<span class="number">13</span>, <span class="number">0.4745887133388771</span>), (<span class="number">16</span>, <span class="number">0.3248726433615307</span>), (<span class="number">19</span>, <span class="number">0.3248726433615307</span>), (<span class="number">20</span>, <span class="number">0.4745887133388771</span>), (<span class="number">21</span>, <span class="number">0.4745887133388771</span>)]</div><div class="line">[(<span class="number">9</span>, <span class="number">0.07398452919469625</span>), (<span class="number">11</span>, <span class="number">0.27444644643304716</span>), (<span class="number">14</span>, <span class="number">0.27444644643304716</span>), (<span class="number">15</span>, <span class="number">0.20046191723835088</span>), (<span class="number">22</span>, <span class="number">0.40092383447670177</span>), (<span class="number">23</span>, <span class="number">0.40092383447670177</span>), (<span class="number">24</span>, <span class="number">0.40092383447670177</span>), (<span class="number">25</span>, <span class="number">0.40092383447670177</span>), (<span class="number">26</span>, <span class="number">0.40092383447670177</span>)]</div><div class="line">[(<span class="number">9</span>, <span class="number">0.08666340187847339</span>), (<span class="number">18</span>, <span class="number">0.23481546593665256</span>), (<span class="number">27</span>, <span class="number">0.4696309318733051</span>), (<span class="number">28</span>, <span class="number">0.4696309318733051</span>), (<span class="number">29</span>, <span class="number">0.4696309318733051</span>), (<span class="number">30</span>, <span class="number">0.23481546593665256</span>), (<span class="number">31</span>, <span class="number">0.4696309318733051</span>)]</div><div class="line">[(<span class="number">9</span>, <span class="number">0.09486377910307431</span>), (<span class="number">18</span>, <span class="number">0.25703448062005</span>), (<span class="number">30</span>, <span class="number">0.25703448062005</span>), (<span class="number">32</span>, <span class="number">0.25703448062005</span>), (<span class="number">33</span>, <span class="number">0.5140689612401</span>), (<span class="number">34</span>, <span class="number">0.5140689612401</span>), (<span class="number">35</span>, <span class="number">0.5140689612401</span>)]</div><div class="line">[(<span class="number">9</span>, <span class="number">0.07254134860864744</span>), (<span class="number">19</span>, <span class="number">0.26909295175363984</span>), (<span class="number">30</span>, <span class="number">0.1965516031449924</span>), (<span class="number">32</span>, <span class="number">0.1965516031449924</span>), (<span class="number">36</span>, <span class="number">0.3931032062899848</span>), (<span class="number">37</span>, <span class="number">0.26909295175363984</span>), (<span class="number">38</span>, <span class="number">0.3931032062899848</span>), (<span class="number">39</span>, <span class="number">0.3931032062899848</span>), (<span class="number">40</span>, <span class="number">0.3931032062899848</span>), (<span class="number">41</span>, <span class="number">0.3931032062899848</span>)]</div><div class="line">[(<span class="number">8</span>, <span class="number">0.5319813250092166</span>), (<span class="number">12</span>, <span class="number">0.5319813250092166</span>), (<span class="number">32</span>, <span class="number">0.38857124124710346</span>), (<span class="number">37</span>, <span class="number">0.5319813250092166</span>)]</div><div class="line">[(<span class="number">0</span>, <span class="number">0.5418669471286024</span>), (<span class="number">4</span>, <span class="number">0.37092695741841886</span>), (<span class="number">5</span>, <span class="number">0.37092695741841886</span>), (<span class="number">7</span>, <span class="number">0.5418669471286024</span>), (<span class="number">12</span>, <span class="number">0.37092695741841886</span>)]</div></pre></td></tr></table></figure>
<p>前面是词对应词典的下标, 后面是TF-IDF值</p>
<p>用tfidf[doc_bow]则是得到测试文章的TF-IDF表示</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">index = similarities.SparseMatrixSimilarity(tfidf[self.corpus], num_features=len(self.dictionary))</div><div class="line">sims = index[doc_bow]</div></pre></td></tr></table></figure>
<p>剩下这两行代码即是计算相似度, 先将所有文章的<strong>TF-IDF表示</strong>作为参数调用稀疏向量相似性计算函数similarities.SparseMatrixSimilarity(), 以<strong>词典的大小</strong>作为<strong>num_features</strong>,这个参数是必须的.</p>
<p>index[doc_bow]即计算doc_bow这个corpus 和所有corpus的相似程度</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[<span class="number">0.49127877</span> <span class="number">0.1534671</span>  <span class="number">0.18675087</span> <span class="number">0.14528745</span> <span class="number">0.</span>         <span class="number">0.</span></div><div class="line"> <span class="number">0.</span>         <span class="number">0.</span>         <span class="number">0.23790929</span>]</div></pre></td></tr></table></figure>
<p>数字长度为9, 对应测试文章和9篇文章的相似度, 可以看到测试文章和第一篇文章的相似度最高,为0.49.和实际观察一样,可以说初步得到了正确的应用.</p>
]]></content>
      
        
        <tags>
            
            <tag> NLP </tag>
            
            <tag> 技术 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[自然语言处理之TF-IDF算法基础篇]]></title>
      <url>http://blog.acring.me/2018/01/29/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86%E4%B9%8BTF-IDF%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E7%AF%87/</url>
      <content type="html"><![CDATA[<h1 id="自然语言处理之TF-IDF算法基础篇"><a href="#自然语言处理之TF-IDF算法基础篇" class="headerlink" title="自然语言处理之TF-IDF算法基础篇"></a>自然语言处理之TF-IDF算法基础篇</h1><p>参考文档:</p>
<p><a href="http://www.ruanyifeng.com/blog/2013/03/tf-idf.html" target="_blank" rel="external">TF-IDF与余弦相似性的应用（一）：自动提取关键词</a></p>
<h2 id="TF-IDF的目的"><a href="#TF-IDF的目的" class="headerlink" title="TF-IDF的目的"></a>TF-IDF的目的</h2><ol>
<li>有一篇很长的文章,要用计算机去提取关键词,来概括这篇文章, 这个问题涉及到数据挖掘,文本处理,信息检索等很多计算机前沿领域, 实际上用TF-IDF这个很简单的算法就能达到, 甚至不需要高等数学的知识</li>
<li>从一个文章找到相似的文章,即文章关键词接近的文章, 做智能推荐</li>
</ol>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>TF-IDF的全称为 Term Frequency - Inverse Document Frequency(词频-逆文档频率)</p>
<p>从名字就能看出来这个算法的关键点就是两个:<code>词频</code>, <code>逆文档频率</code></p>
<h3 id="词频"><a href="#词频" class="headerlink" title="词频"></a>词频</h3><p>首先我们针对一篇文章把所有的词语的频率都统计出来, 很容易想到,如果一个词语出现的频率很大,那么很大概率是这篇文章的关键词,但是一篇文章中可能出现比较多的是—“的”,”是”,”在”这样词,这些词又叫做停用词,是需要提前从文档中过滤的词语,假设这些词语都过滤掉之后,剩下的都是有意义的词语,这时候我们就可以统计出他们的<code>词频</code>了</p>
<h3 id="逆文档频率"><a href="#逆文档频率" class="headerlink" title="逆文档频率"></a>逆文档频率</h3><blockquote>
<p>停用词去掉了,词频有了,那是不是就能够直接取词频最多的为关键词呢, 依然还是不行,因为在语言中会有一些比较常用的有意义的词语, 比如说”中国”, “我”, “人们”, 如果说如果说一篇介绍苹果的文章,那么”中国”, “人们”这些词的词频可能和”苹果”的词频差不多,这时候就要用到逆文档频率了</p>
</blockquote>
<p>如果某个词比较少见,但是它在一篇文章中出现的次数却比较多,那么这个词就很可能是这篇文章的关键词了.依据这个思想,我们需要给每个词分配一个重要性的权重,这个重要性的权重需要通过统计更大的语料库(比如全网文章)得出, 在全集文档中出现较多的词给予最小的权重(比如中国,人们,我), 较少见的词给予较大的权重, 这个权重就叫做<code>逆文档频率</code></p>
<blockquote>
<p>词频是从你想要获取关键词的文章中统计的,逆文档频率是从更大的语料库统计的</p>
</blockquote>
<h3 id="TF-IDF"><a href="#TF-IDF" class="headerlink" title="TF-IDF"></a>TF-IDF</h3><p>词频和逆文档频率都知道了,TF-IDF就是两个值的乘积了, 某个词对于文章的重要性越高,则它的TF-IDF值越大, 所以TF-IDF排在前面的几个词就是这篇文章的关键词了.</p>
<h2 id="TF-IDF计算流程"><a href="#TF-IDF计算流程" class="headerlink" title="TF-IDF计算流程"></a>TF-IDF计算流程</h2><p>再从数学的角度描述这个过程</p>
<p>$$  TF =\frac {某个词在文章中出现次数}{文章的总词数} $$ 或者 $$TF = \frac{某个词在文章中出现的次数}{出现次数最多的词的出现次数}$$</p>
<p>$$IDF=log\frac{语料库的文档总数}{包含该词的文档数+1} $$</p>
<p>$$ TF-IDF = TF * IDF$$</p>
<blockquote>
<p>除了自动提取关键词，TF-IDF算法还可以用于许多别的地方。比如，信息检索时，对于每个文档，都可以分别计算一组搜索词（”中国”、”蜜蜂”、”养殖”）的TF-IDF，将它们相加，就可以得到整个文档的TF-IDF。这个值最高的文档就是与搜索词最相关的文档。</p>
<p>TF-IDF算法的优点是简单快速，结果比较符合实际情况。缺点是，单纯以”词频”衡量一个词的重要性，不够全面，有时重要的词可能出现次数并不多。而且，这种算法无法体现词的位置信息，出现位置靠前的词与出现位置靠后的词，都被视为重要性相同，这是不正确的。（一种解决方法是，对全文的第一段和每一段的第一句话，给予较大的权重。）</p>
</blockquote>
<p>计算出一个文章每个词的TF-IDF就能的得到这个文章的关键词了,是不是很简单又很实用呢.</p>
<h2 id="找出相似文章"><a href="#找出相似文章" class="headerlink" title="找出相似文章"></a>找出相似文章</h2><p>找出一篇相似的文章需要通过余弦相似性来求解</p>
<h3 id="余弦相似性"><a href="#余弦相似性" class="headerlink" title="余弦相似性"></a>余弦相似性</h3><p>以二维空间举例</p>
<p>空间中有两条线段, 都是从原点出发, 指向不同的方向.两个线段之间形成一个夹角,如果夹角为0则说明两个向量重合且方向一致. 如果夹角为90°, 说明夹角垂直, 如果夹角为180, 意味着方向正好相反.<strong>因此我们可以通过夹角的大小来判断两个向量的相似程度, 夹角越小说明越相似.</strong></p>
<p>余弦定理中可知:</p>
<p>$cosθ=\frac{a^2+b^2-c^2}{2ab}$</p>
<p>而如果a是向量[x1,y1],b向量是[x2,y2], 那么可以将余弦定理改写成</p>
<p>$$ cosθ=\frac{x_1x_2+y_1y_2}{\sqrt{x_1^2+y_1^2}*\sqrt{x_2^2+y_2^2}}$$</p>
<p>如果推广到多维向量</p>
<p>若:$A=[A_1, A_2, …,A_n] $, $B=[B_1, B_2, …, B_n]$</p>
<p>则:</p>
<p>$$ cosθ=\frac{\sum_{i=1}^n(A_i <em> B<em>i)}{\sqrt{\sum</em>{i=1}^n(A_i)^2}</em>\sqrt{\sum_{i=1}^n(B_i)^2}} $$</p>
<p><strong>余弦值越接近1，就表明夹角越接近0度，也就是两个向量越相似，这就叫”余弦相似性”</strong></p>
<p>也就是说我们要把文章转化成多维向量的形式去计算,这也很简单,把一篇文章所有词语的TF-IDF值作为向量维度的值</p>
<p>假如两篇文章的词的TF-IDF值分布如下:</p>
<ol>
<li>[{中国: 0.25}, {养殖: 0.75}, {青蛙: 0.95}, {改变: 0.65} ]</li>
<li>[{中国: 0.24}, {狗: 0.77}, {国家: 0.33}, {青蛙: 0.90}]</li>
</ol>
<p>我们可以统计出现的词汇</p>
<blockquote>
<p>中国, 养殖, 青蛙, 改变, 狗, 国家</p>
</blockquote>
<p>那么文章一的向量就可以表示为[0.25, 0.75, 0.95, 0.65, 0, 0], 文章二的向量表示为[0.24, 0, 0.90, 0, 0.77, 0.33]</p>
<p>代入上面的向量公式就能算出来两个文章的相似度了.</p>
]]></content>
      
        
        <tags>
            
            <tag> NLP </tag>
            
            <tag> 算法 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Word2Vec学习笔记之应用篇(Python)]]></title>
      <url>http://blog.acring.me/2018/01/27/Word2Vec%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B9%8B%E5%BA%94%E7%94%A8%E7%AF%87(Python)/</url>
      <content type="html"><![CDATA[<h1 id="Word2Vec学习笔记之应用篇-Python"><a href="#Word2Vec学习笔记之应用篇-Python" class="headerlink" title="Word2Vec学习笔记之应用篇(Python)"></a>Word2Vec学习笔记之应用篇(Python)</h1><p>笔记参考:</p>
<p><a href="http://blog.csdn.net/u014595019/article/details/52218249" target="_blank" rel="external">gensim使用方法以及例子</a></p>
<p><a href="https://rare-technologies.com/word2vec-tutorial/" target="_blank" rel="external">Word2vec Tutorial</a></p>
<p><a href="https://radimrehurek.com/gensim/models/word2vec.html" target="_blank" rel="external">models.word2vec – Deep learning with word2vec</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/24961011" target="_blank" rel="external">基于 Gensim 的 Word2Vec 实践</a></p>
<h1 id="gensim模块"><a href="#gensim模块" class="headerlink" title="gensim模块"></a>gensim模块</h1><blockquote>
<p>gensim是一个python的自然语言处理库，能够将文档根据TF-IDF, LDA, LSI 等模型转化成向量模式，以便进行进一步的处理。此外，gensim还实现了word2vec功能，能够将单词转化为词向量。</p>
</blockquote>
<p><strong>gensim是针对自然语言处理的库,本文较多的是对其中word2vec模块的是使用,其他方面还有待探索</strong></p>
<p>对word2vec的实现最开始是google开源的C代码,后来有人也陆续开发了其他语言下的实现,不过大部分没有实现所有的功能,如下表</p>
<table>
<thead>
<tr>
<th>版本</th>
<th>地址</th>
<th>CBOW</th>
<th>CBOW</th>
<th>Skip-Gram</th>
<th>Skip-Gram</th>
</tr>
</thead>
<tbody>
<tr>
<td>C</td>
<td><a href="http://word2vec.googlecode.com/svn/trunk/" target="_blank" rel="external">http://word2vec.googlecode.com/svn/trunk/</a></td>
<td>HS</td>
<td>NEG</td>
<td>HS</td>
<td>NEG</td>
</tr>
<tr>
<td>python</td>
<td><a href="http://radimrehurek.com/gensim/" target="_blank" rel="external">http://radimrehurek.com/gensim/</a></td>
<td></td>
<td></td>
<td>HS</td>
<td></td>
</tr>
<tr>
<td>Java</td>
<td><a href="https://github.com/ansjsun/Word2VEC_java" target="_blank" rel="external">https://github.com/ansjsun/Word2VEC_java</a></td>
<td>HS</td>
<td></td>
<td>HS</td>
<td></td>
</tr>
<tr>
<td>C++</td>
<td><a href="https://github.com/jdeng/word2vec" target="_blank" rel="external">https://github.com/jdeng/word2vec</a></td>
<td>未知</td>
<td>未知</td>
<td>未知</td>
<td>未知</td>
</tr>
</tbody>
</table>
<h2 id="模块安装"><a href="#模块安装" class="headerlink" title="模块安装"></a>模块安装</h2><p>首先得安装python和pip包管理工具</p>
<p>安装gensim比较简单了,用 <code>pip install --upgrade gensim</code>一键安装</p>
<h2 id="语料库获取"><a href="#语料库获取" class="headerlink" title="语料库获取"></a>语料库获取</h2><p>自然语言处理的第一步必须获取相应的语料库, 可以去网上自己找,这里我找到其他人处理好的一份语料</p>
<p><a href="http://pan.baidu.com/s/1jHZCvvo" target="_blank" rel="external">wiki_chinese_preprocessed.simplied.txt</a></p>
<p><strong>这份语料是处理好的,不需要进行分词处理了</strong></p>
<h2 id="语料库处理"><a href="#语料库处理" class="headerlink" title="语料库处理"></a>语料库处理</h2><p>如果获取的是比较初始的语料一般是要做处理的,针对中文和英文的处理是不同的</p>
<p>英文(西方语言）语言的基本单位就是单词，所以分词特别容易做，只需要3步：</p>
<ol>
<li>根据空格/符号/段落 分隔,得到单词组</li>
<li>过滤，排除掉stop word</li>
<li>提取词干</li>
</ol>
<p>中文没有空格,需要将词语划分出来一般要用到一些分词算法,或者用现成的工具比如<a href="https://github.com/fxsjy/jieba" target="_blank" rel="external">结巴分词</a>,是基于Python的分词工具</p>
<h2 id="训练Word2Vec模型"><a href="#训练Word2Vec模型" class="headerlink" title="训练Word2Vec模型"></a>训练Word2Vec模型</h2><h3 id="引入相应模块"><a href="#引入相应模块" class="headerlink" title="引入相应模块"></a>引入相应模块</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> gensim <span class="keyword">import</span> models</div></pre></td></tr></table></figure>
<h3 id="语料库迭代器"><a href="#语料库迭代器" class="headerlink" title="语料库迭代器"></a>语料库迭代器</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">CorpusIterator</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    语料库迭代器</div><div class="line">    打开语料库并逐行返回数据给Word2Vec</div><div class="line">    """</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, path)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :param path: 文件地址</div><div class="line">        """</div><div class="line">        self.path = path</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        迭代器</div><div class="line">        :return: 返回每行的分词</div><div class="line">        """</div><div class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> open(self.path, mode=<span class="string">"r"</span>, encoding=<span class="string">"utf-8"</span>):</div><div class="line">            <span class="keyword">yield</span> line.split(<span class="string">" "</span>)  <span class="comment"># 返回一个词语数组</span></div></pre></td></tr></table></figure>
<p>主要是用来打开并逐行返回语料给word2vec训练机</p>
<h3 id="管理类"><a href="#管理类" class="headerlink" title="管理类"></a>管理类</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Manager</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line"></div><div class="line">    """</div><div class="line">    min_count = <span class="number">100</span>  <span class="comment"># 最小记数</span></div><div class="line">    size = <span class="number">100</span>  <span class="comment"># 向量维度</span></div><div class="line">    window = <span class="number">5</span>  <span class="comment"># 窗口大小</span></div><div class="line">    model = <span class="keyword">None</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, corpus_name, result_name, retrain=True)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :param corpus_name: 语料库地址</div><div class="line">        :param result_name: 训练模型地址</div><div class="line">        :param retrain: 是否允许多次训练</div><div class="line">        """</div><div class="line">        self.corpus_name = corpus_name</div><div class="line">        self.result_name = result_name</div><div class="line">        self.retrain = retrain</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">load_model</span><span class="params">(self, name=None)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        加载模型</div><div class="line">        :return:</div><div class="line">        """</div><div class="line">        <span class="keyword">if</span> name:</div><div class="line">            self.result_name = name</div><div class="line"></div><div class="line">        <span class="keyword">try</span>:</div><div class="line">            self.model = models.Word2Vec.load(self.result_name)</div><div class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</div><div class="line">            logging.error(<span class="string">"加载模型失败:"</span>, e)</div><div class="line">            <span class="keyword">return</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">train_model</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        训练模型</div><div class="line">        :return:</div><div class="line">        """</div><div class="line">        sentence = CorpusIterator(self.corpus_name)</div><div class="line"></div><div class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(self.result_name):</div><div class="line">            model = models.Word2Vec(sentence, min_count=self.min_count, size=self.size, window=self.window)</div><div class="line">        <span class="keyword">elif</span> self.retrain:</div><div class="line">            logging.info(<span class="string">"模型已存在, 再次训练"</span>)</div><div class="line">            model = models.Word2Vec.load(self.result_name)</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            logging.error(<span class="string">"模型存在,禁止再次训练"</span>)</div><div class="line">            <span class="keyword">return</span></div><div class="line"></div><div class="line">        model.train(sentence, total_examples=model.corpus_count, epochs=model.iter)</div><div class="line">        model.save(self.result_name)</div><div class="line"></div><div class="line">        self.model = model</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_model</span><span class="params">(self, function)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        测试模型</div><div class="line">        :param function 测试函数(model)传入训练模型</div><div class="line">        :return:</div><div class="line">        """</div><div class="line"></div><div class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.model:</div><div class="line">            logging.ERROR(<span class="string">"模型未加载或未训练"</span>)</div><div class="line">            <span class="keyword">return</span></div><div class="line">        <span class="keyword">if</span> <span class="keyword">not</span> hasattr(function, <span class="string">"__call__"</span>):</div><div class="line">            logging.ERROR(<span class="string">"未传入测试函数"</span>)</div><div class="line">        function(self.model)</div></pre></td></tr></table></figure>
<p>管理类的初始化函数<code>__init__</code>是获取这个语料文件的位置以及训练模型的地址,还有是否<strong>可重复训练</strong>, 当可以重复训练时会将已经训练好的模型再次加载并训练,反之,不能对已经生成的训练模型进行再次训练</p>
<p>load_model就是简单的加载模型</p>
<p>train_model是比较关键的,用来训练模型,这里涉及到几个参数</p>
<ul>
<li>min_count 最小记数值,当某个单词的总数少于这个数值时将不会被统计</li>
</ul>
<blockquote>
<p>min_count是用来修剪内部字典树的。在一个数以亿计的预料中出现一到两次的单词非常有可能是噪音或不需要被关注的。另外，也没有足够的数据对他们进行有意义的训练。因此，最好的办法就是直接将他们忽略掉。</p>
</blockquote>
<ul>
<li>size 向量维度,神经网络NN层单元,对应了训练算法的自由程度</li>
</ul>
<blockquote>
<p>更大的 <code>size</code> 值需要更多的训练数据，但也同时可以得到更准确的模型。合理的取值范围是几十到几百。</p>
</blockquote>
<ul>
<li>window 窗口大小, 是词向量训练时的上下文扫描窗口大小，窗口为5就是考虑前5个词和后5个词； </li>
</ul>
<h3 id="测试函数及主函数"><a href="#测试函数及主函数" class="headerlink" title="测试函数及主函数"></a>测试函数及主函数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">test_1</span><span class="params">(model)</span>:</span></div><div class="line">    t1, t2 = <span class="string">'man'</span>, <span class="string">'woman'</span>  <span class="comment"># 测试两个词的相似度</span></div><div class="line">    print(t1+<span class="string">"和"</span>+t2+<span class="string">"的相似度为:"</span>+str(model.wv.similarity(t1, t2)))</div><div class="line"></div><div class="line">    t3, t4 = <span class="string">'china'</span>, <span class="string">'taiwan'</span></div><div class="line">    print(t3+<span class="string">"和"</span>+t4+<span class="string">"的相似度为:"</span>+str(model.wv.similarity(t3, t4)))</div><div class="line"></div><div class="line">    t5 = <span class="string">'like'</span>  <span class="comment"># 测试和某个词最相近的词</span></div><div class="line">    print(<span class="string">"和"</span>+t5+<span class="string">"相似度高的词语有:"</span>)</div><div class="line">    <span class="keyword">for</span> vac <span class="keyword">in</span> model.wv.most_similar(t5):</div><div class="line">        print(vac[<span class="number">0</span>], end=<span class="string">" "</span>)</div><div class="line">    print(<span class="string">'\n'</span>)</div><div class="line"></div><div class="line">    t6 = [<span class="string">'breakfast'</span>, <span class="string">'lunch'</span>, <span class="string">'dinner'</span>, <span class="string">'cat'</span>]  <span class="comment"># 找出最不相似的词语</span></div><div class="line">    print(<span class="string">"在下列词语中最无关的是"</span>, end=<span class="string">"\n"</span>)</div><div class="line">    <span class="keyword">for</span> vac <span class="keyword">in</span> t6:</div><div class="line">        print(vac, end=<span class="string">" "</span>)</div><div class="line">    print(<span class="string">" -&gt; "</span> + model.wv.doesnt_match(t6))</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">test_2</span><span class="params">(model)</span>:</span></div><div class="line">    t1, t2 = <span class="string">'干净'</span>, <span class="string">'整洁'</span>  <span class="comment"># 测试两个词的相似度</span></div><div class="line">    print(t1+<span class="string">"和"</span>+t2+<span class="string">"的相似度为:"</span>+str(model.wv.similarity(t1, t2)))</div><div class="line"></div><div class="line">    t3, t4 = <span class="string">'中国'</span>, <span class="string">'日本'</span></div><div class="line">    print(t3+<span class="string">"和"</span>+t4+<span class="string">"的相似度为:"</span>+str(model.wv.similarity(t3, t4)))</div><div class="line"></div><div class="line">    t5 = <span class="string">'喜欢'</span>  <span class="comment"># 测试和某个词最相近的词</span></div><div class="line">    print(<span class="string">"和`"</span>+t5+<span class="string">"`相似度高的词语有:"</span>)</div><div class="line">    <span class="keyword">for</span> vac <span class="keyword">in</span> model.wv.most_similar(t5):</div><div class="line">        print(vac[<span class="number">0</span>], end=<span class="string">" "</span>)</div><div class="line">    print(<span class="string">'\n'</span>)</div><div class="line"></div><div class="line">    t6 = [<span class="string">'喜欢'</span>, <span class="string">'害怕'</span>, <span class="string">'可爱'</span>, <span class="string">'汽车'</span>]  <span class="comment"># 找出最不相似的词语</span></div><div class="line">    print(<span class="string">"在下列词语中最无关的是"</span>, end=<span class="string">"\n"</span>)</div><div class="line">    <span class="keyword">for</span> vac <span class="keyword">in</span> t6:</div><div class="line">        print(vac, end=<span class="string">" "</span>)</div><div class="line">    print(<span class="string">" -&gt; "</span> + model.wv.doesnt_match(t6))</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line"></div><div class="line">    logging.basicConfig(format=<span class="string">"%(asctime)s : %(levelname)s : %(message)s"</span>, level=logging.INFO)  <span class="comment"># 显示INFO等级以上日志</span></div><div class="line"></div><div class="line">    manager = Manager(corpus_name=<span class="string">"wiki_chinese_preprocessed.simplied.txt"</span>, result_name=<span class="string">"train.model"</span>, retrain=<span class="keyword">False</span>)</div><div class="line"></div><div class="line">    manager.load_model()</div><div class="line"></div><div class="line">    manager.test_model(test_1)</div></pre></td></tr></table></figure>
<h3 id="训练过程"><a href="#训练过程" class="headerlink" title="训练过程"></a>训练过程</h3><p><img src="http://upload-images.jianshu.io/upload_images/3026741-806c1d9a8163094e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h3 id="训练结果"><a href="#训练结果" class="headerlink" title="训练结果"></a>训练结果</h3><ul>
<li>test_1</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">man和woman的相似度为:0.6407252643380771</div><div class="line">china和taiwan的相似度为:0.6611304262465649</div><div class="line">和like相似度高的词语有:</div><div class="line">moves loves damn makes stronger it feels that loved doesn </div><div class="line"></div><div class="line">在下列词语中最无关的是</div><div class="line">breakfast lunch dinner cat  -&gt; cat</div></pre></td></tr></table></figure>
<ul>
<li>test_2</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">干净和整洁的相似度为:0.7134517184268264</div><div class="line">中国和日本的相似度为:0.4870057569015213</div><div class="line">和`喜欢`相似度高的词语有:</div><div class="line">讨厌 可爱 在意 害羞 调皮 瞧不起 迷恋 贪吃 介意 擅长 </div><div class="line"></div><div class="line">在下列词语中最无关的是</div><div class="line">喜欢 害怕 可爱 汽车  -&gt; 汽车</div></pre></td></tr></table></figure>
<h2 id="DEMO项目地址"><a href="#DEMO项目地址" class="headerlink" title="DEMO项目地址"></a>DEMO项目地址</h2><p><a href="https://github.com/Acring/gensim-demo" target="_blank" rel="external">gensim-demo</a></p>
]]></content>
      
        
        <tags>
            
            <tag> NLP </tag>
            
            <tag> 技术 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Word2Vec学习笔记之基础篇]]></title>
      <url>http://blog.acring.me/2018/01/25/Word2Vec%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B9%8B%E5%9F%BA%E7%A1%80%E7%AF%87/</url>
      <content type="html"><![CDATA[<h1 id="Word2Vec学习笔记之基础篇"><a href="#Word2Vec学习笔记之基础篇" class="headerlink" title="Word2Vec学习笔记之基础篇"></a>Word2Vec学习笔记之基础篇</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>自然语言处理属于深度学习中的一个分支，但是相对其他分支发展一直比较缓慢，在2013年末，Google发布的word2vec工具引起了一帮人的热捧，都认为这是深度学习在自然语言领域一项了不起的应用，word2vec本身并不是特别的难，只是简单三层神经网络，但是在某种程度上说他的应用是十分有前景的。</p>
<p>Word2Vec(word to vector)是一种把词表征转化成实数值向量来区分其之间的差别的一种深度学习算法，对于训练好的模型，我们可以刻画出任意两个词语之间的相似度，用向量距离的形式。</p>
<p>学习材料:</p>
<p><a href="http://blog.csdn.net/mytestmy/article/details/26961315" target="_blank" rel="external">深度学习word2vec笔记之基础篇</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/26306795" target="_blank" rel="external">[NLP] 秒懂词向量Word2vec的本质</a></p>
<p><a href="http://techblog.youdao.com/?p=915" target="_blank" rel="external">Deep Learning实战之word2vec</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/33045371" target="_blank" rel="external">学习 Word2Vec 之前，你需要知道这些</a></p>
<hr>
<h2 id="背景知识"><a href="#背景知识" class="headerlink" title="背景知识"></a>背景知识</h2><h3 id="词向量"><a href="#词向量" class="headerlink" title="词向量"></a>词向量</h3><p>在自然语言相关的任务中，要将自然语言交给计算机处理，计算机可不认识人类的语言，所以要先将自然语言转换成计算机能懂的东西，又要在一定程度上区分出不同词语的区别，人们就想到了用向量来表示不同的词语</p>
<h4 id="one-hot-representation-向量表示法"><a href="#one-hot-representation-向量表示法" class="headerlink" title="one-hot representation 向量表示法"></a>one-hot representation 向量表示法</h4><p>人们首先想到了一种比较简单的向量表示方法是<strong>one-hot representation</strong>, 就是用一个很长的向量来表示一个词，向量的长度为词典的大小或者说不同词语的数量，比如说</p>
<p>现在有4个词语 <code>苹果</code>, <code>香蕉</code>, <code>水果</code>, <code>卡车</code>, 用one-hot representation表示法可以这样表示:</p>
<p>苹果: [1,0,0,0]</p>
<p>香蕉: [0,1,0,0]</p>
<p>水果:[0,0,1,0]</p>
<p>卡车:[0,0,0,1]</p>
<p>这种表示方式非常的简洁，也就是给每个词分配一个唯一的ID，如果要编程的话，用Hash表给每个词分配一个编号就可以了，这种方式已经能在NLP的绝大多数问题上完成需要的任务了。</p>
<p>但是这种词表示方式有两个缺点:</p>
<ol>
<li>容易受维数灾难的困扰，也就是当向量的长度过长，会导致计算变得困难(具体本人也不熟悉)</li>
<li>不能很好的刻画词与词之间的相似性(词汇鸿沟): 任意两个词之间都是孤立的，光从向量上看不出两个词之间有关系，就像上面的例子，我们并不能看出苹果和香蕉，以及水果和卡车之间有啥关系</li>
</ol>
<p>所以在这种表示方法的基础上，人们有想到了另一种表示法，也是Word2Vec中运用的向量表示法Distributed Representation</p>
<h4 id="Distributed-Representation-向量表示法"><a href="#Distributed-Representation-向量表示法" class="headerlink" title="Distributed Representation 向量表示法"></a>Distributed Representation 向量表示法</h4><p>这种向量表示方法也很简单，就是直接用一个普通的向量表示一个词，这种向量一般长这样<code>[0.795, -0.568, 0.156, 0.455, ...]</code>, 这种向量表示法的向量维度不是由词典大小决定的，一般由我们自己选定，一般50维和100维比较常见，这样的话维度不会太高，所以我们学习的Word2Vec本质上就是将one-hot representation向量表示转化成distributed representation 向量表示法.</p>
<p>经过训练的词语被转化成这种形式后，一般其向量具有空间上的意义，也就是将这些向量放在一起形成一个词向量空间，而每个向量都其中的一个点，这个空间是多维的，所以想象起来可能比较困难，但是我们其实不关心他们所在的具体位置，只要知道如何计算其中两个向量的”距离”就行了，因为所谓两个词的”距离”，表示的就是这两个词之间的语法，语义之间的相似性。</p>
<p><strong>从这里就能看出来Word2Vec的最终目的就是通过将词转换成向量,在通过向量的”距离”来观察两个词之间的相似度</strong></p>
<p>那么接下来我们看看要如何去做,这里暂时不会涉及到具体的算法知识,只是大概的过程描述</p>
<h2 id="相似词假说"><a href="#相似词假说" class="headerlink" title="相似词假说"></a>相似词假说</h2><h3 id="分布式假说"><a href="#分布式假说" class="headerlink" title="分布式假说"></a>分布式假说</h3><p>一个词由周围词来推断,相似的词会出现在相似的语境中,</p>
<h3 id="分布模型"><a href="#分布模型" class="headerlink" title="分布模型"></a>分布模型</h3><p>相似词在相似的上下文中, 例如今天天空中有很多星星,今天天空中有太阳,这两个句子中的太阳和星星就具有相似的上下文,具有纵向相似性.</p>
<p><strong>从这两个似乎很有道理的假说中就能推出我们要在意的两个语言模型-CBOW和Skip-Gram模型,他们都是Word2Vec工具中用到的模型</strong></p>
<blockquote>
<p>Word2Vec 是代码项目的名字，只是计算 word embedding 的一个工具，是 CBOW 和 Skip-Gram 这两个模型开源出来的工具。连续实值词表达也叫词嵌入 word embedding。</p>
</blockquote>
<h2 id="过程概述"><a href="#过程概述" class="headerlink" title="过程概述"></a>过程概述</h2><p>再用一个具体的例子来说明:</p>
<ul>
<li>如果在一个语料库中,吴彦祖帅到没朋友这句话经常出现,那么最终的训练结果中,[吴彦祖]这个词语会和[帅],[没朋友],这两个词的相似度非常高</li>
<li>如果在同一个语料库中,手环帅到没朋友这句话也经常出现,那么在最终的训练结果中[手环]这个词语会和[吴彦祖]的相似度也非常高.</li>
<li>我们可以推断,手环和吴彦祖一样帅</li>
</ul>
<h2 id="CBOW模型"><a href="#CBOW模型" class="headerlink" title="CBOW模型"></a>CBOW模型</h2><p>CBOW模型是利用词的上下文来预测当前的单词,比如输入[帅], [没朋友]会输出一个[手环] (或者吴彦祖)</p>
<h2 id="Skip-Gram模型"><a href="#Skip-Gram模型" class="headerlink" title="Skip-Gram模型"></a>Skip-Gram模型</h2><p>Skip-Gram模型是利用词来预测上下文,比如输入[吴彦祖],会输出[手环],[帅],[没朋友]</p>
<p>在这里不做模型的具体解析,只是额外介绍一下语言模型的大概概念,以更好的理解自然语言处理的基础问题</p>
<h2 id="统计语言模型"><a href="#统计语言模型" class="headerlink" title="统计语言模型"></a>统计语言模型</h2><h3 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h3><p>语言模型其实就是看一句话是不是正常人说出来的话.</p>
<p>比如说我们要计算一句话[吴彦祖帅到没朋友]是自然语言的概率,我们先要分词(将一个句子分成一个个词语,英文靠空格分词,中文就比较麻烦了),这句话就变成了[吴彦祖,帅,没朋友] (这里忽略掉到字比较好讲解)</p>
<p>一句话是自然语言的概率从数学上我们给出的公式是 $P(s) = P(w_1,w_2,w<em>3..w</em>{i}) = p(w_1)p(w_2|w_1)p(w_3|w_1,w_2)…p(w_i|w_1,w_2,…w_i-1)$, </p>
<p>$w_i$ 代表第i个词语</p>
<p>用上面的例子来说</p>
<p>$p(吴彦祖)$ 表示”吴彦祖”这个词在语料库中出现的概率;</p>
<p>$p(帅|吴彦祖)$ 表示”帅”这个词在”吴彦祖”后面出现的概率</p>
<p>$p(没朋友|吴彦祖,帅)$ 表示”没朋友”出现在”吴彦祖帅”后面的概率</p>
<p>最后把这几个概率乘起来就是”吴彦祖帅到没朋友”这句话出现的概率了.</p>
<p>这种方法简单直接,但是太过暴力了,计算一句话要计算这么多概率,三个词的句子要扫描3次语料库,计算三个子句出现的概率,如果语料库巨大且句子的词语数量较多的话,运算时间会出奇的慢,根本没有使用价值.</p>
<p>所以为了偷懒,我们可以用更简单的计算方式 -N-gram模型</p>
<h3 id="N-gram模型"><a href="#N-gram模型" class="headerlink" title="N-gram模型"></a>N-gram模型</h3><p>N-gram模型的核心就在这个N上, N-gram只管这个词前面的n-1个词,加上自己总共n个词,计算概率时指考虑这n个词来计算,即</p>
<p>$P(s) = P(w_1,w_2,…w<em>i) = \prod</em>{i=1}^T{P(w_i|Context_i)}= p(w<em>i| w</em>{i-n+1}, w<em>{i-n+2},…w</em>{i-1})$</p>
<p>其中，如果$Context_i$是空的话，就是它自己p(w)，另外如“没朋友”的Context就是“吴彦祖”、“帅”，其余的对号入座。</p>
<p>如果n取2则”吴彦祖帅到没朋友”就只考虑”帅”和”没朋友”之间的出现概率了</p>
<p>这里如果n取得比较小的话，就比较省事了，当然也要看到n取得太小，会特别影响效果的，有可能计算出来的那个概率很不准。怎么平衡这个效果和计算就是大牛们的事情了，据大牛们的核算，n取2效果都还凑合，n取3就相当不错了，n取4就顶不住了。看下面的一些数据，假设词表中词的个数 |V| = 20,000 词，那么有下面的一些数据。</p>
<p><img src="http://img.blog.csdn.net/20140525154453750" alt="img"></p>
<p>照图中的数据看去，取n=3是目前计算能力的上限了。在实践中用的最多的就是bigram(n=2)和trigram(n=3)了，而且效果也基本够了。</p>
<h3 id="N-pos模型"><a href="#N-pos模型" class="headerlink" title="N-pos模型"></a>N-pos模型</h3><p>N-pos模型是先将不同的词分为不同的词性(Part of Speech),之后再用上述方法计算,具体就不过多赘述了.</p>
<h3 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h3><p>在应用中有更多的方法被开发出来,比如用函数直接你和计算$p(w_i|Context_i)$ ,就是说不是根据庞大的语料库统计出来,而是直接把Context和wi代入函数计算出来,这样就不用统计那个庞大的语料库了,这就是更深入的内容了.</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>本文只是从概念上说明了Word2Vec这个工具的涉及的基础内容,NLP中常用的词向量的表示方法,还有Word2Vec中的词向量表示法,介绍了Word2Vec这个工具的思想本质-两个语言学假说,然后稍微介绍了Word2Vec中常用的两种模型的基础思想,和目的,最后简单介绍了统计语言模型中的目的,这是自然语言中的基础课题,对我们理解自然语言处理有很大的帮助</p>
<p>博主也是NLP的新手,并不能保证所述文字的正确性,只是从其他博客中提取要点加以自己的理解,请理性看待.</p>
<p>接下来是关于Word2Vec的基础应用篇,这个应该会更加有趣.</p>
]]></content>
      
        
        <tags>
            
            <tag> NLP </tag>
            
            <tag> 机器学习 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Angular2-Go极速网页开发]]></title>
      <url>http://blog.acring.me/2018/01/19/Angular2-Go%E6%9E%81%E9%80%9F%E7%BD%91%E9%A1%B5%E5%BC%80%E5%8F%91/</url>
      <content type="html"><![CDATA[<h1 id="Angular2-Go极速网页开发"><a href="#Angular2-Go极速网页开发" class="headerlink" title="Angular2-Go极速网页开发"></a>Angular2-Go极速网页开发</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p><strong>本教程纯属用最简单的例子带稍微有基础的新手了解网页开发的整体流程.</strong></p>
<h3 id="知识概述"><a href="#知识概述" class="headerlink" title="知识概述"></a>知识概述</h3><p><strong>前端</strong></p>
<ul>
<li>nodejs</li>
<li>npm包管理</li>
<li>Angular-cli搭建开发环境</li>
</ul>
<p>这里稍微解释下:</p>
<p>Angular是一种流行的前端框架，它以特定的方式来组织前端页面，交互逻辑，http服务，数据交互等，让前端开发者只需要专注于特定的业务逻辑，而不需要处理类似页面渲染，变量绑定，事件响应等问题,</p>
<p>要学好Angular框架首先要将前端的HTML，JS(TS)，CSS基本了解，之后就了解Angular中的各种组件和基本功能，这里我们不需要用到所有的功能，只用到最最基本的模块，组件，服务来实现最简单的网页开发</p>
<p><strong>后端</strong></p>
<ul>
<li>Go语言环境搭建</li>
<li>postgresql数据库环境搭建</li>
</ul>
<p>后端Go语言是为服务器搭建而生，可以十分简单的搭建出一个后台，且兼具效率和代码可读性，需要了解大概的Go语言语法和sql语法</p>
<h2 id="前端环境搭建"><a href="#前端环境搭建" class="headerlink" title="前端环境搭建"></a>前端环境搭建</h2><p>不多加赘述，环境搭建用下面的教程一般足够了，或者自己去网上查,注意是angular2,我们用cli来搭建最基本的框架(cli是官方的脚手架，能把最基本的环境搭好，我们只用在最基本的环境上工作就行了, 不用自己从零搭建)</p>
<p><a href="https://www.jianshu.com/p/f39358d5ac53" target="_blank" rel="external">使用Angular-cli搭建Angular2开发环境</a></p>
<p>Angular2可以用javascript,typescript来写，官方推荐用typescript来写，typescript是javascript的超集，结合了静态类型和动态变量类型，具有很强的灵活性的同时又解决了javascript在开发大型应用中的语言短板.</p>
<p>以下教程不会介绍详细的typescript语法,只会稍微提及，请自行学习.</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3026741-413a6b2aa2d4f25e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>稍微介绍下项目的结构</p>
<ul>
<li>node_modules</li>
</ul>
<p>提供项目各种需要需要的库,在第一次创建的时候会下载很多的库，所以每次初始化很慢的原因一般都是卡在下载上了，如果里面是空的可以执行<code>npm install</code>重新下载,一般从github上下载下来后要重新下载，因为一般不会把依赖包也上传到git上去，太大了</p>
<ul>
<li>angular-cli.json</li>
</ul>
<p>angular-cli的配置文件,知道就行</p>
<ul>
<li>style.css</li>
</ul>
<p>全局样式文件</p>
<ul>
<li>src/index.html</li>
</ul>
<p>网页主页面,angular是单页面应用，单页面即所有的页面都是基于这个index页面的.</p>
<ul>
<li>src/app</li>
</ul>
<p>这里面的文件才是所有核心,都是以文件名开头(app),表示这个模块的名字, 中间用component，表示组件，是一种习惯命名,后面是类型,包括<strong>css-样式文件</strong>,<strong>html-网页界面</strong>,<strong>spec.ts-测试文件</strong>， <strong>module.ts-模块管理文件</strong>，用来管理模块或子模块, <strong>ts-模块文件</strong>，最重要的文件</p>
<p>这样说肯定新手还是看得云里雾里的,所以我们直接开始前端的开发,废话不说了.</p>
<h2 id="从Hello-World开始"><a href="#从Hello-World开始" class="headerlink" title="从Hello World开始."></a>从Hello World开始.</h2><p>我们用cli搭建完环境之后，二话不说直接运行，运行命令是 <code>ng serve --port 6660</code>,即启动angular2服务，指定服务端口为6660，等待显示<code>webpack: Compiled successfully.</code> 后在本地浏览器输入<a href="http://localhost:6660/" target="_blank" rel="external">http://localhost:6660/</a> 查看</p>
<p>如果显示以下页面</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3026741-661a5f63f0b8fc79.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>则表示我们的环境搭建成功了,接下来就是开始自己的魔改了.如果没有请再回去好好搭建环境，好运.</p>
<h3 id="从index-html开始"><a href="#从index-html开始" class="headerlink" title="从index.html开始"></a>从index.html开始</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!doctype html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>QuickWeb<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">base</span> <span class="attr">href</span>=<span class="string">"/"</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"icon"</span> <span class="attr">type</span>=<span class="string">"image/x-icon"</span> <span class="attr">href</span>=<span class="string">"favicon.ico"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">app-root</span>&gt;</span><span class="tag">&lt;/<span class="name">app-root</span>&gt;</span><span class="comment">&lt;!--注意这一行--&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>首先,打开index.html</p>
<p>这段代码稍微看过的html的应该都能看，除了app-root，html中并没有这个标签，所以它不是给浏览器看的，而是给angular2框架用的.</p>
<p>打开src/app/app.component.ts</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; Component &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</div><div class="line"></div><div class="line"><span class="meta">@Component</span>(&#123;</div><div class="line">  selector: <span class="string">'app-root'</span>,</div><div class="line">  templateUrl: <span class="string">'./app.component.html'</span>,</div><div class="line">  styleUrls: [<span class="string">'./app.component.css'</span>]</div><div class="line">&#125;)</div><div class="line"><span class="keyword">export</span> <span class="keyword">class</span> AppComponent &#123;</div><div class="line">  title = <span class="string">'app'</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这里我们看到了熟悉的东西-&gt;<code>app-root</code></p>
<p>也就是说这个模块找到了index中的app-root标签，并对这个标签做了自己的处理，具体处理是什么呢</p>
<p>我们先来看Component里面的参数</p>
<ul>
<li>selector 用这个来筛选相应的标签</li>
<li>templateUrl 这个来指定模板网页,angular会将<app-root>标签替换成 app.component.html中的内容</app-root></li>
<li>styleUrls 这个来指定相应模板使用的css样式文件,可以有多个样式文件，所以是列表</li>
</ul>
<p>多说无益,我们打开app.component.html，代码如下</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!--The content below is only a placeholder and can be replaced.--&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"text-align:center"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span></div><div class="line">    Welcome to &#123;&#123; title &#125;&#125;!</div><div class="line">  <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">width</span>=<span class="string">"300"</span> <span class="attr">alt</span>=<span class="string">"Angular Logo"</span> <span class="attr">src</span>=<span class="string">"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg=="</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Here are some links to help you start: <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">rel</span>=<span class="string">"noopener"</span> <span class="attr">href</span>=<span class="string">"https://angular.io/tutorial"</span>&gt;</span>Tour of Heroes<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">rel</span>=<span class="string">"noopener"</span> <span class="attr">href</span>=<span class="string">"https://github.com/angular/angular-cli/wiki"</span>&gt;</span>CLI Documentation<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">rel</span>=<span class="string">"noopener"</span> <span class="attr">href</span>=<span class="string">"https://blog.angular.io/"</span>&gt;</span>Angular blog<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure>
<p>把这段代码和我们在浏览器打开的网页一对比就能知道，这就是网页中显示的内容，也是index.html最终被渲染的内容</p>
<p>也就是说Angular找到<code>app-root</code>标签后会去找selector为app-root的组件然后用相应的模板网页文件去替换app-root这个标签，然后用相应的样式文件来渲染，至少现在你可以简单地这么理解，接下来我们修改一下这个文件看看会发生什么.</p>
<h3 id="插值表达式显示数据"><a href="#插值表达式显示数据" class="headerlink" title="插值表达式显示数据"></a>插值表达式显示数据</h3><p>我们全部删除修改成如下</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span></div><div class="line">  Hello world,this is &#123;&#123;title&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div></pre></td></tr></table></figure>
<p>网页如下</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3026741-335de66d693e49f6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>注意这里的title，他被解析成了app, 因为它的两边有两个大括号 这种叫<strong>插值表达式</strong>, 他会从对应的组件中取出相应的title变量的值,回到<code>app.component.ts</code>,可以看到这里的AppComponent类中有成员变量 title = ‘app’.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> <span class="keyword">class</span> AppComponent &#123;</div><div class="line">  title = <span class="string">'app'</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>修改如下</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> <span class="keyword">class</span> AppComponent &#123;</div><div class="line">  title = <span class="string">'Acring'</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>显示如下:</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3026741-c652c2640e7eb636.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>到这里我们,已经简单的接触了angular的组件和最基本的数据交互方式-插值表达式，还很好理解吧，那么接下来要开始加速了.</p>
<h2 id="创建自己的组件并注册"><a href="#创建自己的组件并注册" class="headerlink" title="创建自己的组件并注册"></a>创建自己的组件并注册</h2><p>之前我们都是在app组件上操作的，这是最基本的组件，我们当然不能满足于此，自己创建组件，走起</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3026741-92813a82348c07cd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>在src/app目录下创建login目录并按如上架构创建文件</p>
<p>login.component.ts如下</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; Component, OnInit &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</div><div class="line"></div><div class="line"><span class="meta">@Component</span>(&#123;</div><div class="line">  selector: <span class="string">'app-login'</span>,</div><div class="line">  templateUrl: <span class="string">'./login.component.html'</span>,</div><div class="line">  styleUrls: [<span class="string">'./login.component.css'</span>]</div><div class="line">&#125;)</div><div class="line"><span class="keyword">export</span> <span class="keyword">class</span> LoginComponent <span class="keyword">implements</span> OnInit &#123;</div><div class="line"></div><div class="line">  <span class="keyword">constructor</span>(<span class="params"></span>) &#123; &#125;</div><div class="line"></div><div class="line">  ngOnInit() &#123;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这里分为两部分</p>
<ol>
<li>Component定义 像上文所述要写出selector筛选标签，templateUrl模板网页，styleUrls样式文件</li>
<li>组件类定义 constructor是类的构造函数, ngOnInit是组件的初始化函数，详情请谷歌angular组件的生命周期</li>
</ol>
<p>修改login.component.ts和login.component.html</p>
<ul>
<li>login.component.ts</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> <span class="keyword">class</span> LoginComponent <span class="keyword">implements</span> OnInit &#123;</div><div class="line"></div><div class="line">  username: <span class="built_in">string</span>;</div><div class="line">  password: <span class="built_in">string</span>;</div><div class="line">  <span class="keyword">constructor</span>(<span class="params"></span>) &#123; &#125;</div><div class="line"></div><div class="line">  ngOnInit() &#123;</div><div class="line">    <span class="keyword">this</span>.username = <span class="string">'acring'</span>;</div><div class="line">    <span class="keyword">this</span>.password = <span class="string">'2333'</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>login.component.html</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">  username: &#123;&#123;username&#125;&#125;</div><div class="line">  password: &#123;&#123;password&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure>
<p>我们再在app.component.html中加入app-login标签</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span></div><div class="line">  Hello world,this is &#123;&#123;title&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">app-login</span>&gt;</span><span class="tag">&lt;/<span class="name">app-login</span>&gt;</span></div></pre></td></tr></table></figure>
<p>这个时候查看浏览器，会发现</p>
<p><strong>啥都没显示</strong></p>
<p>按F12打开开发者工具的console，会发现报错了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">compiler.js:485 Uncaught Error: Template parse errors:</div><div class="line">&apos;app-login&apos; is not a known element:</div><div class="line">1. If &apos;app-login&apos; is an Angular component, then verify that it is part of this module.</div><div class="line">2. If &apos;app-login&apos; is a Web Component then add &apos;CUSTOM_ELEMENTS_SCHEMA&apos; to the &apos;@NgModule.schemas&apos; of this component to suppress this message. (&quot;</div><div class="line">  Hello world,this is &#123;&#123;title&#125;&#125;</div><div class="line">&lt;/h1&gt;</div><div class="line">[ERROR -&gt;]&lt;app-login&gt;&lt;/app-login&gt;</div><div class="line">&quot;): ng:///AppModule/AppComponent.html@3:0</div><div class="line">    at syntaxError (compiler.js:485)</div><div class="line">    at TemplateParser.parse (compiler.js:24661)</div><div class="line">    at JitCompiler._parseTemplate (compiler.js:34601)</div><div class="line">    at JitCompiler._compileTemplate (compiler.js:34576)</div><div class="line">    at eval (compiler.js:34477)</div><div class="line">    at Set.forEach (&lt;anonymous&gt;)</div><div class="line">    at JitCompiler._compileComponents (compiler.js:34477)</div><div class="line">    at eval (compiler.js:34347)</div><div class="line">    at Object.then (compiler.js:474)</div><div class="line">    at JitCompiler._compileModuleAndComponents (compiler.js:34346)</div></pre></td></tr></table></figure>
<p>稍微看看就明白了，报错的意思是现在angular还没法理解<code>&lt;app-login&gt;</code>这个标签是什么意思，因为我们的组件还没有在angular的模块管理文件中注册,所以我们要去注册我们的模块</p>
<p>打开app.module.ts并修改,在NgModule中的declarations中添加组件的类名LoginComponent，</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; LoginComponent &#125; <span class="keyword">from</span> <span class="string">'./login/login.component'</span>;</div><div class="line">...</div><div class="line"><span class="meta">@NgModule</span>(&#123;</div><div class="line">  declarations: [</div><div class="line">    AppComponent,</div><div class="line">    LoginComponent</div><div class="line">  ],</div><div class="line">  imports: [</div><div class="line">    BrowserModule</div><div class="line">  ],</div><div class="line">  providers: [],</div><div class="line">  bootstrap: [AppComponent]</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>查看效果</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3026741-fb9107b3e6f1d327.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>OK,我们的基本组件已经搞定了，我们可以在我们的新组件中继续我们的业务流程实现了,下一步，我们会接触更多的angular2用法和基本登录界面的开发，敬请期待.</p>
<h2 id="登录界面开发"><a href="#登录界面开发" class="headerlink" title="登录界面开发"></a>登录界面开发</h2><h3 id="数据开始流动-数据绑定"><a href="#数据开始流动-数据绑定" class="headerlink" title="数据开始流动-数据绑定"></a>数据开始流动-数据绑定</h3><h4 id="双向数据绑定-输入输出"><a href="#双向数据绑定-输入输出" class="headerlink" title="双向数据绑定-输入输出"></a>双向数据绑定-输入输出</h4><p>在login.component.html中添加代码</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>username<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> [(<span class="attr">ngModel</span>)]=<span class="string">"username"</span> <span class="attr">placeholder</span>=<span class="string">"请输入用户名"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>password<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> [(<span class="attr">ngModel</span>)]=<span class="string">"password"</span> <span class="attr">placeholder</span>=<span class="string">"请输入密码"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>注意代码中的<code>[()]</code>,这是angular中的双向绑定标志,即让input的输入和组件中的username变量绑定，两者同步变化,为了让input能使用这个绑定,我们要在模块管理文件中添加FormsModule模块, 在</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;FormsModule&#125; <span class="keyword">from</span> <span class="string">'@angular/forms'</span>; <span class="comment">// import 表单模块</span></div><div class="line"><span class="meta">@NgModule</span>(&#123;</div><div class="line">  declarations: [</div><div class="line">    AppComponent,</div><div class="line">    LoginComponent</div><div class="line">  ],</div><div class="line">  imports: [</div><div class="line">    FormsModule, <span class="comment">// 在import中添加这一行</span></div><div class="line">    BrowserModule</div><div class="line">  ],</div><div class="line">  providers: [],</div><div class="line">  bootstrap: [AppComponent]</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>运行如下</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3026741-e65fbb7a9623b86f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>试着修改输入框中的文字，你会发现在上面的文字也会跟着变,这其中涉及到了两层数据流动，html中的input中的输入和组件中username绑定，<strong>在初始化的时候，组件中的username和input中的输入框数据同步，在修改input标签中的数据会同时改变username中的数据,组件中的username改变后html中的也随之改变</strong>, 最终达到一个username变量控制多个数据显示的改变，很酷，对吧。</p>
<h3 id="按钮开始响应"><a href="#按钮开始响应" class="headerlink" title="按钮开始响应"></a>按钮开始响应</h3><p>接下来我们添加登录和注册按钮</p>
<h4 id="事件绑定"><a href="#事件绑定" class="headerlink" title="事件绑定"></a>事件绑定</h4><p>修改login.component.html添加</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">button</span> (<span class="attr">click</span>)=<span class="string">"login()"</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">button</span> (<span class="attr">click</span>)=<span class="string">"register()"</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>这里涉及到了另一种绑定方式<code>()</code>,这个一般用于事件绑定，很简单，对登录的button的点击将引发组件的login事件(函数),</p>
<p>对注册的button的点击将引发组件的register事件(函数)，所以我们也得在组件中添加响应的函数.</p>
<ul>
<li>login.component.ts添加两个函数</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">login() &#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"登录"</span>, <span class="keyword">this</span>.username, <span class="keyword">this</span>.password);</div><div class="line">&#125;</div><div class="line"></div><div class="line">register()&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"注册"</span>, <span class="keyword">this</span>.username, <span class="keyword">this</span>.password);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>点击登录按钮，在开发者工具的console可以看到相应的输出, <code>登录 acring 2333</code></p>
<p><strong>说明事件绑定成功,恭喜</strong></p>
<blockquote>
<p>以上的界面都是比较简陋的，因为开发中的界面开发是相对比较耗时间的，所以这里不多加赘述，对初学者来说，在实现基本功能之后再去思考美化的问题吧</p>
</blockquote>
<h2 id="开始和外界通信-服务"><a href="#开始和外界通信-服务" class="headerlink" title="开始和外界通信-服务"></a>开始和外界通信-服务</h2><p>前端徘徊已久，我们该试着走出去了，向外界发出我们的声音吧</p>
<h3 id="创建服务并注册"><a href="#创建服务并注册" class="headerlink" title="创建服务并注册"></a>创建服务并注册</h3><p>在src/app下新建文件夹<code>service</code>并在service中创建两个文件<code>login.service.ts</code>, <code>login.service.spec.ts</code>, spec是测试文件，我们暂时不用管，只是作为一种好习惯，</p>
<ul>
<li>login.service.ts</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; Injectable &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</div><div class="line"><span class="keyword">import</span> &#123;Headers, Http&#125; <span class="keyword">from</span> <span class="string">"@angular/http"</span>;</div><div class="line"></div><div class="line"></div><div class="line"><span class="meta">@Injectable</span>()</div><div class="line"><span class="keyword">export</span> <span class="keyword">class</span> LoginService &#123; <span class="comment">// 登录服务</span></div><div class="line"></div><div class="line">  <span class="keyword">constructor</span>(<span class="params"><span class="keyword">private</span> http:Http </span>) &#123; <span class="built_in">console</span>.log(<span class="string">"登录服务初始化"</span>)&#125;</div><div class="line"></div><div class="line">  login(username, password)&#123;</div><div class="line">    <span class="keyword">const</span> headers = <span class="keyword">new</span> Headers();</div><div class="line">    headers.append(<span class="string">'Content-Type'</span>, <span class="string">'text/plain'</span>);</div><div class="line"></div><div class="line">    <span class="keyword">let</span> data = &#123;username: username,password: password&#125;;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.http.post(<span class="string">"http://127.0.0.1:6661/api/login"</span>,<span class="built_in">JSON</span>.stringify(data), &#123;headers: headers&#125;);</div><div class="line"></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这边我们先规定好与后端通信的接口/api/login，虽然后端还没开始做.</p>
<p>@Injectable最好加上虽然不加上也不会报错，这个是用于依赖注入的，暂时不用在意</p>
<p>我们要用angular提供的Http库来完成对外界的通信,在app.module.ts文件中，还要导入 HttpModule模块</p>
<ul>
<li>app.module.ts</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">imports: [</div><div class="line">    FormsModule,</div><div class="line">    BrowserModule,</div><div class="line">    HttpModule,  <span class="comment">//Http模块库</span></div><div class="line">  ],</div></pre></td></tr></table></figure>
<ul>
<li>login.component.ts</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">login() &#123;</div><div class="line">    <span class="keyword">this</span>.loginService.login(<span class="keyword">this</span>.username, <span class="keyword">this</span>.password).subscribe(</div><div class="line">      <span class="function"><span class="params">fb</span>=&gt;</span>&#123;  <span class="comment">// 反馈信息</span></div><div class="line">        <span class="keyword">const</span> ret = fb.json();</div><div class="line">        <span class="built_in">console</span>.log(ret);</div><div class="line">      &#125;,</div><div class="line">      <span class="function"><span class="params">err</span> =&gt;</span>&#123;  <span class="comment">// 错误信息</span></div><div class="line">        <span class="built_in">console</span>.log(err);</div><div class="line">      &#125;</div><div class="line">    )</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<p>login函数处理返回的Observable对象，这边不了解请自行谷歌Angular2 Observable的使用,其实原理很简单,这是一个异步操作，系统会等待网络请求的返回，返回的对象装载fb里面，subscribe意为订阅，也就是网络请求一旦返回就触发这个订阅，进行下一步操作，返回<code>网络反馈数据fb</code>或者返回<code>请求错误err</code></p>
<p>Angualr的服务是一种单例,也就是说在整个应用中只存在一个实例，它会给各个组件提供服务，多个组件共享服务</p>
<p>现在点击登录按钮还没什么反应，因为我们的后端还没有搭建好，不管怎么叫也不会有人回应的.</p>
<h2 id="后端环境搭建"><a href="#后端环境搭建" class="headerlink" title="后端环境搭建"></a>后端环境搭建</h2><p>为了让前端不要太孤独，我们直接开始后端的搭建,后端我们用Go语言来搭建，Go语言本身就是为了搭建服务器而生，所以很容易就能搭建出我们想要的后台.</p>
<p>首先我们要把环境弄好,参考以下教程</p>
<p><a href="https://www.jianshu.com/p/eb35a47a157e" target="_blank" rel="external">https://www.jianshu.com/p/eb35a47a157e</a></p>
<p>Go的语法就不用说了,自己去找教程学吧,</p>
<h2 id="不从Hello-World开始"><a href="#不从Hello-World开始" class="headerlink" title="不从Hello World开始"></a>不从Hello World开始</h2><p>我们这次就不从Hello World 开始了, 我们直接开始用Go搭建Http后台，和我们的前端开始对话</p>
<p>创建文件夹quick-web-mgr并在文件夹下创建main.go</p>
<ul>
<li>main.go</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> main</div><div class="line"></div><div class="line"><span class="keyword">import</span> (</div><div class="line">	<span class="string">"fmt"</span></div><div class="line">	<span class="string">"net/http"</span></div><div class="line">	<span class="string">"io/ioutil"</span></div><div class="line">	<span class="string">"encoding/json"</span></div><div class="line">)</div><div class="line"><span class="keyword">type</span> USER <span class="keyword">struct</span>&#123;  <span class="comment">//用户信息</span></div><div class="line">	Username <span class="keyword">string</span> <span class="string">`json:"username"`</span></div><div class="line">	Password <span class="keyword">string</span> <span class="string">`json:"password"`</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">type</span> LoginFeedBack <span class="keyword">struct</span>&#123;  <span class="comment">// 登录反馈</span></div><div class="line">	Code <span class="keyword">int</span> <span class="string">`json:"code"`</span></div><div class="line">	Ok <span class="keyword">bool</span> <span class="string">`json:"ok"`</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">loginHandle</span><span class="params">(res http.ResponseWriter, req *http.Request)</span></span>&#123; <span class="comment">// 登录处理函数</span></div><div class="line">	res.Header().Set(<span class="string">"Access-Control-Allow-Origin"</span>, <span class="string">"*"</span>) <span class="comment">//设置跨域</span></div><div class="line"></div><div class="line">	result, err := ioutil.ReadAll(req.Body)</div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span>&#123;</div><div class="line">		fmt.Print(err)</div><div class="line">		<span class="keyword">return</span></div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">var</span> userInfo USER</div><div class="line">	err = json.Unmarshal(result, &amp;userInfo)  <span class="comment">// 解析json数据</span></div><div class="line"></div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span>&#123;</div><div class="line">		fmt.Print(err)</div><div class="line">		<span class="keyword">return</span></div><div class="line">	&#125;</div><div class="line">	fmt.Print(userInfo)</div><div class="line"></div><div class="line">	<span class="keyword">var</span> fb LoginFeedBack</div><div class="line"></div><div class="line">	<span class="keyword">if</span> userInfo.Username == <span class="string">"acring"</span> &amp;&amp; userInfo.Password == <span class="string">"2333"</span>&#123;</div><div class="line">		fb.Code = <span class="number">200</span></div><div class="line">		fb.Ok = <span class="literal">true</span></div><div class="line">		fbData,err := json.Marshal(fb)</div><div class="line">		fmt.Print(<span class="keyword">string</span>(fbData))</div><div class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">			fmt.Print(<span class="string">"反馈数据解析失败"</span>)</div><div class="line">			<span class="keyword">return</span></div><div class="line">		&#125;</div><div class="line">		fmt.Fprintln(res, <span class="keyword">string</span>(fbData))</div><div class="line">	&#125;<span class="keyword">else</span>&#123;</div><div class="line">		fb.Code = <span class="number">200</span></div><div class="line">		fb.Ok = <span class="literal">false</span></div><div class="line">		fbData,err := json.Marshal(fb)</div><div class="line">		fmt.Print(<span class="keyword">string</span>(fbData))</div><div class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">			fmt.Print(<span class="string">"反馈数据解析失败"</span>)</div><div class="line">			<span class="keyword">return</span></div><div class="line">		&#125;</div><div class="line">		fmt.Fprintln(res, <span class="keyword">string</span>(fbData))</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">defer</span> req.Body.Close()</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	fmt.Print(<span class="string">"开始服务.."</span>)</div><div class="line">	http.HandleFunc(<span class="string">"/api/login"</span>, loginHandle)</div><div class="line">	http.ListenAndServe(<span class="string">":6661"</span>, <span class="literal">nil</span>)</div><div class="line">	fmt.Print(<span class="string">"服务结束\n"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>首先我们需要import Go的Http库, 用http.HandleFunc将接口地址和请求处理函数对应,然后用http.ListenAndServe设置监听端口.就是这么简单</p>
<p>接下来我们来到关键的地方loginHandle函数, 这里分为四个部分</p>
<ol>
<li>解决跨域请求的问题</li>
<li>获取参数并解析成json格式</li>
<li>判断获取到的信息是否正确</li>
<li>返回信息</li>
</ol>
<h3 id="如何读代码"><a href="#如何读代码" class="headerlink" title="如何读代码"></a>如何读代码</h3><p>以上出现的许多的代码，非常简单，但是对于刚入门的新手肯定是没法理解</p>
<p>这时候就要学会自己去读代码了</p>
<ol>
<li>按程序的运行逻辑读代码，如上述代码你需要从<strong>func main()</strong>开始读起</li>
<li>遇到不懂的怎么办，不懂有两种可能，第一，语法不懂,那赶紧回去看一遍基本的语法吧,第二，基本库不懂，比如说http库不懂，那就上网查相应的库说明或者教程</li>
<li>运行代码，确定代码的正确性，理解代码的输入输出从哪里开始，在哪里结束</li>
<li>修改代码，看看自己到底懂了没有，如果修改成自己想要的样子，说明你至少是懂了1/3了，恭喜自己吧</li>
</ol>
<p>系统的学习是必要的，但是通过代码去快速学习是更加需要具备的能力</p>
<h2 id="开始我们的悄悄话"><a href="#开始我们的悄悄话" class="headerlink" title="开始我们的悄悄话"></a>开始我们的悄悄话</h2><p>运行上面的Go代码，再点击晾在一旁的登录按钮 你可以在F12开发者工具-&gt;netWork中看到发送的请求和响应<code>{&quot;code&quot;:200,&quot;ok&quot;:true}</code></p>
<p>这是我们得到的返回，说明登录成功,修改用户名和密码再次点击登录按钮</p>
<p><code>{&quot;code&quot;:200,&quot;ok&quot;:false}</code></p>
<p>这次说明我们的用户名或者密码输入错误了</p>
<p>于是前后端终于第一次说上了话，谁红了脸</p>
<h2 id=""><a href="#" class="headerlink" title=" "></a> </h2><h2 id="保存那些珍贵的数据-数据库"><a href="#保存那些珍贵的数据-数据库" class="headerlink" title="保存那些珍贵的数据 - 数据库"></a>保存那些珍贵的数据 - 数据库</h2><p>接下来我们该实现注册的功能了，但是注册说明我们要将一个用户名和密码保存到本地，那自然要用到我们的数据库了，我们这里用的是postgresql数据库， 以及个人推荐的数据库管理工具推荐navicat，找个破解版吧，正版太贵了</p>
<p>安装教程<a href="http://www.yiibai.com/postgresql/install-postgresql.html" target="_blank" rel="external">http://www.yiibai.com/postgresql/install-postgresql.html</a>, 自己搜也行</p>
<p>接下来就要用Go语言去连接Postgresql了,</p>
<p>首先引入两个驱动包 </p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="string">"database/sql"</span></div><div class="line">_ <span class="string">"github.com/lib/pq"</span></div></pre></td></tr></table></figure>
<p>前者是Go连接数据库的通用接口，后者是postgresql的驱动</p>
<p>初始化数据库函数， 为数据库创建新的用户信息表,这里用很简单的username 和password 来表示一个用户实体的信息</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> main</div><div class="line"></div><div class="line"><span class="keyword">import</span> (</div><div class="line">	<span class="string">"fmt"</span></div><div class="line">	<span class="string">"net/http"</span></div><div class="line">	<span class="string">"io/ioutil"</span></div><div class="line">	<span class="string">"encoding/json"</span></div><div class="line">	<span class="string">"database/sql"</span></div><div class="line">	_ <span class="string">"github.com/lib/pq"</span></div><div class="line">	<span class="string">"errors"</span></div><div class="line">)</div><div class="line"><span class="keyword">type</span> USER <span class="keyword">struct</span>&#123;  <span class="comment">//用户信息</span></div><div class="line">	Username <span class="keyword">string</span> <span class="string">`json:"username"`</span></div><div class="line">	Password <span class="keyword">string</span> <span class="string">`json:"password"`</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">type</span> LoginFeedBack <span class="keyword">struct</span>&#123;  <span class="comment">// 登录反馈</span></div><div class="line">	Code <span class="keyword">int</span> <span class="string">`json:"code"`</span></div><div class="line">	Ok <span class="keyword">bool</span> <span class="string">`json:"ok"`</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span>(</div><div class="line">	host = <span class="string">"localhost"</span></div><div class="line">	port = <span class="number">5432</span></div><div class="line">	user = <span class="string">"postgres"</span></div><div class="line">	sqlpassword = <span class="string">"Alf1netC"</span></div><div class="line">	dbname = <span class="string">"testdb"</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">InitDB</span><span class="params">()</span></span>&#123;  <span class="comment">// 初始化数据库</span></div><div class="line">	psqlInfo := fmt.Sprintf(<span class="string">"host=%s port=%d user=%s "</span>+</div><div class="line">		<span class="string">"password=%s dbname=%s sslmode=disable"</span>,</div><div class="line">		host, port, user, sqlpassword, dbname)</div><div class="line"></div><div class="line">	db,err := sql.Open(<span class="string">"postgres"</span>, psqlInfo)  <span class="comment">// 打开数据库连接</span></div><div class="line"></div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span>&#123;</div><div class="line">		<span class="built_in">panic</span>(err)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">defer</span> db.Close()</div><div class="line"></div><div class="line">	err = db.Ping()</div><div class="line"></div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span>&#123;</div><div class="line">		<span class="built_in">panic</span>(err)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	fmt.Print(<span class="string">"连接成功\n"</span>)</div><div class="line"></div><div class="line">	sqlStatement := <span class="string">`CREATE TABLE  IF NOT EXISTS "userinfo"(</span></div><div class="line">		username VARCHAR(25) not null primary key,</div><div class="line">		password VARCHAR(25)</div><div class="line">	);`</div><div class="line"></div><div class="line">	_, err = db.Exec(sqlStatement)</div><div class="line"></div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span>&#123;</div><div class="line">		<span class="built_in">panic</span>(err)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	fmt.Print(<span class="string">"数据库初始化成功!\n"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	InitDB()</div><div class="line">	fmt.Print(<span class="string">"开始服务..\n"</span>)</div><div class="line">	http.HandleFunc(<span class="string">"/api/login"</span>, loginHandle)</div><div class="line">	http.ListenAndServe(<span class="string">":6661"</span>, <span class="literal">nil</span>)</div><div class="line">	fmt.Print(<span class="string">"服务结束\n"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>当然，你也可以直接手动创建数据库</p>
<p>之后我们要开始注册和登录的后端代码编写了</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> main</div><div class="line"></div><div class="line"><span class="keyword">import</span> (</div><div class="line">	<span class="string">"fmt"</span></div><div class="line">	<span class="string">"net/http"</span></div><div class="line">	<span class="string">"io/ioutil"</span></div><div class="line">	<span class="string">"encoding/json"</span></div><div class="line">	<span class="string">"database/sql"</span></div><div class="line">	_ <span class="string">"github.com/lib/pq"</span></div><div class="line">	<span class="string">"errors"</span></div><div class="line">)</div><div class="line"><span class="keyword">type</span> USER <span class="keyword">struct</span>&#123;  <span class="comment">//用户信息</span></div><div class="line">	Username <span class="keyword">string</span> <span class="string">`json:"username"`</span></div><div class="line">	Password <span class="keyword">string</span> <span class="string">`json:"password"`</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">type</span> FeedBack <span class="keyword">struct</span>&#123;  <span class="comment">// 数据反馈</span></div><div class="line">	Code <span class="keyword">int</span> <span class="string">`json:"code"`</span></div><div class="line">	Ok <span class="keyword">bool</span> <span class="string">`json:"ok"`</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span>(</div><div class="line">	host = <span class="string">"localhost"</span></div><div class="line">	port = <span class="number">5432</span></div><div class="line">	user = <span class="string">"postgres"</span></div><div class="line">	sqlpassword = <span class="string">"Alf1netC"</span></div><div class="line">	dbname = <span class="string">"testdb"</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">checkExist</span><span class="params">(username <span class="keyword">string</span>)</span><span class="params">(<span class="keyword">bool</span>, error)</span></span>&#123;</div><div class="line">	psqlInfo := fmt.Sprintf(<span class="string">"host=%s port=%d user=%s "</span>+</div><div class="line">		<span class="string">"password=%s dbname=%s sslmode=disable"</span>,</div><div class="line">		host, port, user, sqlpassword, dbname)</div><div class="line"></div><div class="line">	db,err := sql.Open(<span class="string">"postgres"</span>, psqlInfo)</div><div class="line"></div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span>&#123;</div><div class="line">		fmt.Print(<span class="string">"连接数据库错误"</span>)</div><div class="line">		<span class="keyword">return</span> <span class="literal">false</span>, errors.New(<span class="string">"连接数据库出错"</span>)</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	sqlStat := <span class="string">"SELECT from userInfo WHERE username = $1"</span></div><div class="line">	</div><div class="line">	stmt, err := db.Prepare(sqlStat)</div><div class="line">	</div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">		fmt.Print(<span class="string">"准备语句失败"</span>, err.Error())</div><div class="line">		<span class="keyword">return</span> <span class="literal">false</span>, errors.New(<span class="string">"准备语句失败"</span>)</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	rows ,err := stmt.Query(username)</div><div class="line">	</div><div class="line">	<span class="keyword">if</span> rows.Next()&#123;</div><div class="line">		<span class="keyword">return</span> <span class="literal">true</span>, <span class="literal">nil</span></div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="keyword">return</span> <span class="literal">false</span>, <span class="literal">nil</span></div><div class="line"></div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">checkLogin</span><span class="params">(username <span class="keyword">string</span>, password <span class="keyword">string</span>)</span> <span class="params">(<span class="keyword">bool</span>, error)</span></span>&#123;</div><div class="line">	psqlInfo := fmt.Sprintf(<span class="string">"host=%s port=%d user=%s "</span>+</div><div class="line">		<span class="string">"password=%s dbname=%s sslmode=disable"</span>,</div><div class="line">		host, port, user, sqlpassword, dbname)</div><div class="line"></div><div class="line">	db,err := sql.Open(<span class="string">"postgres"</span>, psqlInfo)</div><div class="line"></div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span>&#123;</div><div class="line">		fmt.Print(<span class="string">"连接数据库错误"</span>)</div><div class="line">		<span class="keyword">return</span> <span class="literal">false</span>, errors.New(<span class="string">"连接数据库出错"</span>)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	sqlStatement := <span class="string">"SELECT * FROM userinfo WHERE username = $1 AND password = $2;"</span></div><div class="line"></div><div class="line">	stmt, err := db.Prepare(sqlStatement)</div><div class="line"></div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">		<span class="built_in">print</span>(err.Error())</div><div class="line">		<span class="keyword">return</span> <span class="literal">false</span>, errors.New(<span class="string">"准备数据失败"</span>)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	rows, err := stmt.Query(username, password)</div><div class="line">	<span class="keyword">defer</span> rows.Close()</div><div class="line">	<span class="keyword">var</span> user USER</div><div class="line">	<span class="keyword">for</span> rows.Next()&#123;</div><div class="line">		rows.Scan(user.Username, user.Password)</div><div class="line">		<span class="keyword">return</span> <span class="literal">true</span>, <span class="literal">nil</span></div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">return</span> <span class="literal">false</span>, <span class="literal">nil</span>  <span class="comment">// 没有查询到数据</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">checkRegister</span><span class="params">(username <span class="keyword">string</span> , password <span class="keyword">string</span>)</span><span class="params">(<span class="keyword">bool</span>, error)</span></span>&#123;  <span class="comment">// 注册</span></div><div class="line">	psqlInfo := fmt.Sprintf(<span class="string">"host=%s port=%d user=%s "</span>+</div><div class="line">		<span class="string">"password=%s dbname=%s sslmode=disable"</span>,</div><div class="line">		host, port, user, sqlpassword, dbname)</div><div class="line"></div><div class="line">	db,err := sql.Open(<span class="string">"postgres"</span>, psqlInfo)</div><div class="line"></div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span>&#123;</div><div class="line">		fmt.Print(<span class="string">"连接数据库错误"</span>)</div><div class="line">		<span class="keyword">return</span> <span class="literal">false</span>, errors.New(<span class="string">"连接数据库出错"</span>)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	sqlStatement := <span class="string">"INSERT INTO userinfo(username, password) VALUES ($1, $2);"</span></div><div class="line"></div><div class="line">	stmt, err := db.Prepare(sqlStatement)</div><div class="line"></div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span>&#123;</div><div class="line">		fmt.Print(<span class="string">"准备语句失败"</span>, err.Error())</div><div class="line">		<span class="keyword">return</span> <span class="literal">false</span>, errors.New(<span class="string">"准备语句失败"</span>)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	_, err = stmt.Exec(username, password)</div><div class="line">	<span class="keyword">defer</span> stmt.Close()</div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span>&#123;</div><div class="line">		fmt.Print(<span class="string">"插入数据失败"</span>, err.Error())</div><div class="line">		<span class="keyword">return</span> <span class="literal">false</span>, errors.New(<span class="string">"插入数据失败"</span>)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">return</span> <span class="literal">true</span>, <span class="literal">nil</span></div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">loginHandle</span><span class="params">(res http.ResponseWriter, req *http.Request)</span></span>&#123; <span class="comment">// 登录处理函数</span></div><div class="line">	res.Header().Set(<span class="string">"Access-Control-Allow-Origin"</span>, <span class="string">"*"</span>) <span class="comment">//设置跨域</span></div><div class="line"></div><div class="line">	result, err := ioutil.ReadAll(req.Body)</div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span>&#123;</div><div class="line">		fmt.Print(err)</div><div class="line">		<span class="keyword">return</span></div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">var</span> userInfo USER</div><div class="line">	err = json.Unmarshal(result, &amp;userInfo)  <span class="comment">// 解析json数据</span></div><div class="line"></div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span>&#123;</div><div class="line">		fmt.Print(err)</div><div class="line">		<span class="keyword">return</span></div><div class="line">	&#125;</div><div class="line">	fmt.Print(userInfo)</div><div class="line"></div><div class="line">	<span class="keyword">var</span> fb FeedBack</div><div class="line"></div><div class="line">	ok, err := checkLogin(userInfo.Username, userInfo.Password)</div><div class="line"></div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">		fmt.Print(err.Error())</div><div class="line">		<span class="keyword">return</span></div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span> ok&#123;</div><div class="line">		fb.Code = <span class="number">200</span></div><div class="line">		fb.Ok = <span class="literal">true</span></div><div class="line">		fbData,err := json.Marshal(fb)</div><div class="line">		fmt.Print(<span class="keyword">string</span>(fbData))</div><div class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">			fmt.Print(<span class="string">"反馈数据解析失败"</span>)</div><div class="line">			<span class="keyword">return</span></div><div class="line">		&#125;</div><div class="line">		fmt.Fprintln(res, <span class="keyword">string</span>(fbData))</div><div class="line">	&#125;<span class="keyword">else</span>&#123;</div><div class="line">		fb.Code = <span class="number">200</span></div><div class="line">		fb.Ok = <span class="literal">false</span></div><div class="line">		fbData,err := json.Marshal(fb)</div><div class="line">		fmt.Print(<span class="keyword">string</span>(fbData))</div><div class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">			fmt.Print(<span class="string">"反馈数据解析失败"</span>)</div><div class="line">			<span class="keyword">return</span></div><div class="line">		&#125;</div><div class="line">		fmt.Fprintln(res, <span class="keyword">string</span>(fbData))</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">defer</span> req.Body.Close()</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">InitDB</span><span class="params">()</span></span>&#123;  <span class="comment">// 初始化数据库</span></div><div class="line">	psqlInfo := fmt.Sprintf(<span class="string">"host=%s port=%d user=%s "</span>+</div><div class="line">		<span class="string">"password=%s dbname=%s sslmode=disable"</span>,</div><div class="line">		host, port, user, sqlpassword, dbname)</div><div class="line"></div><div class="line">	db,err := sql.Open(<span class="string">"postgres"</span>, psqlInfo)  <span class="comment">// 打开数据库连接</span></div><div class="line"></div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span>&#123;</div><div class="line">		<span class="built_in">panic</span>(err)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">defer</span> db.Close()</div><div class="line"></div><div class="line">	err = db.Ping()</div><div class="line"></div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span>&#123;</div><div class="line">		<span class="built_in">panic</span>(err)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	fmt.Print(<span class="string">"连接成功\n"</span>)</div><div class="line"></div><div class="line">	sqlStatement := <span class="string">`CREATE TABLE  IF NOT EXISTS "userinfo"(</span></div><div class="line">		username VARCHAR(25) not null primary key,</div><div class="line">		password VARCHAR(25)</div><div class="line">	);`</div><div class="line"></div><div class="line">	_, err = db.Exec(sqlStatement)</div><div class="line"></div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span>&#123;</div><div class="line">		<span class="built_in">panic</span>(err)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	fmt.Print(<span class="string">"数据库初始化成功!\n"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">registerHandle</span><span class="params">(res http.ResponseWriter, req *http.Request)</span></span>&#123;</div><div class="line"></div><div class="line">	res.Header().Set(<span class="string">"Access-Control-Allow-Origin"</span>, <span class="string">"*"</span>) <span class="comment">//设置跨域</span></div><div class="line"></div><div class="line">	result, err := ioutil.ReadAll(req.Body)</div><div class="line"></div><div class="line">	<span class="keyword">defer</span> req.Body.Close()</div><div class="line">	<span class="keyword">if</span> err!= <span class="literal">nil</span>&#123;</div><div class="line">		fmt.Print(<span class="string">"获取请求参数失败"</span>, err.Error())</div><div class="line">		<span class="keyword">return</span></div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">var</span> userInfo USER</div><div class="line"></div><div class="line">	err = json.Unmarshal(result, &amp;userInfo)</div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">		fmt.Print(<span class="string">"解析数据失败"</span>, err.Error())</div><div class="line">		<span class="keyword">return</span></div><div class="line">	&#125;</div><div class="line"></div><div class="line">	exist, err := checkExist(userInfo.Username)</div><div class="line"></div><div class="line">	<span class="keyword">var</span> fb FeedBack</div><div class="line">	<span class="keyword">if</span> exist&#123;</div><div class="line">		fmt.Print(<span class="string">"用户已存在"</span>)</div><div class="line">		fb.Code = <span class="number">200</span></div><div class="line">		fb.Ok = <span class="literal">false</span></div><div class="line">	&#125;<span class="keyword">else</span>&#123;</div><div class="line">		ok, err := checkRegister(userInfo.Username, userInfo.Password)</div><div class="line"></div><div class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">			fmt.Print(<span class="string">"注册失败"</span>, err.Error())</div><div class="line">			fb.Code = <span class="number">200</span></div><div class="line">			fb.Ok = <span class="literal">false</span></div><div class="line">		&#125;</div><div class="line"></div><div class="line">		<span class="keyword">if</span> ok &#123;</div><div class="line">			fb.Code = <span class="number">200</span></div><div class="line">			fb.Ok = <span class="literal">true</span></div><div class="line">		&#125;<span class="keyword">else</span>&#123;</div><div class="line">			fb.Code = <span class="number">200</span></div><div class="line">			fb.Ok = <span class="literal">false</span></div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	fbData,err := json.Marshal(fb)</div><div class="line"></div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span>&#123;</div><div class="line">		fmt.Print(<span class="string">"解析反馈信息错误"</span>, err.Error())</div><div class="line">		<span class="keyword">return</span></div><div class="line">	&#125;</div><div class="line">	fmt.Fprintln(res, <span class="keyword">string</span>(fbData))</div><div class="line"></div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	InitDB()</div><div class="line">	fmt.Print(<span class="string">"开始服务..\n"</span>)</div><div class="line">	http.HandleFunc(<span class="string">"/api/login"</span>, loginHandle)</div><div class="line">	http.HandleFunc(<span class="string">"/api/register"</span>, registerHandle)</div><div class="line">	http.ListenAndServe(<span class="string">":6661"</span>, <span class="literal">nil</span>)</div><div class="line">	fmt.Print(<span class="string">"服务结束\n"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这里我直接把所有代码给出来了, loginHandle接收登录接口数据，checklogin查询用户存在,register接收注册接口数据并调用checklogin检查用户是否存在,不存在则调用checkregister向数据库插入新的用户数据.</p>
<p>这已经是不能再简单的逻辑了,由于面向新手，所以很多细节都被省略了，且看且珍惜，尝试去理解每一行代码吧</p>
<p> 前端我们也加上注册的接口和处理函数</p>
<ul>
<li>login.component.ts</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">register()&#123;</div><div class="line">  <span class="keyword">this</span>.loginService.register(<span class="keyword">this</span>.username, <span class="keyword">this</span>.password).subscribe(</div><div class="line">    <span class="function"><span class="params">fb</span>=&gt;</span>&#123;</div><div class="line">      <span class="keyword">const</span> ret = fb.json();</div><div class="line">      <span class="built_in">console</span>.log(ret);</div><div class="line">    &#125;,</div><div class="line">    <span class="function"><span class="params">err</span> =&gt;</span>&#123;</div><div class="line">      <span class="built_in">console</span>.log(err)</div><div class="line">    &#125;</div><div class="line">  )</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>login.service.ts</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">register(username, password)&#123;</div><div class="line">  <span class="keyword">const</span> headers = <span class="keyword">new</span> Headers();</div><div class="line"></div><div class="line">  headers.append(<span class="string">'Content-Type'</span>, <span class="string">'text/plain'</span>);</div><div class="line"></div><div class="line">  <span class="keyword">let</span> data = &#123;username: username,password: password&#125;;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.http.post(<span class="string">"http://127.0.0.1:6661/api/register"</span>, <span class="built_in">JSON</span>.stringify(data), &#123;headers: headers&#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>将前端和后端都打开点击登录和注册按钮，在开发者工具的console里看看效果吧</p>
<h2 id="简单的总结"><a href="#简单的总结" class="headerlink" title="简单的总结"></a>简单的总结</h2><p>这是个简单的不能再简单的网页开发教程，从前端的Anguarl2框架一直到数据库,其实可以看到网页开发并不复杂</p>
<ol>
<li><p>前端负责界面，数据发送给后端</p>
</li>
<li><p>后端负责数据处理并保存到数据库</p>
</li>
<li><p>中间用Http协议作为数据传输协议</p>
</li>
<li><p>json数据格式作为数据传输载体</p>
<p>​</p>
</li>
</ol>
<p>对于新手如果能在一天内看懂这篇教程并开始自己的修改那应该来讲是不错的。</p>
<h2 id="往后如何走"><a href="#往后如何走" class="headerlink" title="往后如何走"></a>往后如何走</h2><p>从这个简单的教程你至少知道了前端和后端是如何交互的，后端和数据库是如何交互的，这只是整个工程的冰山一角，接下来在前端我们还要做</p>
<ul>
<li>路由配置</li>
</ul>
<p>一个网页不可能只有一个入口比如一般登录界面的网址是127.0.0.1:6660/login这样的网址，所以我们需要在学会在Angular框架下配置我们的路由</p>
<ul>
<li>界面美化</li>
</ul>
<p>教程中的界面没有任何美化，实在是太丑陋了，但是界面美化本身是比较费时的事，对初学者来说可以先用类似<a href="http://v3.bootcss.com/" target="_blank" rel="external">bootstrap</a>这样的前端布局框架去做界面</p>
<ul>
<li>其他</li>
</ul>
<p>Angular2还有很多关键的要点去学，但是我建议边做边学，这样才能更好的理解</p>
<p>对于后端来说我们还要做</p>
<ul>
<li>完善CRUD</li>
</ul>
<p>对数据库的基本操作就是CRUD，以上教程并没有完全覆盖，但是相信有上面的例子对于聪明的你已经不能算什么问题了</p>
<ul>
<li>分模块处理</li>
</ul>
<p>以上教程中只有一个main.go，把所有的处理都放在一起了，Go就是这么任性，但是这在开发中是不允许的，请学着用模块化的思想去组织整个项目目录，可以去理解mvc项目架构</p>
<ul>
<li>其他</li>
</ul>
<p>后端还有很多要学的，如Cookie区分用户身份，Session跟踪会话，在处理更复杂的业务系统时我们会渐渐遇到，不用着急</p>
<p>希望这一切能开启你脑子里的火花，这比把所有的一切都告诉你更重要.</p>
<blockquote>
<p>学会找到问题的关键，学会问出正确的问题，学会找到解决问题的方法</p>
</blockquote>
<p>前端代码Demo: <a href="https://github.com/Acring/quick-web" target="_blank" rel="external">https://github.com/Acring/quick-web</a></p>
<p>后端代码Demo: <a href="https://github.com/Acring/quick-web-mgr" target="_blank" rel="external">https://github.com/Acring/quick-web-mgr</a></p>
]]></content>
      
        
        <tags>
            
            <tag> 教程 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Vimium]]></title>
      <url>http://blog.acring.me/2017/07/30/Vimium/</url>
      <content type="html"><![CDATA[<h1 id="浏览器神器Vimium"><a href="#浏览器神器Vimium" class="headerlink" title="浏览器神器Vimium"></a>浏览器神器Vimium</h1><blockquote>
<p>Vimium是效率与装逼兼具，极客上网的不二选择, 当你能熟练的使用时，你就会对他爱不释手，我也是用熟练之后才发现是vimium如此的好用和舒服，</p>
<p>接下来我就介绍一下Vimium的基本用法以及自己自定义的一下心得，方便小白快速入门</p>
</blockquote>
<h2 id="首先"><a href="#首先" class="headerlink" title="首先"></a>首先</h2><p>首先你得有一个Chrome浏览器，因为Vimium是Chorme浏览器的插件，没有的同学赶紧下一个吧</p>
<p>有了Chrome后进入Chrome网上应用商店搜索Vimium，点击第一个就能看到这个3000+五星好评的终极极客浏览器神器</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3026741-b90a7a5de603772f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="Vimium是什么"><a href="#Vimium是什么" class="headerlink" title="Vimium是什么"></a>Vimium是什么</h2><p>Vimium是Vim和 Chromium的结合，Vim是linux中让你脱离鼠标编辑文本的利器，同样Vimium是让你脱离鼠标就能上网的终极利器，你不用移动鼠标就能跳转页面，切换标签，打开历史记录，打开书签等等，这比传统的鼠键结合的方式要快得多，就拿百度一个问题来说，我们首先要输入一个问题这个时候我们用到了键盘，然后聪明一点的会直接按下回车，笨一点的右手拿起鼠标点击搜索，搜索结果出来了，我们要用鼠标来回移动点击想要的连接，发现问题问的不对，我们又点击输入框，又切换回键盘输入问题。。。。这样鼠标键盘的来回切换花费了我们大量的时间，对于想要高效工作学习的人是难以忍受的。</p>
<p>而用上Vimium之后你只需要输入问题，回车，按F，输入链接对应的编号,修改问题?一样输入输入框对应的编号，立马回到输入框.整个过程完全不用鼠标的切换,就是这么优雅而酷炫</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3026741-f1bf005b132102f2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="令人窒息的操作"></p>
<h2 id="听起来Vimium很难"><a href="#听起来Vimium很难" class="headerlink" title="听起来Vimium很难?"></a>听起来Vimium很难?</h2><p>似乎Vimium是很强大的工具，很多人就开始望而却步了，感觉似乎不是一个很容易上手的东西，那我们换种方式来说，Vimium其实可以理解成一种快捷键配置，用过鼠标手势的应该都知道，鼠标手势其实就是把你鼠标的某一种轨迹对应一种浏览器的操作，从而执行，VImium也是一样的，但是Vimium的功能强大所以快捷键更多。但是不用担心，人们只关心自己常用的，所以从常用的入手， 一点点操作就完全没有问题。Vimium还有一个问题，就是它初始化的快捷键设置太过反人类，我会带着你边介绍边一点一点的修改初始快捷，让你熟悉他，他也熟悉你，这就完美了。</p>
<h2 id="Vimium设置界面"><a href="#Vimium设置界面" class="headerlink" title="Vimium设置界面"></a>Vimium设置界面</h2><p>在你点击添加到Chrome之后你的浏览器右上角就会出现一个蓝色的V,这就是我们今天的主角了，鼠标一上去，右键选项，就进入设置界面了,在这里我们只关注第二个框框，即自定义用户快捷键的输入框，点击Show avaliable commands可以看到现在的快捷键列表，然后我们开始调教我们的Vimium吧</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3026741-ef0580257bbb908d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Vimium"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/3026741-b5c9ea8537d8001e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="快捷键对照表"><a href="#快捷键对照表" class="headerlink" title="快捷键对照表"></a>快捷键对照表</h2><p><img src="http://upload-images.jianshu.io/upload_images/3026741-1eab85b4bf911885.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>这个可以先不管，只用知道第一个是快捷键，第二个是快捷键介绍，括号中是自定义代码就行了,跟着我往下走</p>
<h2 id="最基础的操作-上下左右-w-s-a-d"><a href="#最基础的操作-上下左右-w-s-a-d" class="headerlink" title="最基础的操作-上下左右 -w/s/a/d"></a>最基础的操作-上下左右 -w/s/a/d</h2><p>我们在上网的时候最常见的操作就是滚动滚轮，上下移动界面以及滚动条左右移动界面,在初始化的操作中被设定为jkhl，对于我来说这是很不科学的操作，因为玩游戏玩的多的都知道上下左右是wsad，所以！改!</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">map w scrollUp</div><div class="line">map s scrollDown</div><div class="line">map a scrollLeft</div><div class="line">map d scrollRight</div></pre></td></tr></table></figure>
<p>在编辑框输入这四行代码,表示让w对应向上滚动，s对应向下滚动,a向左滚，d向右滚…从快捷键对照表括号中知道对应的快捷键代码就能修改相应的快捷键。很容易理解对吗?下面的代码都表示在上述的自定义编辑框中添加的内容，修改完成记得点击最下面的<strong>save changes</strong></p>
<h3 id="半页滚动-h-l"><a href="#半页滚动-h-l" class="headerlink" title="半页滚动-h/l"></a>半页滚动-h/l</h3><p>以上的滚动都只是细微的滚动，我们要快速浏览的时候一般都是滚动半页,对应修改scrollPageDown和scrollpageUp,我个人的喜好是h上滚半页,l下滚半页</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">map l scrollPageDown</div><div class="line">map h scrollPageUp</div></pre></td></tr></table></figure>
<h3 id="回到顶部-底部-qq-ee"><a href="#回到顶部-底部-qq-ee" class="headerlink" title="回到顶部/底部-qq/ee"></a>回到顶部/底部-qq/ee</h3><p>为了方便直接回到最上面和最下面我们还要对这两个快捷键进行设置，我们的左手边现在还有q和e比较空闲，所以我们可以把q设为回到顶部e回到底部，但是后来发现这样我很容易按错.一旦不小心按到q就会回到顶部,这样会降低效率所以我把回到顶部设为qq，也就是要按两次q才能回到顶部，相当于给我们一个确认的机会，同理，回到底部设为ee</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">map qq scrollToTop</div><div class="line">map ee scrollToBottom</div></pre></td></tr></table></figure>
<h2 id="后退-前进-j-k"><a href="#后退-前进-j-k" class="headerlink" title="后退/前进-j/k"></a>后退/前进-j/k</h2><p>我们经常会用到后退和前进每次都要在左上角点击实在太麻烦，所以我把两个操作放到了右手边j和k,按j后退，按k前进,这样两个键就可以进退自如了,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">map j goBack</div><div class="line">map k goForward</div></pre></td></tr></table></figure>
<p>这样子定义的基本上都修改完了，还有一些操作我觉得位置还算合理，没有修改的必要</p>
<h2 id="终极跳转链接大法-f"><a href="#终极跳转链接大法-f" class="headerlink" title="终极跳转链接大法-f"></a>终极跳转链接大法-f</h2><p>vim大杀器，让你不用鼠标就能跳转各种页面，只需要按下f所有的链接都会被标记出来，连接旁边会有黄色的卡片，卡片上写着英文，输入这个英文就能跳转了，需要注意的是<strong>如果输入的是小写的英文则会在当前标签打开，原来的标签会消失，想要打开新的标签页要输入大写的英文，即按住shift再输入</strong>.</p>
<p><em>你也可以直接按大写F，这时候都是打开新标签页的操作</em></p>
<p><img src="http://upload-images.jianshu.io/upload_images/3026741-d919438aaf737593.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="跳转标签页-J-K"><a href="#跳转标签页-J-K" class="headerlink" title="跳转标签页-J/K"></a>跳转标签页-J/K</h2><p>之前我们用小写j和k进行前进和后退，为了尽量不移动手指(就是这么懒), 我们直接用大写J和K来跳转标签页，J向前跳，K向后跳，再也不用一直ctrl+tab了</p>
<h2 id="关闭页面-恢复页面-x-X"><a href="#关闭页面-恢复页面-x-X" class="headerlink" title="关闭页面/恢复页面 - x/X"></a>关闭页面/恢复页面 - x/X</h2><p>关闭当前页面不用再移动鼠标到上面了，只需要按下x，这个页面就over了，就和玩街机一样爽快，什么？不小心关了？大写X，一键回档。</p>
<h2 id="终极搜索栏-o"><a href="#终极搜索栏-o" class="headerlink" title="终极搜索栏 - o"></a>终极搜索栏 - o</h2><p>o是打开新世界的大门，在这里你可以<strong>搜索历史记录，搜索书签，还可以直接打开一个新的网址(或者直接百度谷歌搜索,依赖你的设置的搜索引擎)</strong>,简直不要太方便,虽然chrome的地址栏也可以搜索，但是第一需要手动去点，第二显示出来没有Vimium好看</p>
<blockquote>
<p>小写o是在当前标签页打开，大写O是在新标签页打开</p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/3026741-990da9527414476d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="搜索书签-b"><a href="#搜索书签-b" class="headerlink" title="搜索书签 - b"></a>搜索书签 - b</h2><p>如果你只是想搜索书签，那么一个b就可以了</p>
<blockquote>
<p>大小写区别同上</p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/3026741-c91badd41ffb4ec8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="刷新页面-r"><a href="#刷新页面-r" class="headerlink" title="刷新页面 - r"></a>刷新页面 - r</h2><p>是不是比f5要近一点呢，没错，一点懒都要偷</p>
<h2 id="页面搜索"><a href="#页面搜索" class="headerlink" title="页面搜索 - /"></a>页面搜索 - /</h2><p>相当于ctrl+f的搜索，常用程度一般: )</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>走完上面的流程你会发现基本大部分的浏览器操作都已经有了自己的新快捷键，而且以我的方式自定义你可以操作起来和打拳皇，lf2一样的简单，两手只用放在该放的位置不动就能进行几乎所有的操作，当然还有一些操作是没法替代的，比如玩游戏等等。但是在日常的搜索，阅读，你会发现熟练之后效率奇快而且逼格极高，别人还没看到鼠标动就切换到了下一个页面，当然vimium的极限不止于此，还有很多黑科技，大家自己去探索吧</p>
]]></content>
      
        
        <tags>
            
            <tag> 工具 </tag>
            
            <tag> 效率 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[网络森林]]></title>
      <url>http://blog.acring.me/2017/04/12/%E7%BD%91%E7%BB%9C%E6%A3%AE%E6%9E%971/</url>
      <content type="html"><![CDATA[<h1 id="网络森林-基础篇"><a href="#网络森林-基础篇" class="headerlink" title="网络森林-基础篇"></a>网络森林-基础篇</h1><h2 id="网络协议"><a href="#网络协议" class="headerlink" title="网络协议"></a>网络协议</h2><blockquote>
<p>20世纪60年代以来，计算机网络得到了飞速发展。各大厂商和标准组织为了在数据通信网络领域占据主导地位，纷纷推出了各自的网络架构体系和标准，如IBM公司的SNA协议，Novell公司的IPX/SPX协议，以及广泛流行的OSI参考模型和TCP/IP协议。同时，各大厂商根据这些协议生产出了不同的硬件和软件。标准组织和厂商的共同努力促进了网络技术的快速发展和网络设备种类的迅速增长。网络通信中，“协议”和“标准”这两个词汇常常可以混用。同时，协议或标准本身又常常具有层次的特点。</p>
<p>一般地，关注于逻辑数据关系的协议通常被称为上层协议，而关注于物理数据流的协议通常被称为低层协议。IEEE 802就是一套用来管理物理数据流在局域网中传输的标准，包括在局域网中传输物理数据的802.3以太网标准。</p>
<p>还有一些用来管理物理数据流在使用串行介质的广域网中传输的标准，如帧中继FR（Frame Relay），高级数据链路控制HDLC（High-Level Data Link Control），异步传输模式ATM（Asynchronous Transfer Mode）。</p>
</blockquote>
<p>总的来说，协议就是为了统一计算机之间通讯的规则所建立的一套规定，这样计算机之间的通讯才能正常的进行</p>
<h2 id="网络模型"><a href="#网络模型" class="headerlink" title="网络模型"></a>网络模型</h2><blockquote>
<p>网络模型是一个概念上的模型，是一个试图使各种计算机在世界范围内互连为网络的标准框架。</p>
<p>网络模型是广义上对网络通讯的架构，网络协议是具体的网络通讯的方法</p>
</blockquote>
<h3 id="OSI七层模型"><a href="#OSI七层模型" class="headerlink" title="OSI七层模型"></a>OSI七层模型</h3><blockquote>
<p>国际标准化组织ISO于1984年提出了OSI RM（Open System Interconnection Reference Model，开放系统互连参考模型）。OSI 参考模型很快成为了计算机网络通信的基础模型。</p>
</blockquote>
<p>OSI作为基础的网络模型，很多模型都是在此基础上演变而来</p>
<p>OSI的结构为:</p>
<ol>
<li>应用层 - OSI参考模型中最靠近用户的一层，为应用程序提供网络服务.</li>
<li>表示层 - 提供各种用于应用层数据的编码和转换功能，确保一个系统的应用层发送的数据能被另一个系统的应用层识别。</li>
<li>会话层 - 负责建立、管理和终止表示层实体之间的通信会话。该层的通信由不同设备中的应用程序之间的服务请求和响应组成。</li>
<li>传输层 - 提供面向连接或非面向连接的数据传递以及进行重传前的差错检测。</li>
<li>网络层 - 提供逻辑地址，供路由器确定路径。</li>
<li>数据链路层 - 将比特组合成字节，再将字节组合成帧，使用链路层地址（以太网使用MAC地址）来访问介质，并进行差错检测。</li>
<li>物理层 - 在设备之间传输比特流，规定了电平、速度和电缆针脚。</li>
</ol>
<p>从上到下是越来越接近底层的</p>
<h3 id="TCP-IP模型"><a href="#TCP-IP模型" class="headerlink" title="TCP/IP模型"></a>TCP/IP模型</h3><ol>
<li>应用层</li>
<li>传输层</li>
<li>网络层</li>
<li>网络接口层</li>
</ol>
<p>TCP/IP模型的基础是OSI模型，只是对OSI模型进行了精简和归纳</p>
<h2 id="IP编址"><a href="#IP编址" class="headerlink" title="IP编址"></a>IP编址</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><blockquote>
<p>网络层位于数据链路层与传输层之间。网络层中包含了许多协议，其中最为重要的协议就是IP协议。网络层提供了IP路由功能。理解IP路由除了要熟悉IP协议的工作机制之外，还必须理解IP编址以及如何合理地使用IP地址来设计网络。</p>
</blockquote>
<ul>
<li>IP地址分为网络部分和主机部分。</li>
<li>IP地址由32个二进制组成，但是我们一般用10进制来查看</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">网络位</th>
<th style="text-align:center">主机位</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">192.168.1</td>
<td style="text-align:center">.1</td>
</tr>
<tr>
<td style="text-align:center">11000000.10101000.00000001</td>
<td style="text-align:center">.00000001</td>
</tr>
</tbody>
</table>
<blockquote>
<p>IPv4地址为32比特的二进制数，通常用点分十进制表示。IP地址用来标识网络中的设备，具有IP地址的设备可以在同一网段内或跨网段通信。IP地址包括两部分，第一部分是网络号，表示IP地址所属的网段，第二部分是主机号，用来唯一标识本网段上的某台网络设备。</p>
<p>网络位相同的计算机就属于同一个网段，比如你可以看同一个寝室的IP地址，网络位一般都是一样的。</p>
</blockquote>
<ul>
<li>当然网络位并不是只是看逗号分隔的前三个，而是要由子网掩码来区分网段，在后面会说到</li>
</ul>
<h3 id="特殊地址"><a href="#特殊地址" class="headerlink" title="特殊地址"></a>特殊地址</h3><blockquote>
<p>每个网段上都有两个特殊地址不能分配给主机或网络设备。第一个是该网段的网络地址，该IP地址的主机位为全0，表示一个网段。第二个地址是该网段中的广播地址，目的地址为广播地址的报文会被该网段中的所有网络设备接收。广播地址的主机位为全1。除网络地址和广播地址以外的其他IP地址可以作为网络设备的IP地址。</p>
</blockquote>
<ul>
<li>按我们上述的网段，该网段的<strong>网络地址</strong>为<strong>192.168.1.0</strong>而<strong>广播地址</strong>为<strong>192.168.1.255</strong></li>
<li>这两个地址是不能分配给主机使用的，如果你把自己的主机的IP地址改成这两个估计是用不了的，有兴趣的可以试试</li>
<li>特殊地址汇中私有IP地址，在后面会讲到。</li>
</ul>
<h3 id="进制转换"><a href="#进制转换" class="headerlink" title="进制转换"></a>进制转换</h3><ul>
<li>之前说到IPv4是32位二进制的数，那么我们就有可能遇到要直接看二进制IP地址的情况，所以要我们能从二进制数转十进制数。</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">11000000.</th>
<th style="text-align:center">10101000.</th>
<th style="text-align:center">00000001.</th>
<th style="text-align:center">00000001</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">$2^7+2^6$</td>
<td style="text-align:center">$2^7+2^5+2^3$</td>
<td style="text-align:center">$2^0$</td>
<td style="text-align:center">$2^0$</td>
</tr>
<tr>
<td style="text-align:center">192.</td>
<td style="text-align:center">168.</td>
<td style="text-align:center">1.</td>
<td style="text-align:center">1</td>
</tr>
</tbody>
</table>
<blockquote>
<p>相信你能从上面的转换示例很快的理解他的转换方法</p>
</blockquote>
<h3 id="IP地址分类"><a href="#IP地址分类" class="headerlink" title="IP地址分类"></a>IP地址分类</h3><blockquote>
<p>IPv4地址被划分为A、B、C、D、E五类，每类地址的网络号包含不同的字节数。A类，B类，和C类地址为可分配IP地址，每类地址支持的网络数和主机数不同。比如，A类地址可支持126个网络，每个网络支持224 （16,777,216 )个主机地址，另外每个网段中的网络地址和广播地址不能分配给主机。C类地址支持200多万个网络，每个网络支持256个主机地址，其中254个地址可以分配给主机使用。</p>
<p>D类地址为组播地址。主机收到以D类地址为目的地址的报文后，且该主机是该组播组成员，就会接收并处理该报文。各类IP地址可以通过第一个字节中的比特位进行区分。如A类地址第一字节的最高位固定为0，B类地址第一字节的高两位固定为10，C类地址第一字节的高三位固定为110，D类地址第一字节的高四位固定为1110，E类地址第一字节的高四位固定为1111。</p>
</blockquote>
<table>
<thead>
<tr>
<th>类别</th>
<th>网络位开头</th>
<th>网络位</th>
<th>主机位</th>
<th>范围</th>
</tr>
</thead>
<tbody>
<tr>
<td>A类</td>
<td>0</td>
<td>网络位(8bit)</td>
<td>主机位(24bit)</td>
<td>0.0.0.0~127.255.255.255</td>
</tr>
<tr>
<td>B类</td>
<td>10</td>
<td>网络位(16bit)</td>
<td>主机位(16bit)</td>
<td>128.0.0.0~191.255.255.255</td>
</tr>
<tr>
<td>C类</td>
<td>110</td>
<td>网络位(24bit)</td>
<td>主机位(8bit)</td>
<td>192.0.0.0~223.255.255.255</td>
</tr>
</tbody>
</table>
<p>可以看到A,B,C类的区别其实就在于网络数量其同一网段的主机数，网络位越小，可分配的主机数就越多，反之越少。D,E类，我们一般不管。</p>
<ul>
<li><strong>bilibili首页</strong>的IP地址为<strong>183.131.3.45</strong>，即为B类地址</li>
<li><strong>百度网盘首页</strong>IP地址为<strong>119.75.222.122</strong>，即为A类地址</li>
<li><strong>Youtube首页</strong>IP地址(那是啥)为<strong>208.65.153.238</strong>，即为C类地址</li>
<li><strong>数字广大首页</strong>IP地址为<strong>202.192.18.234</strong>，也是C类IP地址</li>
</ul>
<p>这些谈的都是<strong>公网地址</strong>，也就是说外界可以直接访问的，你可能会兴冲冲的看看自己的IP地址(windows打开cmd输入ipconfig&amp;Linux终端输入ifconfig),在<strong>以太网</strong>那里你会看到172.xx.xx.xx或者192.168.xx.xx或者10.xx.xx.xx，先冷静，我们先来谈谈<strong>私有地址</strong>吧</p>
<h3 id="私有地址"><a href="#私有地址" class="headerlink" title="私有地址"></a>私有地址</h3><p>我们先来做一个测试，用命令找到你的以太网地址（如果你是在校园网就最好了），打开<a href="http://ip.lockview.cn" target="_blank" rel="external">IP查询网站</a>，把地址复制到查询框中，在查询之前你就会发现一个问题，这个网站本身就显示了<em>您的IP地址是…</em>,但是这个地址好像和我们本地查询的不一样啊，为什么呢，这时候你点击查询按钮，一看结果:<strong>本地局域网或网管</strong></p>
<blockquote>
<p>局域网（Local Area Network, LAN），又称内网。指覆盖局部区域（如办公室或楼层）的计算机网络。按照网络覆盖的区域（距离）不同，其他的网络类型还包括个人网、城域网、广域网等。</p>
</blockquote>
<p>通俗的来讲局域网就是小范围的网络通讯，两台用网线连接起来的计算机就可以称为局域网了，校园网也是一种局域网，一般来说局域网会有一个统一的出口连接到广域网，也就是公网</p>
<ul>
<li>如果你和你同一个寝室的同学都上这个<a href="http://ip.lockview.cn" target="_blank" rel="external">IP查询网站</a>，会发现他告诉你，你们的IP地址是一样的，但实际上没有一台主机的公网IP能一样，答案就是你们都是通过这个IP地址所对应的主机所转发的信息，所以查询到的IP地址都是一样的。</li>
</ul>
<p>那我们电脑上用命令行得到的IP地址就没用了吗，并不是，他是你再内网中的<strong>唯一IP标识</strong>，你和你宿友的肯定不一样。而且这个IP地址有一个特点，就是<strong>一定是以10或172或192开头的</strong>。这就是所谓的<strong>私有地址</strong>。</p>
<blockquote>
<p>IPv4中的部分IP地址被保留用作特殊用途。为节省IPv4地址，A， B， C类地址段中都预留了特定范围的地址作为私网地址。现在，世界上所有终端系统和网络设备需要的IP地址总数已经超过了32位IPv4地址所能支持的最大地址数4，294，967，296。为主机分配私网地址节省了公网地址，可以用来缓解IP地址短缺的问题。企业网络中普遍使用私网地址，不同企业网络中的私网地址可以重叠。默认情况下，网络中的主机无法使用私网地址与公网通信；当需要与公网通信时，私网地址必须转换成公网地址。</p>
</blockquote>
<ul>
<li>私有地址范围</li>
<li>10.0.0.0-10.255.255.255</li>
<li>172.16.0.0-172.31.255.255</li>
<li>192.168.0.0-192.168.255</li>
</ul>
<p>这些私有地址在公网是访问不了的，公网中也不存在这样的地址，因为在<strong>不同的局域网中都可能出现这样的私有地址</strong>，但是<strong>同一个局域网的主机是可以通过私有地址访问</strong>的。</p>
<h3 id="子网掩码"><a href="#子网掩码" class="headerlink" title="子网掩码"></a>子网掩码</h3><blockquote>
<p> 子网掩码用于区分网络部分和主机部分。子网掩码与IP地址的表示方法相同。每个IP地址和子网掩码一起可以用来唯一的标识一个网段中的某台网络设备。子网掩码中的1表示网络位，0表示主机位。</p>
</blockquote>
<p>前面我们在IP地址分类已经说到了A类，B类，C类地址的网络位和主机位的位数，那我们来看看这些不同类地址的子网掩码对应的是什么吧</p>
<ul>
<li>A类</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">网络位(8bit)</th>
<th style="text-align:center">主机位(24bit)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">11111111.</td>
<td style="text-align:center">00000000.00000000.000000</td>
</tr>
</tbody>
</table>
<p>即A类地址的子网掩码为255.0.0.0</p>
<ul>
<li>B类</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">网络位(16bit)</th>
<th style="text-align:center">主机位(16bit)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1111111.11111111</td>
<td style="text-align:center">00000000.00000000</td>
</tr>
</tbody>
</table>
<p>即B类地址的子网掩码为255.255.0.0</p>
<ul>
<li>C类</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">网络位(24bit)</th>
<th style="text-align:center">主机位(8bit)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1111111.11111111.11111111</td>
<td style="text-align:center">00000000</td>
</tr>
</tbody>
</table>
<p>即B类地址的子网掩码为255.255.255.0</p>
<blockquote>
<p>每类IP地址有一个缺省子网掩码。A类地址的缺省子网掩码为8位，即第一个字节表示网络位，其他三个字节表示主机位。B类地址的缺省子网掩码为16位，因此B类地址支持更多的网络，但是主机数也相应减少。C类地址的缺省子网掩码为24位，支持的网络最多，同时也限制了单个网络中主机的数量。</p>
</blockquote>
<p>这样子看好像有点弱智，我们都知道A,B,C类的网络位和主机位了还要什么子网掩码来告诉我们怎么区分吗？ABC类地址我们确实可以很简单的知道他们的子网掩码，这个例子只是告诉我们子网掩码和网络位和主机位的关系。</p>
<ul>
<li>到了实际应用中会出现加长网络位在一个网络中再分不同网络的情况，在后面会说到</li>
<li>192.168.191.1/24即是192.168.191.1/255.255.255.0</li>
</ul>
<h3 id="小练习"><a href="#小练习" class="headerlink" title="小练习"></a>小练习</h3><p>1.</p>
<table>
<thead>
<tr>
<th>类型</th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>IP地址</td>
<td>192.</td>
<td>168.</td>
<td>191.</td>
<td>1</td>
</tr>
<tr>
<td>子网掩码</td>
<td>255.</td>
<td>255.</td>
<td>255.</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>2.</p>
<table>
<thead>
<tr>
<th>类型</th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>IP地址</td>
<td>172.</td>
<td>16.</td>
<td>1.</td>
<td>7</td>
</tr>
<tr>
<td>子网掩码</td>
<td>255.</td>
<td>255.</td>
<td>0.</td>
<td>0</td>
</tr>
</tbody>
</table>
<ul>
<li>根据给出的IP地址和子网掩码，请算出此网络中包含的主机地址数量以及可用主机地址的数量。</li>
</ul>
<p>答案: </p>
<p>1.该网络中包含的主机地址数量为$2^8$个，可用主机位$2^8-2$个</p>
<p>2.该网络中包含的主机地址数量为$2^{16}$个，可用主机位$2^{16}-2$个</p>
<h3 id="变长子网掩码"><a href="#变长子网掩码" class="headerlink" title="变长子网掩码"></a>变长子网掩码</h3><p>从练习中我们知道了C类地址的可用主机位为254个，但是有时候我们一个局域网中可能没有那么多的主机，比如我这局域网中只有100台主机，即使用C类地址的子网掩码也有154个地址被浪费了，所以为了不浪费，想到了另一种方法，就是把子网掩码变长</p>
<p><img src="http://omudx2uw8.bkt.clouddn.com/%E5%8F%98%E9%95%BF%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81.png" alt=""></p>
<p>通过那子网掩码变长，我们可以进一步划分网络，让可用主机数减少，更多的IP地址的到利用。</p>
<h3 id="无类域间路由"><a href="#无类域间路由" class="headerlink" title="无类域间路由"></a>无类域间路由</h3><blockquote>
<p>无类域间路由CIDR（Classless Inter Domain Routing）由RFC1817定义。CIDR突破了传统IP地址的分类边界，将路由表中的若干条路由汇聚为一条路由，减少了路由表的规模，提高了路由器的可扩展性。如上图所示，一个企业分配到了一段A类网络地址，10.24.0.0/22。该企业准备把这些A类网络分配给各个用户群，目前已经分配了四个网段给用户。如果没有实施CIDR技术，企业路由器的路由表中会有四条下连网段的路由条目，并且会把它通告给其他路由器。通过实施CIDR技术，我们可以在企业的路由器上把这四条路由10.24.0.0/24，10.24.1.0/24，10.24.2.0/24，10.24.3.0/24汇聚成一条路由10.24.0.0/22。这样，企业路由器只需通告10.24.0.0/22这一条路由，大大减少了路由表的规模。</p>
</blockquote>
<h3 id="网关"><a href="#网关" class="headerlink" title="网关"></a>网关</h3><ul>
<li>网关用来转发来自不同网段之间的数据包。</li>
</ul>
<p>像之前我们所说，校园网是局域网，我们要通过校园网向外界发送信息必须要经过一个叫网关的东西，消息进入校园网也需要经过网关。</p>
]]></content>
      
        
        <tags>
            
            <tag> 网络 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Junit测试入门1]]></title>
      <url>http://blog.acring.me/2017/04/08/JUnit%E6%B5%8B%E8%AF%95%E5%85%A5%E9%97%A8/</url>
      <content type="html"><![CDATA[<h1 id="JUnit测试入门"><a href="#JUnit测试入门" class="headerlink" title="JUnit测试入门"></a>JUnit测试入门</h1><h2 id="创建Junit测试"><a href="#创建Junit测试" class="headerlink" title="创建Junit测试"></a>创建Junit测试</h2><ul>
<li>打开eclipse</li>
<li>创建一个项目</li>
<li>为项目引入Junit包 <strong>右键-&gt;Build Path-&gt;add Libraries-&gt;Junit-&gt;Next-&gt;Junit4-&gt;Finish</strong></li>
<li>在项目中新建Test文件目录与src目录区分开</li>
<li>在src目录下创建一个类</li>
<li>在该类中写出要被单元测试函数</li>
<li>右键创建一个Junit Test Case</li>
<li>修改测试类Source folder的位置点击Next</li>
<li>选中要单元测试的函数</li>
<li>Finish</li>
</ul>
<h2 id="编写Junit测试"><a href="#编写Junit测试" class="headerlink" title="编写Junit测试"></a>编写Junit测试</h2><h3 id="Test"><a href="#Test" class="headerlink" title="@Test"></a>@Test</h3><p>@Test 是每个单元测试必须的修饰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Test</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</div><div class="line">  <span class="comment">//<span class="doctag">TODO:</span></span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="public-void"><a href="#public-void" class="headerlink" title="public void"></a>public void</h3><p>所有的单元测试必须使用public void 修饰，不能持有任何参数</p>
<h3 id="assertEquals"><a href="#assertEquals" class="headerlink" title="assertEquals"></a>assertEquals</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">assertEquals(expected, actual);</div></pre></td></tr></table></figure>
<p>assertEquals 的基本用法为</p>
<blockquote>
<p><code>expected</code>是预计值，actual是对应的函数</p>
</blockquote>
<p>例:</p>
<p>被测函数:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;</div><div class="line">		<span class="keyword">return</span> a+ b;</div><div class="line">	&#125;</div></pre></td></tr></table></figure>
<p>测试函数:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Test</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testAdd</span><span class="params">()</span></span>&#123;</div><div class="line">		assertEquals(<span class="number">6</span>, <span class="keyword">new</span> Calculate().add(<span class="number">3</span>,<span class="number">3</span>));</div><div class="line">		</div><div class="line">	&#125;</div></pre></td></tr></table></figure>
<h2 id="运行Junit测试"><a href="#运行Junit测试" class="headerlink" title="运行Junit测试"></a>运行Junit测试</h2><ul>
<li>右键项目-&gt;Run As-&gt;Junit Test</li>
<li>观察测试的结果</li>
</ul>
<h2 id="编写测试的基本方法要点"><a href="#编写测试的基本方法要点" class="headerlink" title="编写测试的基本方法要点"></a>编写测试的基本方法要点</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"></div><div class="line"> * Created by Administrator on 2015/5/29.</div><div class="line"></div><div class="line"> * 1.测试方法上必须使用<span class="doctag">@Test</span>进行修饰</div><div class="line"></div><div class="line"> * 2.测试方法必须使用public void 进行修饰，不能待任何的参数</div><div class="line"></div><div class="line"> * 3.新建一个源代码目录</div><div class="line"></div><div class="line"> * 4.测试类的爆应该和被测试类保持一致</div><div class="line"></div><div class="line"> * 5.测试单元中的每个方法必须可以独立测试，测试方法间不能有任何的依赖</div><div class="line"></div><div class="line"> * 6.测试类使用Test作为类名的后缀</div><div class="line"></div><div class="line"> * 7.测试方法使用test作为方法名的前缀</div><div class="line"></div><div class="line"> */</div></pre></td></tr></table></figure>
<h2 id="Error和Failure的区别"><a href="#Error和Failure的区别" class="headerlink" title="Error和Failure的区别"></a>Error和Failure的区别</h2><ol>
<li>Failure 一般由单元测试使用的方法判断失败所引起的，这表示测试点发现了问题，就是说问题输出的结果和我们预期的不一样。</li>
<li>error是有代码异常引起的，它可以产生于测试代码本身的错误，也可以是测试代码中一个隐藏的bug</li>
<li>测试用力不是用来证明你是对的，而是用来证明你没有错。</li>
</ol>
<h2 id="JUnit运行流程"><a href="#JUnit运行流程" class="headerlink" title="JUnit运行流程"></a>JUnit运行流程</h2><ol>
<li>@BeforeClass修饰的方法会在所有方法被小勇前被执行，而且该方法是静态的，所以当测试类被加载后接着就会运行它，而且在内存中只会存在一份实例，所以比较适合加载文件</li>
<li>@AfterClass 所修饰的方法通常用来对资源的清理，如关闭数据库</li>
<li>@Before和@After会在每个测试方法的前后各执行一次。</li>
</ol>
<h2 id="JUnit常用注解"><a href="#JUnit常用注解" class="headerlink" title="JUnit常用注解"></a>JUnit常用注解</h2><ul>
<li>@Test:将一个普通的方法修饰成一个测试方法</li>
</ul>
<p>Test注解的可选参数有</p>
<p>(expected=XX.class) 预计报出的错误</p>
<p>(timeout=XXs) 超时时间,超过时间就结束</p>
<ul>
<li>@ BeforeClass: 会在所有方法运行前被执行，static修饰</li>
<li>@AfterClass: 会在所有方法运行后被执行，static修饰</li>
<li>@Before: 会在每一个测试方法被运行前执行一次</li>
<li>@After: 会在每一个测试方法被运行后执行一次</li>
<li>@Ignore: 所修饰的方法会被测试运行器忽略</li>
<li>@RunWith: 更改测试运行器</li>
</ul>
<h2 id="测试套件"><a href="#测试套件" class="headerlink" title="测试套件"></a>测试套件</h2><ol>
<li>测试套件就是组织测试类一起运行的</li>
<li>写一个作为测试套件的入口类，这个类里不包含其他的方法。</li>
<li>更改测试运行器Suite.class.</li>
<li>将要测试的类作为数组传入到Suite.SuiteClasses({})</li>
</ol>
<p>eg:@RunWith(Suite.class)  @Suite.SuiteClasses({TaskTest1.class,TaskTest2.class,TaskTest3.class})</p>
<p>public class SuiteTest{}</p>
<p>//再建几个JUnit的测试类//TaskTest1.class,TaskTest2.class,TaskTest3.class</p>
<h2 id="参数设置"><a href="#参数设置" class="headerlink" title="参数设置"></a>参数设置</h2><ol>
<li>创建新的Test类，指定运行器RunWith(Parameterized.class)</li>
<li>申明变量来存放预期值和结果值</li>
<li>申明一个返回值为Collection的公共静态方法，并使用@Parameters进行修饰</li>
<li>未测试类申明一个带有参数的公共构造方法，并在其中为声明变量赋值</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.Acring.util;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.util.Arrays;</div><div class="line"><span class="keyword">import</span> java.util.Collection;</div><div class="line"></div><div class="line"><span class="keyword">import</span> org.junit.Assert;</div><div class="line"><span class="keyword">import</span> org.junit.Before;</div><div class="line"><span class="keyword">import</span> org.junit.Test;</div><div class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</div><div class="line"><span class="keyword">import</span> org.junit.runners.Parameterized;</div><div class="line"><span class="keyword">import</span> org.junit.runners.Parameterized.Parameters;</div><div class="line"></div><div class="line"><span class="meta">@RunWith</span>(Parameterized.class)</div><div class="line"><span class="comment">// 指定运行器runner:使用参数化运行器来运行</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">parameterTest</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> expected;<span class="comment">// 期待的结果值</span></div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> input1;<span class="comment">// 参数1</span></div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> input2;<span class="comment">// 参数2</span></div><div class="line"></div><div class="line">    <span class="keyword">private</span> Calculate calculator = <span class="keyword">null</span>;</div><div class="line"></div><div class="line">    <span class="meta">@Parameters</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Collection <span class="title">prepareData</span><span class="params">()</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// 测试数据</span></div><div class="line">        Object[][] objects = &#123; &#123; <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span> &#125;, &#123; -<span class="number">4</span>, -<span class="number">1</span>, -<span class="number">3</span> &#125;, &#123; <span class="number">5</span>, <span class="number">2</span>, <span class="number">3</span> &#125;,</div><div class="line">                &#123; <span class="number">4</span>, -<span class="number">4</span>, <span class="number">8</span> &#125; &#125;;</div><div class="line">        <span class="keyword">return</span> Arrays.asList(objects);<span class="comment">// 将数组转换成集合返回</span></div><div class="line"></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Before</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUp</span><span class="params">()</span></span></div><div class="line">    &#123;</div><div class="line">        calculator = <span class="keyword">new</span> Calculate();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">parameterTest</span><span class="params">(<span class="keyword">int</span> expected, <span class="keyword">int</span> input1, <span class="keyword">int</span> input2)</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// 构造方法</span></div><div class="line">        <span class="comment">// JUnit会使用准备的测试数据传给构造函数</span></div><div class="line">        <span class="keyword">this</span>.expected = expected;</div><div class="line">        <span class="keyword">this</span>.input1 = input1;</div><div class="line">        <span class="keyword">this</span>.input2 = input2;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Test</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testAdd</span><span class="params">()</span></span></div><div class="line">    &#123;</div><div class="line">        Assert.assertEquals(<span class="keyword">this</span>.expected,</div><div class="line">                calculator.add(<span class="keyword">this</span>.input1, <span class="keyword">this</span>.input2));</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="断言"><a href="#断言" class="headerlink" title="断言"></a>断言</h2><p>JUnit为我们提供了一些辅助函数，他们用来帮助我们确定被测试的方法是否按照预期的效果正常工作，通常，把这些辅助函数称为断言。</p>
<p>前面用的 assertEquals 就是断言</p>
]]></content>
      
        
        <tags>
            
            <tag> 测试 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[广州大学数据分析(13-15届)]]></title>
      <url>http://blog.acring.me/2017/03/25/%E5%B9%BF%E5%B7%9E%E5%A4%A7%E5%AD%A6%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90(13-15%E5%B1%8A)/</url>
      <content type="html"><![CDATA[<h2 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示"></a>效果展示</h2><div id="echarts6842" style="width: 100%;height: 750px;margin: 0 auto"></div>
<!-- <script src="http://echarts.baidu.com/dist/echarts.js"></script> -->

<script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('echarts6842'));
        // 指定图表的配置项和数据
        var option = option = {
    
       title:{
        text: "广州大学数据分析",
        subtext: "各学院专业关系-Acring",
        top: "top",
        left: "center"
    },
      tooltip: {},
      legend: [{
          formatter: function (name) {
        return echarts.format.truncateText(name, 40, '14px Microsoft Yahei', '…');
    },
    tooltip: {
        show: true
    },
          selectedMode: 'false',
          bottom: 20,
          data: ['计算机科学与教育软件学院', '地理科学学院', '机械与电气工程学院', '经济与统计学院', '土木工程学院', '新闻与传播学院', '外国语学院', '人文学院', '数学与信息科学学院', '工商管理学院', '法学院', '公共管理学院', '卫斯理安学院', '政治与公民教育学院', '旅游学院', '教育学院', '环境科学与工程学院', '化学化工学院', '物理与电子工程学院', '建筑与城市规划学院', '美术与设计学院', '生命科学学院', '体育学院', '音乐舞蹈学院']
      }],
      toolbox: {
        show : true,
        feature : {
            dataView : {show: true, readOnly: true},
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
      animationDuration: 3000,
      animationEasingUpdate: 'quinticInOut',
      series: [{
          name: '广州大学',
          type: 'graph',
          layout: 'force',

          force: {
              repulsion: 50
          },
          data: [{
              "name": "广州大学",
              // "x": 0,
              // y: 0,
              "symbolSize": 20,
              "draggable": "true",
              "value": 27

          }, {
              "name": "计算机科学与教育软件学院",
              "value": 3,
              "symbolSize": 9,
              "category": "计算机科学与教育软件学院",
              "draggable": "true"
          }, {
              "name": "计算机科学与技术",
              "symbolSize": 3,
              "category": "计算机科学与教育软件学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "软件工程",
              "symbolSize": 3,
              "category": "计算机科学与教育软件学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "网络工程",
              "symbolSize": 3,
              "category": "计算机科学与教育软件学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "地理科学学院",
              "value": 6,
              "symbolSize": 18,
              "category": "地理科学学院",
              "draggable": "true"
          }, {
              "name": "地理科学",
              "symbolSize": 3,
              "category": "地理科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "地理信息科学",
              "symbolSize": 3,
              "category": "地理科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "人文地理与城乡规划",
              "symbolSize": 3,
              "category": "地理科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "人文地理与城乡规划(区域物流)",
              "symbolSize": 3,
              "category": "地理科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "人文地理与城乡规划(不动产)",
              "symbolSize": 3,
              "category": "地理科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "自然地理与资源环境",
              "symbolSize": 3,
              "category": "地理科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "机械与电气工程学院",
              "value": 5,
              "symbolSize": 15,
              "category": "机械与电气工程学院",
              "draggable": "true"
          }, {
              "name": "电气工程及其自动化",
              "symbolSize": 3,
              "category": "机械与电气工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "机械设计制造及其自动化",
              "symbolSize": 3,
              "category": "机械与电气工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "电子信息工程",
              "symbolSize": 3,
              "category": "机械与电气工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "工业设计",
              "symbolSize": 3,
              "category": "机械与电气工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "通信工程",
              "symbolSize": 3,
              "category": "机械与电气工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "经济与统计学院",
              "value": 6,
              "symbolSize": 18,
              "category": "经济与统计学院",
              "draggable": "true"
          }, {
              "name": "统计学",
              "symbolSize": 3,
              "category": "经济与统计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "金融工程",
              "symbolSize": 3,
              "category": "经济与统计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "经济学",
              "symbolSize": 3,
              "category": "经济与统计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "国际经济与贸易",
              "symbolSize": 3,
              "category": "经济与统计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "金融学",
              "symbolSize": 3,
              "category": "经济与统计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "会计学",
              "symbolSize": 3,
              "category": "经济与统计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "土木工程学院",
              "value": 8,
              "symbolSize": 24,
              "category": "土木工程学院",
              "draggable": "true"
          }, {
              "name": "给排水科学与工程",
              "symbolSize": 3,
              "category": "土木工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "土木工程(道路与桥梁工程)",
              "symbolSize": 3,
              "category": "土木工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "土木工程(建筑工程)",
              "symbolSize": 3,
              "category": "土木工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "土木工程(综合试点)",
              "symbolSize": 3,
              "category": "土木工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "土木工程(结构分析)",
              "symbolSize": 3,
              "category": "土木工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "土木工程(地下建筑工程)",
              "symbolSize": 3,
              "category": "土木工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "交通工程",
              "symbolSize": 3,
              "category": "土木工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "建筑环境与能源应用工程",
              "symbolSize": 3,
              "category": "土木工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "新闻与传播学院",
              "value": 5,
              "symbolSize": 15,
              "category": "新闻与传播学院",
              "draggable": "true"
          }, {
              "name": "广告学",
              "symbolSize": 3,
              "category": "新闻与传播学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "广播电视学",
              "symbolSize": 3,
              "category": "新闻与传播学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "网络与新媒体",
              "symbolSize": 3,
              "category": "新闻与传播学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "播音与主持艺术",
              "symbolSize": 3,
              "category": "新闻与传播学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "广播电视编导",
              "symbolSize": 3,
              "category": "新闻与传播学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "外国语学院",
              "value": 6,
              "symbolSize": 18,
              "category": "外国语学院",
              "draggable": "true"
          }, {
              "name": "英语(翻译)",
              "symbolSize": 3,
              "category": "外国语学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "英语(教师教育)",
              "symbolSize": 3,
              "category": "外国语学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "英语(国际商务)",
              "symbolSize": 3,
              "category": "外国语学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "日语",
              "symbolSize": 3,
              "category": "外国语学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "英语",
              "symbolSize": 3,
              "category": "外国语学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "法语",
              "symbolSize": 3,
              "category": "外国语学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "人文学院",
              "value": 10,
              "symbolSize": 30,
              "category": "人文学院",
              "draggable": "true"
          }, {
              "name": "汉语言文学",
              "symbolSize": 3,
              "category": "人文学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "历史学",
              "symbolSize": 3,
              "category": "人文学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "汉语国际教育",
              "symbolSize": 3,
              "category": "人文学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "汉语言文学(戏剧与影视学)",
              "symbolSize": 3,
              "category": "人文学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "汉语言文学(文学)",
              "symbolSize": 3,
              "category": "人文学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "汉语言文学(秘书学)",
              "symbolSize": 3,
              "category": "人文学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "汉语言文学(应用语言学)",
              "symbolSize": 3,
              "category": "人文学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "汉语言文学(教师教育)",
              "symbolSize": 3,
              "category": "人文学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "历史学(教师教育)",
              "symbolSize": 3,
              "category": "人文学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "历史学(文化资源开发与利用)",
              "symbolSize": 3,
              "category": "人文学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "数学与信息科学学院",
              "value": 6,
              "symbolSize": 18,
              "category": "数学与信息科学学院",
              "draggable": "true"
          }, {
              "name": "信息安全",
              "symbolSize": 3,
              "category": "数学与信息科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "数学与应用数学(金融数学)",
              "symbolSize": 3,
              "category": "数学与信息科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "信息与计算科学",
              "symbolSize": 3,
              "category": "数学与信息科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "数学与应用数学(教师教育)",
              "symbolSize": 3,
              "category": "数学与信息科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "数学与应用数学(精算学)",
              "symbolSize": 3,
              "category": "数学与信息科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "数学与应用数学(基础数学)",
              "symbolSize": 3,
              "category": "数学与信息科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "工商管理学院",
              "value": 6,
              "symbolSize": 18,
              "category": "工商管理学院",
              "draggable": "true"
          }, {
              "name": "工程管理",
              "symbolSize": 3,
              "category": "工商管理学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "物流管理",
              "symbolSize": 3,
              "category": "工商管理学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "工商管理",
              "symbolSize": 3,
              "category": "工商管理学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "电子商务",
              "symbolSize": 3,
              "category": "工商管理学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "市场营销",
              "symbolSize": 3,
              "category": "工商管理学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "人力资源管理",
              "symbolSize": 3,
              "category": "工商管理学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "法学院",
              "value": 2,
              "symbolSize": 6,
              "category": "法学院",
              "draggable": "true"
          }, {
              "name": "法学",
              "symbolSize": 3,
              "category": "法学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "法学（律师）",
              "symbolSize": 3,
              "category": "法学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "公共管理学院",
              "value": 3,
              "symbolSize": 9,
              "category": "公共管理学院",
              "draggable": "true"
          }, {
              "name": "社会工作",
              "symbolSize": 3,
              "category": "公共管理学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "行政管理",
              "symbolSize": 3,
              "category": "公共管理学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "公共事业管理",
              "symbolSize": 3,
              "category": "公共管理学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "卫斯理安学院",
              "value": 2,
              "symbolSize": 6,
              "category": "卫斯理安学院",
              "draggable": "true"
          }, {
              "name": "经济学(卫斯理安)",
              "symbolSize": 3,
              "category": "卫斯理安学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "工商管理(卫斯理安)",
              "symbolSize": 3,
              "category": "卫斯理安学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "政治与公民教育学院",
              "value": 1,
              "symbolSize": 3,
              "category": "政治与公民教育学院",
              "draggable": "true"
          }, {
              "name": "思想政治教育",
              "symbolSize": 3,
              "category": "政治与公民教育学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "旅游学院",
              "value": 4,
              "symbolSize": 12,
              "category": "旅游学院",
              "draggable": "true"
          }, {
              "name": "会展经济与管理",
              "symbolSize": 3,
              "category": "旅游学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "旅游管理(旅游企业管理)",
              "symbolSize": 3,
              "category": "旅游学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "旅游管理(酒店管理)",
              "symbolSize": 3,
              "category": "旅游学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "旅游管理[中法]",
              "symbolSize": 3,
              "category": "旅游学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "教育学院",
              "value": 6,
              "symbolSize": 18,
              "category": "教育学院",
              "draggable": "true"
          }, {
              "name": "心理学",
              "symbolSize": 3,
              "category": "教育学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "心理学（特殊儿童心理发展与教育）",
              "symbolSize": 3,
              "category": "教育学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "应用心理学",
              "symbolSize": 3,
              "category": "教育学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "教育技术学",
              "symbolSize": 3,
              "category": "教育学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "学前教育",
              "symbolSize": 3,
              "category": "教育学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "小学教育",
              "symbolSize": 3,
              "category": "教育学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "环境科学与工程学院",
              "value": 2,
              "symbolSize": 6,
              "category": "环境科学与工程学院",
              "draggable": "true"
          }, {
              "name": "环境工程",
              "symbolSize": 3,
              "category": "环境科学与工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "环境科学",
              "symbolSize": 3,
              "category": "环境科学与工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "化学化工学院",
              "value": 5,
              "symbolSize": 15,
              "category": "化学化工学院",
              "draggable": "true"
          }, {
              "name": "化学工程与工艺",
              "symbolSize": 3,
              "category": "化学化工学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "化学(教师教育)",
              "symbolSize": 3,
              "category": "化学化工学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "化学(精细化学品化学与技术)",
              "symbolSize": 3,
              "category": "化学化工学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "化学",
              "symbolSize": 3,
              "category": "化学化工学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "食品科学与工程",
              "symbolSize": 3,
              "category": "化学化工学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "物理与电子工程学院",
              "value": 4,
              "symbolSize": 12,
              "category": "物理与电子工程学院",
              "draggable": "true"
          }, {
              "name": "光电信息科学与工程",
              "symbolSize": 3,
              "category": "物理与电子工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "物联网工程",
              "symbolSize": 3,
              "category": "物理与电子工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "物理学",
              "symbolSize": 3,
              "category": "物理与电子工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "电子信息科学与技术",
              "symbolSize": 3,
              "category": "物理与电子工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "建筑与城市规划学院",
              "value": 4,
              "symbolSize": 12,
              "category": "建筑与城市规划学院",
              "draggable": "true"
          }, {
              "name": "建筑学",
              "symbolSize": 3,
              "category": "建筑与城市规划学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "城乡规划",
              "symbolSize": 3,
              "category": "建筑与城市规划学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "风景园林",
              "symbolSize": 3,
              "category": "建筑与城市规划学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "建筑学（五年制）",
              "symbolSize": 3,
              "category": "建筑与城市规划学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "美术与设计学院",
              "value": 9,
              "symbolSize": 27,
              "category": "美术与设计学院",
              "draggable": "true"
          }, {
              "name": "美术学",
              "symbolSize": 3,
              "category": "美术与设计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "美术学(教师教育)",
              "symbolSize": 3,
              "category": "美术与设计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "动画",
              "symbolSize": 3,
              "category": "美术与设计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "动画(游戏动画)",
              "symbolSize": 3,
              "category": "美术与设计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "绘画",
              "symbolSize": 3,
              "category": "美术与设计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "动画(动画音乐与合成)",
              "symbolSize": 3,
              "category": "美术与设计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "产品设计",
              "symbolSize": 3,
              "category": "美术与设计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "服装与服饰设计(服装设计)",
              "symbolSize": 3,
              "category": "美术与设计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "视觉传达设计",
              "symbolSize": 3,
              "category": "美术与设计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "生命科学学院",
              "value": 3,
              "symbolSize": 9,
              "category": "生命科学学院",
              "draggable": "true"
          }, {
              "name": "生物科学",
              "symbolSize": 3,
              "category": "生命科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "生物工程",
              "symbolSize": 3,
              "category": "生命科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "生物技术",
              "symbolSize": 3,
              "category": "生命科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "体育学院",
              "value": 2,
              "symbolSize": 6,
              "category": "体育学院",
              "draggable": "true"
          }, {
              "name": "体育教育",
              "symbolSize": 3,
              "category": "体育学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "社会体育指导与管理",
              "symbolSize": 3,
              "category": "体育学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "音乐舞蹈学院",
              "value": 3,
              "symbolSize": 9,
              "category": "音乐舞蹈学院",
              "draggable": "true"
          }, {
              "name": "音乐学",
              "symbolSize": 3,
              "category": "音乐舞蹈学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "舞蹈编导(编导)",
              "symbolSize": 3,
              "category": "音乐舞蹈学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "舞蹈编导(教师教育)",
              "symbolSize": 3,
              "category": "音乐舞蹈学院",
              "draggable": "true",
              "value": 1
          }],
          links: [{
              "source": "广州大学",
              "target": "计算机科学与教育软件学院"
          }, {
              "source": "计算机科学与教育软件学院",
              "target": "计算机科学与技术"
          }, {
              "source": "计算机科学与教育软件学院",
              "target": "软件工程"
          }, {
              "source": "计算机科学与教育软件学院",
              "target": "网络工程"
          }, {
              "source": "广州大学",
              "target": "地理科学学院"
          }, {
              "source": "地理科学学院",
              "target": "地理科学"
          }, {
              "source": "地理科学学院",
              "target": "地理信息科学"
          }, {
              "source": "地理科学学院",
              "target": "人文地理与城乡规划"
          }, {
              "source": "地理科学学院",
              "target": "人文地理与城乡规划(区域物流)"
          }, {
              "source": "地理科学学院",
              "target": "人文地理与城乡规划(不动产)"
          }, {
              "source": "地理科学学院",
              "target": "自然地理与资源环境"
          }, {
              "source": "广州大学",
              "target": "机械与电气工程学院"
          }, {
              "source": "机械与电气工程学院",
              "target": "电气工程及其自动化"
          }, {
              "source": "机械与电气工程学院",
              "target": "机械设计制造及其自动化"
          }, {
              "source": "机械与电气工程学院",
              "target": "电子信息工程"
          }, {
              "source": "机械与电气工程学院",
              "target": "工业设计"
          }, {
              "source": "机械与电气工程学院",
              "target": "通信工程"
          }, {
              "source": "广州大学",
              "target": "经济与统计学院"
          }, {
              "source": "经济与统计学院",
              "target": "统计学"
          }, {
              "source": "经济与统计学院",
              "target": "金融工程"
          }, {
              "source": "经济与统计学院",
              "target": "经济学"
          }, {
              "source": "经济与统计学院",
              "target": "国际经济与贸易"
          }, {
              "source": "经济与统计学院",
              "target": "金融学"
          }, {
              "source": "经济与统计学院",
              "target": "会计学"
          }, {
              "source": "广州大学",
              "target": "土木工程学院"
          }, {
              "source": "土木工程学院",
              "target": "给排水科学与工程"
          }, {
              "source": "土木工程学院",
              "target": "土木工程(道路与桥梁工程)"
          }, {
              "source": "土木工程学院",
              "target": "土木工程(建筑工程)"
          }, {
              "source": "土木工程学院",
              "target": "土木工程(综合试点)"
          }, {
              "source": "土木工程学院",
              "target": "土木工程(结构分析)"
          }, {
              "source": "土木工程学院",
              "target": "土木工程(地下建筑工程)"
          }, {
              "source": "土木工程学院",
              "target": "交通工程"
          }, {
              "source": "土木工程学院",
              "target": "建筑环境与能源应用工程"
          }, {
              "source": "广州大学",
              "target": "新闻与传播学院"
          }, {
              "source": "新闻与传播学院",
              "target": "广告学"
          }, {
              "source": "新闻与传播学院",
              "target": "广播电视学"
          }, {
              "source": "新闻与传播学院",
              "target": "网络与新媒体"
          }, {
              "source": "新闻与传播学院",
              "target": "播音与主持艺术"
          }, {
              "source": "新闻与传播学院",
              "target": "广播电视编导"
          }, {
              "source": "广州大学",
              "target": "外国语学院"
          }, {
              "source": "外国语学院",
              "target": "英语(翻译)"
          }, {
              "source": "外国语学院",
              "target": "英语(教师教育)"
          }, {
              "source": "外国语学院",
              "target": "英语(国际商务)"
          }, {
              "source": "外国语学院",
              "target": "日语"
          }, {
              "source": "外国语学院",
              "target": "英语"
          }, {
              "source": "外国语学院",
              "target": "法语"
          }, {
              "source": "广州大学",
              "target": "人文学院"
          }, {
              "source": "人文学院",
              "target": "汉语言文学"
          }, {
              "source": "人文学院",
              "target": "历史学"
          }, {
              "source": "人文学院",
              "target": "汉语国际教育"
          }, {
              "source": "人文学院",
              "target": "汉语言文学(戏剧与影视学)"
          }, {
              "source": "人文学院",
              "target": "汉语言文学(文学)"
          }, {
              "source": "人文学院",
              "target": "汉语言文学(秘书学)"
          }, {
              "source": "人文学院",
              "target": "汉语言文学(应用语言学)"
          }, {
              "source": "人文学院",
              "target": "汉语言文学(教师教育)"
          }, {
              "source": "人文学院",
              "target": "历史学(教师教育)"
          }, {
              "source": "人文学院",
              "target": "历史学(文化资源开发与利用)"
          }, {
              "source": "广州大学",
              "target": "数学与信息科学学院"
          }, {
              "source": "数学与信息科学学院",
              "target": "信息安全"
          }, {
              "source": "数学与信息科学学院",
              "target": "数学与应用数学(金融数学)"
          }, {
              "source": "数学与信息科学学院",
              "target": "信息与计算科学"
          }, {
              "source": "数学与信息科学学院",
              "target": "数学与应用数学(教师教育)"
          }, {
              "source": "数学与信息科学学院",
              "target": "数学与应用数学(精算学)"
          }, {
              "source": "数学与信息科学学院",
              "target": "数学与应用数学(基础数学)"
          }, {
              "source": "广州大学",
              "target": "工商管理学院"
          }, {
              "source": "工商管理学院",
              "target": "工程管理"
          }, {
              "source": "工商管理学院",
              "target": "物流管理"
          }, {
              "source": "工商管理学院",
              "target": "工商管理"
          }, {
              "source": "工商管理学院",
              "target": "电子商务"
          }, {
              "source": "工商管理学院",
              "target": "市场营销"
          }, {
              "source": "工商管理学院",
              "target": "人力资源管理"
          }, {
              "source": "广州大学",
              "target": "法学院"
          }, {
              "source": "法学院",
              "target": "法学"
          }, {
              "source": "法学院",
              "target": "法学（律师）"
          }, {
              "source": "广州大学",
              "target": "公共管理学院"
          }, {
              "source": "公共管理学院",
              "target": "社会工作"
          }, {
              "source": "公共管理学院",
              "target": "行政管理"
          }, {
              "source": "公共管理学院",
              "target": "公共事业管理"
          }, {
              "source": "广州大学",
              "target": "卫斯理安学院"
          }, {
              "source": "卫斯理安学院",
              "target": "经济学(卫斯理安)"
          }, {
              "source": "卫斯理安学院",
              "target": "工商管理(卫斯理安)"
          }, {
              "source": "广州大学",
              "target": "政治与公民教育学院"
          }, {
              "source": "政治与公民教育学院",
              "target": "思想政治教育"
          }, {
              "source": "广州大学",
              "target": "旅游学院"
          }, {
              "source": "旅游学院",
              "target": "会展经济与管理"
          }, {
              "source": "旅游学院",
              "target": "旅游管理(旅游企业管理)"
          }, {
              "source": "旅游学院",
              "target": "旅游管理(酒店管理)"
          }, {
              "source": "旅游学院",
              "target": "旅游管理[中法]"
          }, {
              "source": "广州大学",
              "target": "教育学院"
          }, {
              "source": "教育学院",
              "target": "心理学"
          }, {
              "source": "教育学院",
              "target": "心理学（特殊儿童心理发展与教育）"
          }, {
              "source": "教育学院",
              "target": "应用心理学"
          }, {
              "source": "教育学院",
              "target": "教育技术学"
          }, {
              "source": "教育学院",
              "target": "学前教育"
          }, {
              "source": "教育学院",
              "target": "小学教育"
          }, {
              "source": "广州大学",
              "target": "环境科学与工程学院"
          }, {
              "source": "环境科学与工程学院",
              "target": "环境工程"
          }, {
              "source": "环境科学与工程学院",
              "target": "环境科学"
          }, {
              "source": "广州大学",
              "target": "化学化工学院"
          }, {
              "source": "化学化工学院",
              "target": "化学工程与工艺"
          }, {
              "source": "化学化工学院",
              "target": "化学(教师教育)"
          }, {
              "source": "化学化工学院",
              "target": "化学(精细化学品化学与技术)"
          }, {
              "source": "化学化工学院",
              "target": "化学"
          }, {
              "source": "化学化工学院",
              "target": "食品科学与工程"
          }, {
              "source": "广州大学",
              "target": "物理与电子工程学院"
          }, {
              "source": "物理与电子工程学院",
              "target": "光电信息科学与工程"
          }, {
              "source": "物理与电子工程学院",
              "target": "物联网工程"
          }, {
              "source": "物理与电子工程学院",
              "target": "物理学"
          }, {
              "source": "物理与电子工程学院",
              "target": "电子信息科学与技术"
          }, {
              "source": "广州大学",
              "target": "建筑与城市规划学院"
          }, {
              "source": "建筑与城市规划学院",
              "target": "建筑学"
          }, {
              "source": "建筑与城市规划学院",
              "target": "城乡规划"
          }, {
              "source": "建筑与城市规划学院",
              "target": "风景园林"
          }, {
              "source": "建筑与城市规划学院",
              "target": "建筑学（五年制）"
          }, {
              "source": "广州大学",
              "target": "美术与设计学院"
          }, {
              "source": "美术与设计学院",
              "target": "美术学"
          }, {
              "source": "美术与设计学院",
              "target": "美术学(教师教育)"
          }, {
              "source": "美术与设计学院",
              "target": "动画"
          }, {
              "source": "美术与设计学院",
              "target": "动画(游戏动画)"
          }, {
              "source": "美术与设计学院",
              "target": "绘画"
          }, {
              "source": "美术与设计学院",
              "target": "动画(动画音乐与合成)"
          }, {
              "source": "美术与设计学院",
              "target": "产品设计"
          }, {
              "source": "美术与设计学院",
              "target": "服装与服饰设计(服装设计)"
          }, {
              "source": "美术与设计学院",
              "target": "视觉传达设计"
          }, {
              "source": "广州大学",
              "target": "生命科学学院"
          }, {
              "source": "生命科学学院",
              "target": "生物科学"
          }, {
              "source": "生命科学学院",
              "target": "生物工程"
          }, {
              "source": "生命科学学院",
              "target": "生物技术"
          }, {
              "source": "广州大学",
              "target": "体育学院"
          }, {
              "source": "体育学院",
              "target": "体育教育"
          }, {
              "source": "体育学院",
              "target": "社会体育指导与管理"
          }, {
              "source": "广州大学",
              "target": "音乐舞蹈学院"
          }, {
              "source": "音乐舞蹈学院",
              "target": "音乐学"
          }, {
              "source": "音乐舞蹈学院",
              "target": "舞蹈编导(编导)"
          }, {
              "source": "音乐舞蹈学院",
              "target": "舞蹈编导(教师教育)"
          }],
          categories: [{
              'name': '计算机科学与教育软件学院'
          }, {
              'name': '地理科学学院'
          }, {
              'name': '机械与电气工程学院'
          }, {
              'name': '经济与统计学院'
          }, {
              'name': '土木工程学院'
          }, {
              'name': '新闻与传播学院'
          }, {
              'name': '外国语学院'
          }, {
              'name': '人文学院'
          }, {
              'name': '数学与信息科学学院'
          }, {
              'name': '工商管理学院'
          }, {
              'name': '法学院'
          }, {
              'name': '公共管理学院'
          }, {
              'name': '卫斯理安学院'
          }, {
              'name': '政治与公民教育学院'
          }, {
              'name': '旅游学院'
          }, {
              'name': '教育学院'
          }, {
              'name': '环境科学与工程学院'
          }, {
              'name': '化学化工学院'
          }, {
              'name': '物理与电子工程学院'
          }, {
              'name': '建筑与城市规划学院'
          }, {
              'name': '美术与设计学院'
          }, {
              'name': '生命科学学院'
          }, {
              'name': '体育学院'
          }, {
              'name': '音乐舞蹈学院'
          }],
          focusNodeAdjacency: true,
          roam: true,
          label: {
              normal: {

                  show: true,
                  position: 'top',

              }
          },
          lineStyle: {
              normal: {
                  color: 'source',
                  curveness: 0,
                  type: "solid"
              }
          }
      }]
  };
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
</script>
<p>点击标题查看全文↑<br><a id="more"></a></p>
<hr>
<h2 id="分割线"><a href="#分割线" class="headerlink" title="分割线"></a><strong>分割线</strong></h2><h1 id="可能是关于广州大学最酷炫的数据展示"><a href="#可能是关于广州大学最酷炫的数据展示" class="headerlink" title="可能是关于广州大学最酷炫的数据展示"></a>可能是关于广州大学最酷炫的数据展示</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在广州大学呆了两年了, 却发现自己其实对广州大学了解的并不多，借着之前自己用爬虫从某个(<del>怕被查水表所以不能说</del>)的地方抓来的数据，正好做一次不算太全面的<strong>广州大学数据分析</strong>，并借着刚入门的百度echarts工具做一个<strong>可视化效果</strong>，前后花了大概一周的时间，自己我感觉做的还是比较不错的，应该是网络上关于广州大学唯一的数据分析了，<em>不过百度是百度不到的</em>,数据涵盖广州大学13到15届的学生，<strong>样本大小</strong>约为1.4万人,<strong>数据遗漏</strong>应该有10%左右，所以权当练手，不能代替官方数据，如果有什么些问题，或者<strong>建议</strong>，<strong>意见</strong>都可以告诉我</p>
<p><strong>制作方法</strong></p>
<ul>
<li>Python进行数据爬取和数据分析</li>
<li>Echarts制作数据可视化和交互</li>
</ul>
<h2 id="学院专业分布"><a href="#学院专业分布" class="headerlink" title="学院专业分布"></a>学院专业分布</h2><p>查看该部分<a href="http://gallery.echartsjs.com/editor.html?c=xByJm_ypsl" target="_blank" rel="external">Echarts源码</a></p>
<blockquote>
<p>分析结果显示广州大学一共有24个学院共111个专业，其中卫斯理安学院是2016年6月才开始办学的,人文学院拥有最多的专业数10个，其次是美术学院和土木学院,学院数量分别为9个和8个.</p>
</blockquote>
<p>如下图所示是关于广州大学各学院专业的引力关系图，每个点都是<strong>可拖动</strong>的哟,<strong>点的大小</strong>说明了它<strong>所含专业</strong>的数量,放大来<strong>找找自己的专业在哪吧</strong></p>
<hr>
<div id="echarts8860" style="width: 100%;height: 750px;margin: 0 auto"></div>
<!-- <script src="http://echarts.baidu.com/dist/echarts.js"></script> -->

<script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('echarts8860'));
        // 指定图表的配置项和数据
        var option = option = {
    
       title:{
        text: "广州大学数据分析",
        subtext: "各学院专业关系-Acring",
        top: "top",
        left: "center"
    },
      tooltip: {},
      legend: [{
          formatter: function (name) {
        return echarts.format.truncateText(name, 40, '14px Microsoft Yahei', '…');
    },
    tooltip: {
        show: true
    },
          selectedMode: 'false',
          bottom: 20,
          data: ['计算机科学与教育软件学院', '地理科学学院', '机械与电气工程学院', '经济与统计学院', '土木工程学院', '新闻与传播学院', '外国语学院', '人文学院', '数学与信息科学学院', '工商管理学院', '法学院', '公共管理学院', '卫斯理安学院', '政治与公民教育学院', '旅游学院', '教育学院', '环境科学与工程学院', '化学化工学院', '物理与电子工程学院', '建筑与城市规划学院', '美术与设计学院', '生命科学学院', '体育学院', '音乐舞蹈学院']
      }],
      toolbox: {
        show : true,
        feature : {
            dataView : {show: true, readOnly: true},
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
      animationDuration: 3000,
      animationEasingUpdate: 'quinticInOut',
      series: [{
          name: '广州大学',
          type: 'graph',
          layout: 'force',

          force: {
              repulsion: 50
          },
          data: [{
              "name": "广州大学",
              // "x": 0,
              // y: 0,
              "symbolSize": 20,
              "draggable": "true",
              "value": 27

          }, {
              "name": "计算机科学与教育软件学院",
              "value": 3,
              "symbolSize": 9,
              "category": "计算机科学与教育软件学院",
              "draggable": "true"
          }, {
              "name": "计算机科学与技术",
              "symbolSize": 3,
              "category": "计算机科学与教育软件学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "软件工程",
              "symbolSize": 3,
              "category": "计算机科学与教育软件学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "网络工程",
              "symbolSize": 3,
              "category": "计算机科学与教育软件学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "地理科学学院",
              "value": 6,
              "symbolSize": 18,
              "category": "地理科学学院",
              "draggable": "true"
          }, {
              "name": "地理科学",
              "symbolSize": 3,
              "category": "地理科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "地理信息科学",
              "symbolSize": 3,
              "category": "地理科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "人文地理与城乡规划",
              "symbolSize": 3,
              "category": "地理科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "人文地理与城乡规划(区域物流)",
              "symbolSize": 3,
              "category": "地理科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "人文地理与城乡规划(不动产)",
              "symbolSize": 3,
              "category": "地理科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "自然地理与资源环境",
              "symbolSize": 3,
              "category": "地理科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "机械与电气工程学院",
              "value": 5,
              "symbolSize": 15,
              "category": "机械与电气工程学院",
              "draggable": "true"
          }, {
              "name": "电气工程及其自动化",
              "symbolSize": 3,
              "category": "机械与电气工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "机械设计制造及其自动化",
              "symbolSize": 3,
              "category": "机械与电气工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "电子信息工程",
              "symbolSize": 3,
              "category": "机械与电气工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "工业设计",
              "symbolSize": 3,
              "category": "机械与电气工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "通信工程",
              "symbolSize": 3,
              "category": "机械与电气工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "经济与统计学院",
              "value": 6,
              "symbolSize": 18,
              "category": "经济与统计学院",
              "draggable": "true"
          }, {
              "name": "统计学",
              "symbolSize": 3,
              "category": "经济与统计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "金融工程",
              "symbolSize": 3,
              "category": "经济与统计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "经济学",
              "symbolSize": 3,
              "category": "经济与统计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "国际经济与贸易",
              "symbolSize": 3,
              "category": "经济与统计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "金融学",
              "symbolSize": 3,
              "category": "经济与统计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "会计学",
              "symbolSize": 3,
              "category": "经济与统计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "土木工程学院",
              "value": 8,
              "symbolSize": 24,
              "category": "土木工程学院",
              "draggable": "true"
          }, {
              "name": "给排水科学与工程",
              "symbolSize": 3,
              "category": "土木工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "土木工程(道路与桥梁工程)",
              "symbolSize": 3,
              "category": "土木工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "土木工程(建筑工程)",
              "symbolSize": 3,
              "category": "土木工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "土木工程(综合试点)",
              "symbolSize": 3,
              "category": "土木工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "土木工程(结构分析)",
              "symbolSize": 3,
              "category": "土木工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "土木工程(地下建筑工程)",
              "symbolSize": 3,
              "category": "土木工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "交通工程",
              "symbolSize": 3,
              "category": "土木工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "建筑环境与能源应用工程",
              "symbolSize": 3,
              "category": "土木工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "新闻与传播学院",
              "value": 5,
              "symbolSize": 15,
              "category": "新闻与传播学院",
              "draggable": "true"
          }, {
              "name": "广告学",
              "symbolSize": 3,
              "category": "新闻与传播学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "广播电视学",
              "symbolSize": 3,
              "category": "新闻与传播学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "网络与新媒体",
              "symbolSize": 3,
              "category": "新闻与传播学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "播音与主持艺术",
              "symbolSize": 3,
              "category": "新闻与传播学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "广播电视编导",
              "symbolSize": 3,
              "category": "新闻与传播学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "外国语学院",
              "value": 6,
              "symbolSize": 18,
              "category": "外国语学院",
              "draggable": "true"
          }, {
              "name": "英语(翻译)",
              "symbolSize": 3,
              "category": "外国语学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "英语(教师教育)",
              "symbolSize": 3,
              "category": "外国语学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "英语(国际商务)",
              "symbolSize": 3,
              "category": "外国语学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "日语",
              "symbolSize": 3,
              "category": "外国语学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "英语",
              "symbolSize": 3,
              "category": "外国语学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "法语",
              "symbolSize": 3,
              "category": "外国语学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "人文学院",
              "value": 10,
              "symbolSize": 30,
              "category": "人文学院",
              "draggable": "true"
          }, {
              "name": "汉语言文学",
              "symbolSize": 3,
              "category": "人文学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "历史学",
              "symbolSize": 3,
              "category": "人文学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "汉语国际教育",
              "symbolSize": 3,
              "category": "人文学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "汉语言文学(戏剧与影视学)",
              "symbolSize": 3,
              "category": "人文学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "汉语言文学(文学)",
              "symbolSize": 3,
              "category": "人文学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "汉语言文学(秘书学)",
              "symbolSize": 3,
              "category": "人文学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "汉语言文学(应用语言学)",
              "symbolSize": 3,
              "category": "人文学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "汉语言文学(教师教育)",
              "symbolSize": 3,
              "category": "人文学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "历史学(教师教育)",
              "symbolSize": 3,
              "category": "人文学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "历史学(文化资源开发与利用)",
              "symbolSize": 3,
              "category": "人文学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "数学与信息科学学院",
              "value": 6,
              "symbolSize": 18,
              "category": "数学与信息科学学院",
              "draggable": "true"
          }, {
              "name": "信息安全",
              "symbolSize": 3,
              "category": "数学与信息科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "数学与应用数学(金融数学)",
              "symbolSize": 3,
              "category": "数学与信息科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "信息与计算科学",
              "symbolSize": 3,
              "category": "数学与信息科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "数学与应用数学(教师教育)",
              "symbolSize": 3,
              "category": "数学与信息科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "数学与应用数学(精算学)",
              "symbolSize": 3,
              "category": "数学与信息科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "数学与应用数学(基础数学)",
              "symbolSize": 3,
              "category": "数学与信息科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "工商管理学院",
              "value": 6,
              "symbolSize": 18,
              "category": "工商管理学院",
              "draggable": "true"
          }, {
              "name": "工程管理",
              "symbolSize": 3,
              "category": "工商管理学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "物流管理",
              "symbolSize": 3,
              "category": "工商管理学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "工商管理",
              "symbolSize": 3,
              "category": "工商管理学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "电子商务",
              "symbolSize": 3,
              "category": "工商管理学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "市场营销",
              "symbolSize": 3,
              "category": "工商管理学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "人力资源管理",
              "symbolSize": 3,
              "category": "工商管理学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "法学院",
              "value": 2,
              "symbolSize": 6,
              "category": "法学院",
              "draggable": "true"
          }, {
              "name": "法学",
              "symbolSize": 3,
              "category": "法学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "法学（律师）",
              "symbolSize": 3,
              "category": "法学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "公共管理学院",
              "value": 3,
              "symbolSize": 9,
              "category": "公共管理学院",
              "draggable": "true"
          }, {
              "name": "社会工作",
              "symbolSize": 3,
              "category": "公共管理学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "行政管理",
              "symbolSize": 3,
              "category": "公共管理学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "公共事业管理",
              "symbolSize": 3,
              "category": "公共管理学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "卫斯理安学院",
              "value": 2,
              "symbolSize": 6,
              "category": "卫斯理安学院",
              "draggable": "true"
          }, {
              "name": "经济学(卫斯理安)",
              "symbolSize": 3,
              "category": "卫斯理安学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "工商管理(卫斯理安)",
              "symbolSize": 3,
              "category": "卫斯理安学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "政治与公民教育学院",
              "value": 1,
              "symbolSize": 3,
              "category": "政治与公民教育学院",
              "draggable": "true"
          }, {
              "name": "思想政治教育",
              "symbolSize": 3,
              "category": "政治与公民教育学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "旅游学院",
              "value": 4,
              "symbolSize": 12,
              "category": "旅游学院",
              "draggable": "true"
          }, {
              "name": "会展经济与管理",
              "symbolSize": 3,
              "category": "旅游学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "旅游管理(旅游企业管理)",
              "symbolSize": 3,
              "category": "旅游学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "旅游管理(酒店管理)",
              "symbolSize": 3,
              "category": "旅游学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "旅游管理[中法]",
              "symbolSize": 3,
              "category": "旅游学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "教育学院",
              "value": 6,
              "symbolSize": 18,
              "category": "教育学院",
              "draggable": "true"
          }, {
              "name": "心理学",
              "symbolSize": 3,
              "category": "教育学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "心理学（特殊儿童心理发展与教育）",
              "symbolSize": 3,
              "category": "教育学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "应用心理学",
              "symbolSize": 3,
              "category": "教育学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "教育技术学",
              "symbolSize": 3,
              "category": "教育学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "学前教育",
              "symbolSize": 3,
              "category": "教育学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "小学教育",
              "symbolSize": 3,
              "category": "教育学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "环境科学与工程学院",
              "value": 2,
              "symbolSize": 6,
              "category": "环境科学与工程学院",
              "draggable": "true"
          }, {
              "name": "环境工程",
              "symbolSize": 3,
              "category": "环境科学与工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "环境科学",
              "symbolSize": 3,
              "category": "环境科学与工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "化学化工学院",
              "value": 5,
              "symbolSize": 15,
              "category": "化学化工学院",
              "draggable": "true"
          }, {
              "name": "化学工程与工艺",
              "symbolSize": 3,
              "category": "化学化工学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "化学(教师教育)",
              "symbolSize": 3,
              "category": "化学化工学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "化学(精细化学品化学与技术)",
              "symbolSize": 3,
              "category": "化学化工学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "化学",
              "symbolSize": 3,
              "category": "化学化工学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "食品科学与工程",
              "symbolSize": 3,
              "category": "化学化工学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "物理与电子工程学院",
              "value": 4,
              "symbolSize": 12,
              "category": "物理与电子工程学院",
              "draggable": "true"
          }, {
              "name": "光电信息科学与工程",
              "symbolSize": 3,
              "category": "物理与电子工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "物联网工程",
              "symbolSize": 3,
              "category": "物理与电子工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "物理学",
              "symbolSize": 3,
              "category": "物理与电子工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "电子信息科学与技术",
              "symbolSize": 3,
              "category": "物理与电子工程学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "建筑与城市规划学院",
              "value": 4,
              "symbolSize": 12,
              "category": "建筑与城市规划学院",
              "draggable": "true"
          }, {
              "name": "建筑学",
              "symbolSize": 3,
              "category": "建筑与城市规划学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "城乡规划",
              "symbolSize": 3,
              "category": "建筑与城市规划学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "风景园林",
              "symbolSize": 3,
              "category": "建筑与城市规划学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "建筑学（五年制）",
              "symbolSize": 3,
              "category": "建筑与城市规划学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "美术与设计学院",
              "value": 9,
              "symbolSize": 27,
              "category": "美术与设计学院",
              "draggable": "true"
          }, {
              "name": "美术学",
              "symbolSize": 3,
              "category": "美术与设计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "美术学(教师教育)",
              "symbolSize": 3,
              "category": "美术与设计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "动画",
              "symbolSize": 3,
              "category": "美术与设计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "动画(游戏动画)",
              "symbolSize": 3,
              "category": "美术与设计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "绘画",
              "symbolSize": 3,
              "category": "美术与设计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "动画(动画音乐与合成)",
              "symbolSize": 3,
              "category": "美术与设计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "产品设计",
              "symbolSize": 3,
              "category": "美术与设计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "服装与服饰设计(服装设计)",
              "symbolSize": 3,
              "category": "美术与设计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "视觉传达设计",
              "symbolSize": 3,
              "category": "美术与设计学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "生命科学学院",
              "value": 3,
              "symbolSize": 9,
              "category": "生命科学学院",
              "draggable": "true"
          }, {
              "name": "生物科学",
              "symbolSize": 3,
              "category": "生命科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "生物工程",
              "symbolSize": 3,
              "category": "生命科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "生物技术",
              "symbolSize": 3,
              "category": "生命科学学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "体育学院",
              "value": 2,
              "symbolSize": 6,
              "category": "体育学院",
              "draggable": "true"
          }, {
              "name": "体育教育",
              "symbolSize": 3,
              "category": "体育学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "社会体育指导与管理",
              "symbolSize": 3,
              "category": "体育学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "音乐舞蹈学院",
              "value": 3,
              "symbolSize": 9,
              "category": "音乐舞蹈学院",
              "draggable": "true"
          }, {
              "name": "音乐学",
              "symbolSize": 3,
              "category": "音乐舞蹈学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "舞蹈编导(编导)",
              "symbolSize": 3,
              "category": "音乐舞蹈学院",
              "draggable": "true",
              "value": 1
          }, {
              "name": "舞蹈编导(教师教育)",
              "symbolSize": 3,
              "category": "音乐舞蹈学院",
              "draggable": "true",
              "value": 1
          }],
          links: [{
              "source": "广州大学",
              "target": "计算机科学与教育软件学院"
          }, {
              "source": "计算机科学与教育软件学院",
              "target": "计算机科学与技术"
          }, {
              "source": "计算机科学与教育软件学院",
              "target": "软件工程"
          }, {
              "source": "计算机科学与教育软件学院",
              "target": "网络工程"
          }, {
              "source": "广州大学",
              "target": "地理科学学院"
          }, {
              "source": "地理科学学院",
              "target": "地理科学"
          }, {
              "source": "地理科学学院",
              "target": "地理信息科学"
          }, {
              "source": "地理科学学院",
              "target": "人文地理与城乡规划"
          }, {
              "source": "地理科学学院",
              "target": "人文地理与城乡规划(区域物流)"
          }, {
              "source": "地理科学学院",
              "target": "人文地理与城乡规划(不动产)"
          }, {
              "source": "地理科学学院",
              "target": "自然地理与资源环境"
          }, {
              "source": "广州大学",
              "target": "机械与电气工程学院"
          }, {
              "source": "机械与电气工程学院",
              "target": "电气工程及其自动化"
          }, {
              "source": "机械与电气工程学院",
              "target": "机械设计制造及其自动化"
          }, {
              "source": "机械与电气工程学院",
              "target": "电子信息工程"
          }, {
              "source": "机械与电气工程学院",
              "target": "工业设计"
          }, {
              "source": "机械与电气工程学院",
              "target": "通信工程"
          }, {
              "source": "广州大学",
              "target": "经济与统计学院"
          }, {
              "source": "经济与统计学院",
              "target": "统计学"
          }, {
              "source": "经济与统计学院",
              "target": "金融工程"
          }, {
              "source": "经济与统计学院",
              "target": "经济学"
          }, {
              "source": "经济与统计学院",
              "target": "国际经济与贸易"
          }, {
              "source": "经济与统计学院",
              "target": "金融学"
          }, {
              "source": "经济与统计学院",
              "target": "会计学"
          }, {
              "source": "广州大学",
              "target": "土木工程学院"
          }, {
              "source": "土木工程学院",
              "target": "给排水科学与工程"
          }, {
              "source": "土木工程学院",
              "target": "土木工程(道路与桥梁工程)"
          }, {
              "source": "土木工程学院",
              "target": "土木工程(建筑工程)"
          }, {
              "source": "土木工程学院",
              "target": "土木工程(综合试点)"
          }, {
              "source": "土木工程学院",
              "target": "土木工程(结构分析)"
          }, {
              "source": "土木工程学院",
              "target": "土木工程(地下建筑工程)"
          }, {
              "source": "土木工程学院",
              "target": "交通工程"
          }, {
              "source": "土木工程学院",
              "target": "建筑环境与能源应用工程"
          }, {
              "source": "广州大学",
              "target": "新闻与传播学院"
          }, {
              "source": "新闻与传播学院",
              "target": "广告学"
          }, {
              "source": "新闻与传播学院",
              "target": "广播电视学"
          }, {
              "source": "新闻与传播学院",
              "target": "网络与新媒体"
          }, {
              "source": "新闻与传播学院",
              "target": "播音与主持艺术"
          }, {
              "source": "新闻与传播学院",
              "target": "广播电视编导"
          }, {
              "source": "广州大学",
              "target": "外国语学院"
          }, {
              "source": "外国语学院",
              "target": "英语(翻译)"
          }, {
              "source": "外国语学院",
              "target": "英语(教师教育)"
          }, {
              "source": "外国语学院",
              "target": "英语(国际商务)"
          }, {
              "source": "外国语学院",
              "target": "日语"
          }, {
              "source": "外国语学院",
              "target": "英语"
          }, {
              "source": "外国语学院",
              "target": "法语"
          }, {
              "source": "广州大学",
              "target": "人文学院"
          }, {
              "source": "人文学院",
              "target": "汉语言文学"
          }, {
              "source": "人文学院",
              "target": "历史学"
          }, {
              "source": "人文学院",
              "target": "汉语国际教育"
          }, {
              "source": "人文学院",
              "target": "汉语言文学(戏剧与影视学)"
          }, {
              "source": "人文学院",
              "target": "汉语言文学(文学)"
          }, {
              "source": "人文学院",
              "target": "汉语言文学(秘书学)"
          }, {
              "source": "人文学院",
              "target": "汉语言文学(应用语言学)"
          }, {
              "source": "人文学院",
              "target": "汉语言文学(教师教育)"
          }, {
              "source": "人文学院",
              "target": "历史学(教师教育)"
          }, {
              "source": "人文学院",
              "target": "历史学(文化资源开发与利用)"
          }, {
              "source": "广州大学",
              "target": "数学与信息科学学院"
          }, {
              "source": "数学与信息科学学院",
              "target": "信息安全"
          }, {
              "source": "数学与信息科学学院",
              "target": "数学与应用数学(金融数学)"
          }, {
              "source": "数学与信息科学学院",
              "target": "信息与计算科学"
          }, {
              "source": "数学与信息科学学院",
              "target": "数学与应用数学(教师教育)"
          }, {
              "source": "数学与信息科学学院",
              "target": "数学与应用数学(精算学)"
          }, {
              "source": "数学与信息科学学院",
              "target": "数学与应用数学(基础数学)"
          }, {
              "source": "广州大学",
              "target": "工商管理学院"
          }, {
              "source": "工商管理学院",
              "target": "工程管理"
          }, {
              "source": "工商管理学院",
              "target": "物流管理"
          }, {
              "source": "工商管理学院",
              "target": "工商管理"
          }, {
              "source": "工商管理学院",
              "target": "电子商务"
          }, {
              "source": "工商管理学院",
              "target": "市场营销"
          }, {
              "source": "工商管理学院",
              "target": "人力资源管理"
          }, {
              "source": "广州大学",
              "target": "法学院"
          }, {
              "source": "法学院",
              "target": "法学"
          }, {
              "source": "法学院",
              "target": "法学（律师）"
          }, {
              "source": "广州大学",
              "target": "公共管理学院"
          }, {
              "source": "公共管理学院",
              "target": "社会工作"
          }, {
              "source": "公共管理学院",
              "target": "行政管理"
          }, {
              "source": "公共管理学院",
              "target": "公共事业管理"
          }, {
              "source": "广州大学",
              "target": "卫斯理安学院"
          }, {
              "source": "卫斯理安学院",
              "target": "经济学(卫斯理安)"
          }, {
              "source": "卫斯理安学院",
              "target": "工商管理(卫斯理安)"
          }, {
              "source": "广州大学",
              "target": "政治与公民教育学院"
          }, {
              "source": "政治与公民教育学院",
              "target": "思想政治教育"
          }, {
              "source": "广州大学",
              "target": "旅游学院"
          }, {
              "source": "旅游学院",
              "target": "会展经济与管理"
          }, {
              "source": "旅游学院",
              "target": "旅游管理(旅游企业管理)"
          }, {
              "source": "旅游学院",
              "target": "旅游管理(酒店管理)"
          }, {
              "source": "旅游学院",
              "target": "旅游管理[中法]"
          }, {
              "source": "广州大学",
              "target": "教育学院"
          }, {
              "source": "教育学院",
              "target": "心理学"
          }, {
              "source": "教育学院",
              "target": "心理学（特殊儿童心理发展与教育）"
          }, {
              "source": "教育学院",
              "target": "应用心理学"
          }, {
              "source": "教育学院",
              "target": "教育技术学"
          }, {
              "source": "教育学院",
              "target": "学前教育"
          }, {
              "source": "教育学院",
              "target": "小学教育"
          }, {
              "source": "广州大学",
              "target": "环境科学与工程学院"
          }, {
              "source": "环境科学与工程学院",
              "target": "环境工程"
          }, {
              "source": "环境科学与工程学院",
              "target": "环境科学"
          }, {
              "source": "广州大学",
              "target": "化学化工学院"
          }, {
              "source": "化学化工学院",
              "target": "化学工程与工艺"
          }, {
              "source": "化学化工学院",
              "target": "化学(教师教育)"
          }, {
              "source": "化学化工学院",
              "target": "化学(精细化学品化学与技术)"
          }, {
              "source": "化学化工学院",
              "target": "化学"
          }, {
              "source": "化学化工学院",
              "target": "食品科学与工程"
          }, {
              "source": "广州大学",
              "target": "物理与电子工程学院"
          }, {
              "source": "物理与电子工程学院",
              "target": "光电信息科学与工程"
          }, {
              "source": "物理与电子工程学院",
              "target": "物联网工程"
          }, {
              "source": "物理与电子工程学院",
              "target": "物理学"
          }, {
              "source": "物理与电子工程学院",
              "target": "电子信息科学与技术"
          }, {
              "source": "广州大学",
              "target": "建筑与城市规划学院"
          }, {
              "source": "建筑与城市规划学院",
              "target": "建筑学"
          }, {
              "source": "建筑与城市规划学院",
              "target": "城乡规划"
          }, {
              "source": "建筑与城市规划学院",
              "target": "风景园林"
          }, {
              "source": "建筑与城市规划学院",
              "target": "建筑学（五年制）"
          }, {
              "source": "广州大学",
              "target": "美术与设计学院"
          }, {
              "source": "美术与设计学院",
              "target": "美术学"
          }, {
              "source": "美术与设计学院",
              "target": "美术学(教师教育)"
          }, {
              "source": "美术与设计学院",
              "target": "动画"
          }, {
              "source": "美术与设计学院",
              "target": "动画(游戏动画)"
          }, {
              "source": "美术与设计学院",
              "target": "绘画"
          }, {
              "source": "美术与设计学院",
              "target": "动画(动画音乐与合成)"
          }, {
              "source": "美术与设计学院",
              "target": "产品设计"
          }, {
              "source": "美术与设计学院",
              "target": "服装与服饰设计(服装设计)"
          }, {
              "source": "美术与设计学院",
              "target": "视觉传达设计"
          }, {
              "source": "广州大学",
              "target": "生命科学学院"
          }, {
              "source": "生命科学学院",
              "target": "生物科学"
          }, {
              "source": "生命科学学院",
              "target": "生物工程"
          }, {
              "source": "生命科学学院",
              "target": "生物技术"
          }, {
              "source": "广州大学",
              "target": "体育学院"
          }, {
              "source": "体育学院",
              "target": "体育教育"
          }, {
              "source": "体育学院",
              "target": "社会体育指导与管理"
          }, {
              "source": "广州大学",
              "target": "音乐舞蹈学院"
          }, {
              "source": "音乐舞蹈学院",
              "target": "音乐学"
          }, {
              "source": "音乐舞蹈学院",
              "target": "舞蹈编导(编导)"
          }, {
              "source": "音乐舞蹈学院",
              "target": "舞蹈编导(教师教育)"
          }],
          categories: [{
              'name': '计算机科学与教育软件学院'
          }, {
              'name': '地理科学学院'
          }, {
              'name': '机械与电气工程学院'
          }, {
              'name': '经济与统计学院'
          }, {
              'name': '土木工程学院'
          }, {
              'name': '新闻与传播学院'
          }, {
              'name': '外国语学院'
          }, {
              'name': '人文学院'
          }, {
              'name': '数学与信息科学学院'
          }, {
              'name': '工商管理学院'
          }, {
              'name': '法学院'
          }, {
              'name': '公共管理学院'
          }, {
              'name': '卫斯理安学院'
          }, {
              'name': '政治与公民教育学院'
          }, {
              'name': '旅游学院'
          }, {
              'name': '教育学院'
          }, {
              'name': '环境科学与工程学院'
          }, {
              'name': '化学化工学院'
          }, {
              'name': '物理与电子工程学院'
          }, {
              'name': '建筑与城市规划学院'
          }, {
              'name': '美术与设计学院'
          }, {
              'name': '生命科学学院'
          }, {
              'name': '体育学院'
          }, {
              'name': '音乐舞蹈学院'
          }],
          focusNodeAdjacency: true,
          roam: true,
          label: {
              normal: {

                  show: true,
                  position: 'top',

              }
          },
          lineStyle: {
              normal: {
                  color: 'source',
                  curveness: 0,
                  type: "solid"
              }
          }
      }]
  };
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
</script>
<h2 id="各学院人数分布图"><a href="#各学院人数分布图" class="headerlink" title="各学院人数分布图"></a>各学院人数分布图</h2><p>查看该部分<a href="http://gallery.echartsjs.com/editor.html?c=xS1f_xQpil" target="_blank" rel="external">Echartss源码</a></p>
<blockquote>
<p>由下图可知三年中人数一直较稳定处于高位的是机电，新传,还有土木学院，工管和经统学院异军突起，其他学院相对来说人数较少</p>
</blockquote>
<p>其实一直以来我都觉得<strong>土木的人是最最最多</strong>的，结果原来<strong>机电</strong>和<strong>新传</strong>的人数也是相当多的，大二不知道为什么<strong>工管</strong>和<strong>经统学院</strong>的人数突然多了这么多，或许是数据的遗漏或者这年的扩招主要在这两个学院？</p>
<blockquote>
<p><em>如果觉得看不清自己的学院可以点击右上角切换到饼图查看</em></p>
</blockquote>
<div id="echarts7788" style="width: 100%;height: 1000px;margin: 0 auto"></div>
<!-- <script src="http://echarts.baidu.com/dist/echarts.js"></script> -->

<script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('echarts7788'));
        // 指定图表的配置项和数据
        var option = isPie = 1
mychart = myChart
option = {
    
    title: {
        text: '广州大学',
        subtext: '各学院人数分布图-Acring',
        x: 'center'
    },
    tooltip: {
        trigger: 'item',
        formatter: "{a}<br/>{b} : {d}%"
    },
    legend: {
        formatter: function(name) {
            return echarts.format.truncateText(name, 40, '14px Microsoft Yahei', '…');
        },
        tooltip: {
            show: true
        },
        x: 'center',
        y: 'bottom',
        data: ['计算机科学与教育软件学院', '地理科学学院', '机械与电气工程学院', '经济与统计学院', '土木工程学院', '新闻与传播学院', '外国语学院', '人文学院', '数学与信息科学学院', '工商管理学院', '法学院', '公共管理学院', '卫斯理安学院', '政治与公民教育学院', '旅游学院', '教育学院', '环境科学与工程学院', '化学化工学院', '物理与电子工程学院', '建筑与城市规划学院', '美术与设计学院', '生命科学学院', '体育学院', '音乐舞蹈学院']
    },
    toolbox: {
        right: 30,
        show: true,
        feature: {

            mysetPie: {
                show: true,
                title: '显示大饼图',
                icon: "image://http://omudx2uw8.bkt.clouddn.com/ring0.jpg",
                onclick: function() {
                    if (isPie == 1) {
                        mychart.setOption({
                            series: [{
                                roseType: ""
                            }, {
                                roseType: ""
                            }, {
                                roseType: ""
                            }]
                        })
                        isPie = 0
                    } else {
                        mychart.setOption({
                            series: [{
                                roseType: "radius"
                            }, {
                                roseType: "radius"
                            }, {
                                roseType: "radius"
                            }]
                        })
                        isPie = 1
                    }
                }
            },
            saveAsImage: {
                show: true
            }
        }
    },
    calculable: true,
    series: [{
        name: '15届',
        type: 'pie',
        radius: [30, 150],
        center: ['25%', '65%'],
        roseType: 'radius',
        label: {
            normal: {
                show: true
            },
            emphasis: {
                show: true,
            }
        },
        lableLine: {
            normal: {
                show: true
            },
            emphasis: {
                length: 5,
                show: false
            }
        },
        data: [{
            "name": "计算机科学与教育软件学院",
            "value": 232
        }, {
            "name": "地理科学学院",
            "value": 148
        }, {
            "name": "机械与电气工程学院",
            "value": 369
        }, {
            "name": "经济与统计学院",
            "value": 526
        }, {
            "name": "土木工程学院",
            "value": 341
        }, {
            "name": "新闻与传播学院",
            "value": 398
        }, {
            "name": "外国语学院",
            "value": 264
        }, {
            "name": "人文学院",
            "value": 259
        }, {
            "name": "数学与信息科学学院",
            "value": 162
        }, {
            "name": "工商管理学院",
            "value": 499
        }, {
            "name": "法学院",
            "value": 176
        }, {
            "name": "公共管理学院",
            "value": 163
        }, {
            "name": "卫斯理安学院",
            "value": 3
        }, {
            "name": "政治与公民教育学院",
            "value": 21
        }, {
            "name": "旅游学院",
            "value": 195
        }, {
            "name": "教育学院",
            "value": 202
        }, {
            "name": "环境科学与工程学院",
            "value": 95
        }, {
            "name": "化学化工学院",
            "value": 206
        }, {
            "name": "物理与电子工程学院",
            "value": 165
        }, {
            "name": "建筑与城市规划学院",
            "value": 140
        }, {
            "name": "美术与设计学院",
            "value": 282
        }, {
            "name": "生命科学学院",
            "value": 109
        }, {
            "name": "体育学院",
            "value": 98
        }, {
            "name": "音乐舞蹈学院",
            "value": 130
        }]
    }, {
        name: '14届',
        type: 'pie',
        radius: [30, 150],
        center: ['50%', '30%'],
        roseType: 'area',
        label: {
            normal: {
                show: true,
            },
            emphasis: {
                show: true,
            }
        },
        lableLine: {
            normal: {
                show: true
            },
            emphasis: {
                length: 10,
                show: false
            }
        },
        data: [{
            "name": "地理科学学院",
            "value": 174
        }, {
            "name": "机械与电气工程学院",
            "value": 359
        }, {
            "name": "工商管理学院",
            "value": 9
        }, {
            "name": "法学院",
            "value": 142
        }, {
            "name": "公共管理学院",
            "value": 165
        }, {
            "name": "数学与信息科学学院",
            "value": 163
        }, {
            "name": "环境科学与工程学院",
            "value": 130
        }, {
            "name": "化学化工学院",
            "value": 175
        }, {
            "name": "教育学院",
            "value": 166
        }, {
            "name": "计算机科学与教育软件学院",
            "value": 104
        }, {
            "name": "经济与统计学院",
            "value": 13
        }, {
            "name": "土木工程学院",
            "value": 247
        }, {
            "name": "物理与电子工程学院",
            "value": 183
        }, {
            "name": "建筑与城市规划学院",
            "value": 121
        }, {
            "name": "旅游学院",
            "value": 178
        }, {
            "name": "美术与设计学院",
            "value": 247
        }, {
            "name": "人文学院",
            "value": 201
        }, {
            "name": "生命科学学院",
            "value": 158
        }, {
            "name": "体育学院",
            "value": 104
        }, {
            "name": "外国语学院",
            "value": 185
        }, {
            "name": "新闻与传播学院",
            "value": 305
        }, {
            "name": "音乐舞蹈学院",
            "value": 111
        }]
    }, {
        name: '13届',
        type: 'pie',
        radius: [30, 150],
        center: ['75%', '65%'],
        roseType: 'radius',
        label: {
            normal: {
                show: true,
            },
            emphasis: {
                show: true,
            }
        },
        lableLine: {
            normal: {

                show: true
            },
            emphasis: {
                length: 10,
                show: false
            }
        },
        data: [{
            "name": "地理科学学院",
            "value": 143
        }, {
            "name": "法学院",
            "value": 137
        }, {
            "name": "教育学院",
            "value": 193
        }, {
            "name": "公共管理学院",
            "value": 165
        }, {
            "name": "环境科学与工程学院",
            "value": 156
        }, {
            "name": "工商管理学院",
            "value": 5
        }, {
            "name": "化学化工学院",
            "value": 219
        }, {
            "name": "物理与电子工程学院",
            "value": 216
        }, {
            "name": "计算机科学与教育软件学院",
            "value": 93
        }, {
            "name": "机械与电气工程学院",
            "value": 307
        }, {
            "name": "旅游学院",
            "value": 194
        }, {
            "name": "外国语学院",
            "value": 168
        }, {
            "name": "经济与统计学院",
            "value": 2
        }, {
            "name": "建筑与城市规划学院",
            "value": 132
        }, {
            "name": "数学与信息科学学院",
            "value": 146
        }, {
            "name": "美术与设计学院",
            "value": 263
        }, {
            "name": "人文学院",
            "value": 211
        }, {
            "name": "新闻与传播学院",
            "value": 283
        }, {
            "name": "生命科学学院",
            "value": 203
        }, {
            "name": "土木工程学院",
            "value": 285
        }, {
            "name": "体育学院",
            "value": 110
        }, {
            "name": "音乐舞蹈学院",
            "value": 108
        }]
    }]
};
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
</script>
<h2 id="三年男女比例变化"><a href="#三年男女比例变化" class="headerlink" title="三年男女比例变化"></a>三年男女比例变化</h2><p>查看该部分<a href="http://gallery.echartsjs.com/editor.html?c=xB18Bvkxhg" target="_blank" rel="external">Echarts源码</a></p>
<blockquote>
<p>由下图可看出三年来女生的比例都在逐年增加，甚至反超了男生数量</p>
</blockquote>
<p>大学男女比例应该是很多人选择一个大学的重要标准，作为一个综合性大学，广州大学的男女比例还是可观的，至少不像广州工业大学一样男女比例严重失调，15年广州大学全面进入一本后，女生更是数量大幅上升，恩，其实我也不知道这两者有没有实际关系: )</p>
<p>从下面的图可以看出13届的男女比例还是55开，男生稍微多一点，14届女生开始多于男生，15届女生数量就超了男生一大截了。</p>
<div id="echarts3797" style="width: 100%;height: 750px;margin: 0 auto"></div>
<!-- <script src="http://echarts.baidu.com/dist/echarts.js"></script> -->

<script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('echarts3797'));
        // 指定图表的配置项和数据
        var option = dataStyle = { 
    normal: {
        label: {show:true},
        labelLine: {show:true,
            length: 100,
            smooth: 0.5
        },
        shadowBlur: 40,
        shadowColor: 'rgba(40, 40, 40, 0.5)',
    }
};
placeHolderStyle = {
    normal : {
        color: 'rgba(0,0,0,0)',
        label: {show:false},
        labelLine: {show:false}
    },
    emphasis : {
        show: false,
        color: 'rgba(0,0,0,0)'
    }
};
option = {
    
     title:{
        text: "广州大学数据分析",
        subtext: "三年男女占比变化-Acring"
    },
    
     color: ['#33A6B8', '#D0104C','#66BAB7', '#DB4D6D','#69B0AC', "#E87A90"],
    tooltip : {
        show: true,
        formatter: "{a} <br/>{b} : {c} ({d}%)"
    },
    legend: {
        itemGap:12,
        data:['15届','14届','13届']
    },
    toolbox: {
        show : true,
        feature : {
            mark : {show: true},
            // dataView : {show: true, readOnly: false},
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    series : [{
      name: "15届",
      type : "pie",
      clockWise: false,
      radius: [200, 220],
      itemStyle: dataStyle,
      hoverAnimation: false,
      data:[{
          value : 2182,
          name : "15届男生"
      },{
          value: 3001,
          name: "15届女生",
          itemStyle: placeHolderStyle
      }]
    },
        {
            name:'15届',
            type:'pie',
            clockWise:false,
            radius : [180,200],
            itemStyle : dataStyle,
            hoverAnimation: false,
       
            data:[
                 {
                    value:2182,
                    name:'15届男生',
                    itemStyle : placeHolderStyle
                },
                {
                    value:3001,
                    name:'15届女生'
                }
            ]
        }, 
         {
            name:'14届',
            type:'pie',
            clockWise:false,
            radius : [160, 180],
            itemStyle : dataStyle,
            hoverAnimation: false,
           
            data:[
                {
                    value:1806, 
                    name:'14届男生'
                },
                {
                    value:1834,
                    name:'14届女生',
                    itemStyle : placeHolderStyle
                }
            ]
        },
        {
            name:'14届',
            type:'pie',
            clockWise:false,
            hoverAnimation: false,
            radius : [140, 160],
            itemStyle : dataStyle,
           
            data:[
                {
                    value:1806,
                    name:'14届男生',
                    itemStyle : placeHolderStyle
                },
                {
                    value:1834, 
                    name:'14届女生'
                }
                
            ]
        },
        {
            name:'13届',
            type:'pie',
            clockWise:false,
            hoverAnimation: false,
            radius : [120, 140],
            itemStyle : dataStyle,
           
            data:[
                {
                    value:1916, 
                    name:'13届男生'
                },
                {
                    value:1823,
                    name:'13届女生',
                    itemStyle : placeHolderStyle
                }
            ]
        },
         {
            name:'13届',
            type:'pie',
            clockWise: false,
            hoverAnimation: false,
            radius : [100, 120],
            itemStyle : dataStyle,
            
            data:[
                {
                    value:1916,
                    name:'13届男生',
                    itemStyle : placeHolderStyle
                },
                {
                    value:1823, 
                    name:'13届女生'
                }
                
            ]
        },

    ]
};
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
</script>
<h2 id="各学院女生占比及女生基数"><a href="#各学院女生占比及女生基数" class="headerlink" title="各学院女生占比及女生基数"></a>各学院女生占比及女生基数</h2><hr>
<p>查看该部分<a href="http://gallery.echartsjs.com/editor.html?c=xry9ikIpje" target="_blank" rel="external">Echarts源码</a></p>
<blockquote>
<p>外国语，人文，音舞的女生占比一直是领先的，计算机，土木，机电的女生占比向来垫底，15届的经统，工管，新传女生基数是这三年中最为突出的</p>
</blockquote>
<p>虽然说广州大学的男女比例还是很人性化的，但是你觉得这就能让你走出单身吗，naive，女生和男生依然是扎堆的，女生身边还是女生，男生见最多的还是(<del>基佬</del>)男生，从这个图就能看出，有的学院的女生比例低的可怕，<del>比如作者所在的计算机学院，</del>尤其是<strong>土木</strong>，<strong>机电</strong>，<strong>计算机</strong>，常年不识人间烟火；而像<strong>人文</strong>，<strong>音舞</strong>这些学院的男生也是像活宝一样的存在。</p>
<p><em>所以想要脱单还是要靠自己的努力，不然和在广工这种大学差不多，除了平时在路上能多饱点眼福以外，综合性大学并不能帮你更多:)</em></p>
<p><em>点击下面三个圈圈图标可以一直显示学院名称，方便查看</em><br><div id="echarts8737" style="width: 100%;height: 750px;margin: 0 auto"></div>
<!-- <script src="http://echarts.baidu.com/dist/echarts.js"></script> -->

<script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('echarts8737'));
        // 指定图表的配置项和数据
        var option = 
mychart1 = myChart
var data = [
    [
        [
            33,
            0.14224137931034483,
            232,
            "计算机科学与教育软件学院",
            "15届"
        ],
        [
            99,
            0.668918918918919,
            148,
            "地理科学学院",
            "15届"
        ],
        [
            57,
            0.15447154471544716,
            369,
            "机械与电气工程学院",
            "15届"
        ],
        [
            368,
            0.6996197718631179,
            526,
            "经济与统计学院",
            "15届"
        ],
        [
            66,
            0.1935483870967742,
            341,
            "土木工程学院",
            "15届"
        ],
        [
            300,
            0.7537688442211056,
            398,
            "新闻与传播学院",
            "15届"
        ],
        [
            236,
            0.8939393939393939,
            264,
            "外国语学院",
            "15届"
        ],
        [
            230,
            0.888030888030888,
            259,
            "人文学院",
            "15届"
        ],
        [
            89,
            0.5493827160493827,
            162,
            "数学与信息科学学院",
            "15届"
        ],
        [
            334,
            0.6693386773547094,
            499,
            "工商管理学院",
            "15届"
        ],
        [
            131,
            0.7443181818181818,
            176,
            "法学院",
            "15届"
        ],
        [
            120,
            0.7361963190184049,
            163,
            "公共管理学院",
            "15届"
        ],
        [
            3,
            1.0,
            3,
            "卫斯理安学院",
            "15届"
        ],
        [
            14,
            0.6666666666666666,
            21,
            "政治与公民教育学院",
            "15届"
        ],
        [
            153,
            0.7846153846153846,
            195,
            "旅游学院",
            "15届"
        ],
        [
            158,
            0.7821782178217822,
            202,
            "教育学院",
            "15届"
        ],
        [
            46,
            0.4842105263157895,
            95,
            "环境科学与工程学院",
            "15届"
        ],
        [
            118,
            0.5728155339805825,
            206,
            "化学化工学院",
            "15届"
        ],
        [
            37,
            0.22424242424242424,
            165,
            "物理与电子工程学院",
            "15届"
        ],
        [
            67,
            0.4785714285714286,
            140,
            "建筑与城市规划学院",
            "15届"
        ],
        [
            167,
            0.5921985815602837,
            282,
            "美术与设计学院",
            "15届"
        ],
        [
            67,
            0.6146788990825688,
            109,
            "生命科学学院",
            "15届"
        ],
        [
            7,
            0.07142857142857142,
            98,
            "体育学院",
            "15届"
        ],
        [
            101,
            0.7769230769230769,
            130,
            "音乐舞蹈学院",
            "15届"
        ]
    ],
    [
        [
            83,
            0.47701149425287354,
            174,
            "地理科学学院",
            "14届"
        ],
        [
            30,
            0.08356545961002786,
            359,
            "机械与电气工程学院",
            "14届"
        ],
        [
            6,
            0.6666666666666666,
            9,
            "工商管理学院",
            "14届"
        ],
        [
            98,
            0.6901408450704225,
            142,
            "法学院",
            "14届"
        ],
        [
            101,
            0.6121212121212121,
            165,
            "公共管理学院",
            "14届"
        ],
        [
            79,
            0.48466257668711654,
            163,
            "数学与信息科学学院",
            "14届"
        ],
        [
            33,
            0.25384615384615383,
            130,
            "环境科学与工程学院",
            "14届"
        ],
        [
            76,
            0.4342857142857143,
            175,
            "化学化工学院",
            "14届"
        ],
        [
            127,
            0.7650602409638554,
            166,
            "教育学院",
            "14届"
        ],
        [
            35,
            0.33653846153846156,
            104,
            "计算机科学与教育软件学院",
            "14届"
        ],
        [
            10,
            0.7692307692307693,
            13,
            "经济与统计学院",
            "14届"
        ],
        [
            51,
            0.20647773279352227,
            247,
            "土木工程学院",
            "14届"
        ],
        [
            40,
            0.2185792349726776,
            183,
            "物理与电子工程学院",
            "14届"
        ],
        [
            51,
            0.4214876033057851,
            121,
            "建筑与城市规划学院",
            "14届"
        ],
        [
            136,
            0.7640449438202247,
            178,
            "旅游学院",
            "14届"
        ],
        [
            157,
            0.6356275303643725,
            247,
            "美术与设计学院",
            "14届"
        ],
        [
            168,
            0.835820895522388,
            201,
            "人文学院",
            "14届"
        ],
        [
            47,
            0.2974683544303797,
            158,
            "生命科学学院",
            "14届"
        ],
        [
            16,
            0.15384615384615385,
            104,
            "体育学院",
            "14届"
        ],
        [
            165,
            0.8918918918918919,
            185,
            "外国语学院",
            "14届"
        ],
        [
            235,
            0.7704918032786885,
            305,
            "新闻与传播学院",
            "14届"
        ],
        [
            90,
            0.8108108108108109,
            111,
            "音乐舞蹈学院",
            "14届"
        ]
    ],
    [
        [
            64,
            0.44755244755244755,
            143,
            "地理科学学院",
            "13届"
        ],
        [
            101,
            0.7372262773722628,
            137,
            "法学院",
            "13届"
        ],
        [
            147,
            0.7616580310880829,
            193,
            "教育学院",
            "13届"
        ],
        [
            113,
            0.6848484848484848,
            165,
            "公共管理学院",
            "13届"
        ],
        [
            55,
            0.3525641025641026,
            156,
            "环境科学与工程学院",
            "13届"
        ],
        [
            4,
            0.8,
            5,
            "工商管理学院",
            "13届"
        ],
        [
            69,
            0.3150684931506849,
            219,
            "化学化工学院",
            "13届"
        ],
        [
            48,
            0.2222222222222222,
            216,
            "物理与电子工程学院",
            "13届"
        ],
        [
            5,
            0.053763440860215055,
            93,
            "计算机科学与教育软件学院",
            "13届"
        ],
        [
            23,
            0.0749185667752443,
            307,
            "机械与电气工程学院",
            "13届"
        ],
        [
            130,
            0.6701030927835051,
            194,
            "旅游学院",
            "13届"
        ],
        [
            152,
            0.9047619047619048,
            168,
            "外国语学院",
            "13届"
        ],
        [
            2,
            1.0,
            2,
            "经济与统计学院",
            "13届"
        ],
        [
            51,
            0.38636363636363635,
            132,
            "建筑与城市规划学院",
            "13届"
        ],
        [
            82,
            0.5616438356164384,
            146,
            "数学与信息科学学院",
            "13届"
        ],
        [
            172,
            0.6539923954372624,
            263,
            "美术与设计学院",
            "13届"
        ],
        [
            175,
            0.8293838862559242,
            211,
            "人文学院",
            "13届"
        ],
        [
            213,
            0.7526501766784452,
            283,
            "新闻与传播学院",
            "13届"
        ],
        [
            72,
            0.35467980295566504,
            203,
            "生命科学学院",
            "13届"
        ],
        [
            47,
            0.1649122807017544,
            285,
            "土木工程学院",
            "13届"
        ],
        [
            12,
            0.10909090909090909,
            110,
            "体育学院",
            "13届"
        ],
        [
            86,
            0.7962962962962963,
            108,
            "音乐舞蹈学院",
            "13届"
        ]
    ]
];
isShowCollege2 = 0
isShowCollege3 = 0
isShowCollege4 = 0
option = {
    tooltip: {
        trigger: "item",
        formatter: function(params) {
            return params.value[3] + ":" + parseInt(params.value[1] * 1000) / 10 + "%"
        }
    },
    toolbox: {

        left: "160",
        feature: {
            saveAsImage: {
                show: true
            },
            myshowcollege2: {
                show: true,
                icon: "image://http://omudx2uw8.bkt.clouddn.com/ring0.jpg",
                title: "显示15届学院名称",
                onclick: function() {
                    // alert("好")
                    if (isShowCollege2 == 0) {
                        mychart1.setOption({
                            series: [{
                                label: {
                                    normal: {
                                        formatter: function(param) {
                                            return param.data[3];
                                        }
                                    }
                                }
                            }]
                        })
                        isShowCollege2 = 1
                    } else {
                        mychart1.setOption({
                            series: [{
                                label: {
                                    normal: {
                                        formatter: ""
                                    }
                                }
                            }]
                        })
                        isShowCollege2 = 0
                    }
                }
            },
            myshowcollege3: {
                show: true,
                icon: "image://http://omudx2uw8.bkt.clouddn.com/ring0.jpg",
                title: "显示14届学院名称",
                onclick: function() {
                    // alert("好")
                    if (isShowCollege3 == 0) {
                        mychart1.setOption({
                            series: [{}, {
                                label: {
                                    normal: {
                                        formatter: function(param) {
                                            return param.data[3];
                                        }
                                    }
                                }
                            }]
                        })
                        isShowCollege3 = 1
                    } else {
                        mychart1.setOption({
                            series: [{}, {
                                label: {
                                    normal: {
                                        formatter: ""
                                    }
                                }
                            }]
                        })
                        isShowCollege3 = 0
                    }
                }
            },
            myshowcollege4: {
                show: true,
                icon: "image://http://omudx2uw8.bkt.clouddn.com/ring0.jpg",
                title: "显示13届学院名称",
                onclick: function() {
                    // alert("好")
                    if (isShowCollege4 == 0) {
                        mychart1.setOption({
                            series: [{}, {}, {
                                label: {
                                    normal: {
                                        formatter: function(param) {
                                            return param.data[3];
                                        }
                                    }
                                }
                            }]
                        })
                        isShowCollege4 = 1
                    } else {
                        mychart1.setOption({
                            series: [{}, {}, {
                                label: {
                                    normal: {
                                        formatter: ""
                                    }
                                }
                            }]
                        })
                        isShowCollege4 = 0
                    }
                }
            }
        }
    },
  
    title:{
        text: "广州大学数据分析",
        subtext: "各学院女生比例及女生基数-Acring",
        left: "center"
    },
    legend: {
        right: 10,
        data: ['15届', '14届', "13届"]
    },
    xAxis: {
        name: "女生数量",
        splitLine: {
            lineStyle: {
                type: 'dashed'
            }
        }
    },
    yAxis: {
        name: "女生占比",
        splitLine: {
            lineStyle: {
                type: 'dashed'
            }
        },
        scale: true
    },
    series: [{
        name: '15届',
        data: data[0],
        type: 'scatter',
        symbolSize: function(data) {
            return Math.sqrt(data[2]) * 2;
        },
        label: {
            normal: {
                show: true,
                formatter: "",
                position: 'top',

            },
            emphasis: {
                show: true,
                formatter: function(param) {
                    return param.data[3];
                },
                position: 'top'
            }
        },
        itemStyle: {
            normal: {
                shadowBlur: 10,
                shadowColor: 'rgba(120, 36, 50, 0.5)',
                shadowOffsetY: 5,
                color: new echarts.graphic.RadialGradient(0.4, 0.3, 1, [{
                    offset: 0,
                    color: 'rgb(251, 118, 123)'
                }, {
                    offset: 1,
                    color: 'rgb(204, 46, 72)'
                }])
            }
        }
    }, {
        name: '14届',
        data: data[1],
        type: 'scatter',
        symbolSize: function(data) {
            return Math.sqrt(data[2]) * 2;
        },
        label: {
            normal: {
                show: true,
                formatter: "",
                position: 'top'
            },
            emphasis: {
                show: true,
                formatter: function(param) {
                    return param.data[3];
                },
                position: 'top'
            }
        },
        itemStyle: {
            normal: {
                shadowBlur: 10,
                shadowColor: 'rgba(25, 100, 150, 0.5)',
                shadowOffsetY: 5,
                color: new echarts.graphic.RadialGradient(0.4, 0.3, 1, [{
                    offset: 0,
                    color: 'rgb(129, 227, 238)'
                }, {
                    offset: 1,
                    color: 'rgb(25, 183, 207)'
                }])
            }
        }
    }, {
        name: '13届',
        data: data[2],
        type: 'scatter',
        symbolSize: function(data) {
            return Math.sqrt(data[2]) * 2;
        },
        label: {
            normal: {
                show: true,
                formatter: "",
                position: 'top'
            },
            emphasis: {
                show: true,
                formatter: function(param) {
                    return param.data[3];
                },
                position: 'top'
            }
        },
        itemStyle: {
            normal: {
                shadowBlur: 10,
                shadowColor: 'rgba(25, 100, 150, 0.5)',
                shadowOffsetY: 5,
                color: new echarts.graphic.RadialGradient(0.4, 0.3, 1, [{
                    offset: 0,
                    color: 'rgb(52, 128, 256)'
                }, {
                    offset: 1,
                    color: 'rgb(52, 52, 207)'
                }])
            }
        }
    }]
};
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
</script></p>
<hr>
<h2 id="少数民族分布"><a href="#少数民族分布" class="headerlink" title="少数民族分布"></a>少数民族分布</h2><blockquote>
<p>在广州大学就读的少数民族种类至少22种以上，少数民族人数最多的是回族，壮族，土家族</p>
</blockquote>
<p>身处发达城市的广州大学接收的学生来自各个地方，各个民族，下图反应了所有的少数民族，虽然和汉族相比人数很少，但我们都在一起学习，一起生活，交流着不同的思想和经历。</p>
<p><em>因为echart暂时不支持词云，所以这是一张图，不能到处点着玩</em></p>
<p><img src="http://upload-images.jianshu.io/upload_images/3026741-19df3d41e19d1fbb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="少数民族比例和外来人数比例"><a href="#少数民族比例和外来人数比例" class="headerlink" title="少数民族比例和外来人数比例"></a>少数民族比例和外来人数比例</h2><p>查看该部分<a href="http://gallery.echartsjs.com/editor.html?c=xBJoKvog2e" target="_blank" rel="external">Echarts源码</a></p>
<p>为了更清晰的看出外省及少数民族比例，我又做了下面的饼图，可以看到外来省中湖南的占比是最多的，其中的内高班其实指的是新疆的内地高中，不是新的省份。</p>
<div id="echarts4357" style="width: 100%;height: 800px;margin: 0 auto"></div>
<!-- <script src="http://echarts.baidu.com/dist/echarts.js"></script> -->

<script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('echarts4357'));
        // 指定图表的配置项和数据
        var option = 
option = {
    title:{
        text: "广州大学数据分析",
        subtext: "外省比例及少数民族比例-Acring",
        left:"center"
    },
     
    tooltip: {
        trigger: 'item',
        formatter: "{a} <br/>{b}:({d}%)"
    },
    series: [{
        name: '少数民族占比',
        type: 'pie',
        selectedMode: 'single',
        radius: [0, '30%'],

        label: {
            normal: {
                position: 'outer'
            }
        },
        labelLine: {
            normal: {
                show: true
            }
        },
        data: [{
            'name': '土家族',
            'value': 30
        }, {
            'name': '回族',
            'value': 31
        }, {
            'name': '壮族',
            'value': 40
        }, {
            'name': '苗族',
            'value': 26
        }, {
            'name': '瑶族',
            'value': 12
        }, {
            'name': '京族',
            'value': 1
        }, {
            'name': '侗族',
            'value': 14
        }, {
            'name': '维吾尔族',
            'value': 16
        }, {
            'name': '彝族',
            'value': 6
        }, {
            'name': '满族',
            'value': 24
        }, {
            'name': '蒙古族',
            'value': 14
        }, {
            'name': '布依族',
            'value': 15
        }, {
            'name': '畲族',
            'value': 6
        }, {
            'name': '黎族',
            'value': 5
        }, {
            'name': '水族',
            'value': 1
        }, {
            'name': '傣族',
            'value': 2
        }, {
            'name': '朝鲜族',
            'value': 5
        }, {
            'name': '白族',
            'value': 2
        }, {
            'name': '毛难族',
            'value': 1
        }, {
            'name': '其他',
            'value': 1
        }, {
            'name': '东乡族',
            'value': 1
        }, {
            'name': '仡佬族',
            'value': 1
        }]
    }, {
        name: '外来省份占比',
        type: 'pie',
        radius: ['50%', '65%'],

        data: [{
            'name': '贵州',
            'value': 119
        }, {
            'name': '新疆',
            'value': 46
        }, {
            'name': '安徽',
            'value': 175
        }, {
            'name': '福建',
            'value': 57
        }, {
            'name': '河南',
            'value': 133
        }, {
            'name': '甘肃',
            'value': 139
        }, {
            'name': '重庆',
            'value': 53
        }, {
            'name': '云南',
            'value': 57
        }, {
            'name': '宁夏',
            'value': 42
        }, {
            'name': '湖南',
            'value': 213
        }, {
            'name': '山西',
            'value': 77
        }, {
            'name': '吉林',
            'value': 42
        }, {
            'name': '辽宁',
            'value': 31
        }, {
            'name': '内蒙古',
            'value': 32
        }, {
            'name': '河北',
            'value': 34
        }, {
            'name': '广西',
            'value': 67
        }, {
            'name': '海南',
            'value': 68
        }, {
            'name': '湖北',
            'value': 38
        }, {
            'name': '江西',
            'value': 85
        }, {
            'name': '四川',
            'value': 14
        }, {
            'name': '山东',
            'value': 1
        }, {
            'name': '内高班',
            'value': 15
        }, {
            'name': '香港',
            'value': 1
        }]
    }]
};

        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
</script>
<h2 id="外来省份分布"><a href="#外来省份分布" class="headerlink" title="外来省份分布"></a>外来省份分布</h2><hr>
<p>查看该部分<a href="http://gallery.echartsjs.com/editor.html?c=xrJiuHZb3x" target="_blank" rel="external">Echarts源码</a></p>
<p>如果一个大饼并不能让你感受到求学的距离，下面的图或许会让你感觉到，我一直很佩服哪些远离家乡的人，<em>不远万里来到陌生的地方，面对甚是不同的环境，不同的人，不同的习惯</em>。那份乡思大概比本地人要强烈很多吧。</p>
<p>因为只有来源省份的数据，没有具体位置的数据，所以只能做成点阵图了，其实本来想做成热力图的形式。</p>
<p>从点的大小可以很清楚的看出<strong>湖南，河南，安徽，甘肃</strong>都是人数占比比较多的省份,<strong>如果你也是远漂的孩子，看看你是从哪来，又有多少人和你来自同一个地方吧。</strong></p>
<div id="echarts6255" style="width: 100%;height: 750px;margin: 0 auto"></div>
<!-- <script src="http://echarts.baidu.com/dist/echarts.js"></script> -->

<script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('echarts6255'));
        // 指定图表的配置项和数据
        var option = myHosName = '广州';
geoCoordMap = {
    '北京': [116.24, 39.55],
    '重庆': [106.54, 29.59],
    '福建': [119.18, 26.05],
    '甘肃': [103.51, 36.04],
    '广州': [113.14, 23.08],
    '广西': [108.19, 22.48],
    '贵州': [106.42, 26.35],
    '海南': [110.20, 20.02],
    '河北': [114.30, 38.02],
    '河南': [113.40, 34.46],
    '黑龙江': [128.36, 45.44],
    '湖北': [112.27, 30.15],
    '湖南': [112.59, 28.12],
    '吉林': [125.19, 43.54],
    '江苏': [118.46, 32.03],
    '江西': [115.55, 28.40],
    '辽宁': [123.25, 41.48],
    '内蒙古': [108.41, 40.48],
    '宁夏': [106.16, 38.27],
    '青海': [101.48, 36.38],
    '山东': [118.00, 36.40],
    '山西': [112.33, 37.54],
    '陕西': [108.57, 34.17],
    '上海': [121.29, 31.14],
    '四川': [104.04, 30.40],
    '天津': [117.12, 39.02],
    '西藏': [91.08, 29.39],
    '新疆': [87.36, 43.45],
    '云南': [102.42, 25.04],
    '浙江': [120.10, 30.16],
    '澳门': [115.07, 21.33],
    '台湾': [121.21, 23.53],
    "香港": [114.21, 22.5],
    "安徽": [117.21, 32.4],

};

BJData = [
    [{
        'name': '广州'
    }, {
        'name': '广州',
        'value': 200
    }],
    [{
        'name': '广州'
    }, {
        'name': '贵州',
        'value': 119
    }],
    [{
        'name': '广州'
    }, {
        'name': '新疆',
        'value': 61
    }],
    [{
        'name': '广州'
    }, {
        'name': '安徽',
        'value': 175
    }],
    [{
        'name': '广州'
    }, {
        'name': '福建',
        'value': 57
    }],
    [{
        'name': '广州'
    }, {
        'name': '河南',
        'value': 133
    }],
    [{
        'name': '广州'
    }, {
        'name': '甘肃',
        'value': 139
    }],
    [{
        'name': '广州'
    }, {
        'name': '重庆',
        'value': 53
    }],
    [{
        'name': '广州'
    }, {
        'name': '云南',
        'value': 57
    }],
    [{
        'name': '广州'
    }, {
        'name': '宁夏',
        'value': 42
    }],
    [{
        'name': '广州'
    }, {
        'name': '湖南',
        'value': 213
    }],
    [{
        'name': '广州'
    }, {
        'name': '山西',
        'value': 77
    }],
    [{
        'name': '广州'
    }, {
        'name': '吉林',
        'value': 42
    }],
    [{
        'name': '广州'
    }, {
        'name': '辽宁',
        'value': 31
    }],
    [{
        'name': '广州'
    }, {
        'name': '内蒙古',
        'value': 32
    }],
    [{
        'name': '广州'
    }, {
        'name': '河北',
        'value': 34
    }],
    [{
        'name': '广州'
    }, {
        'name': '广西',
        'value': 67
    }],
    [{
        'name': '广州'
    }, {
        'name': '海南',
        'value': 68
    }],
    [{
        'name': '广州'
    }, {
        'name': '湖北',
        'value': 38
    }],
    [{
        'name': '广州'
    }, {
        'name': '江西',
        'value': 85
    }],
    [{
        'name': '广州'
    }, {
        'name': '四川',
        'value': 14
    }],
    [{
        'name': '广州'
    }, {
        'name': '山东',
        'value': 1
    }],
    [{
        'name': '广州'
    }, {
        'name': '香港',
        'value': 1
    }]
];

convertData = function(data) {
    var res = [];
    for (var i = 0; i < data.length; i++) {
        var dataItem = data[i];
        var fromCoord = geoCoordMap[dataItem[0].name];
        var toCoord = geoCoordMap[dataItem[1].name];
        if (fromCoord && toCoord) {
            res.push({
                fromName: dataItem[0].name,
                toName: dataItem[1].name,
                coords: [toCoord, fromCoord]
            });
        }
    }
    return res;
};

mySeries = [];
[
    [myHosName, BJData]
].forEach(function(item, i) {
    mySeries.push({ //线
        name: item[0],
        type: 'lines',
        zlevel: 1,
        effect: {
            show: true,
            constantSpeed: 30,
            symbol: 'pin',
            symbolSize: 3,
            trailLength: 0,
        },
        lineStyle: {
            normal: {
                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                    offset: 0,
                    color: '#58B3CC'
                }, {
                    offset: 1,
                    color: '#F58158'
                }], false),
                width: 2,
                opacity: 0.2,
                curveness: 0.1
            }
        },
        data: convertData(item[1])
    }, { //省份圆点
        name: "外来省份分布",
        type: 'effectScatter',
        coordinateSystem: 'geo',
        zlevel: 2,
        rippleEffect: {
            brushType: 'stroke'
        },
        label: {
            normal: {
                show: true,
                position: 'right',
                formatter: '{b}'
            }
        },
        symbolSize: function(val) {
            return Math.sqrt(val[2]) * 3
        },
        itemStyle: {
            normal: {
                color: function(params) {
                    if (params.name != "广州")
                        return "#46bee9"
                    else
                        return "#F58158"
                }
            }
        },
        data: item[1].map(function(dataItem) {
            return {
                name: dataItem[1].name,
                value: geoCoordMap[dataItem[1].name].concat([dataItem[1].value])
            };
        })
    });
});

option = {
  
    title: {
        text: '广州大学数据分析',
        subtext: '外来省份分布-Acring',
        left: 'center',

    },
    tooltip: {
        trigger: 'item',
        formatter: function(params) {
            return params.name + ":" + params.value[2]
        }
    },
    geo: {
        map: 'china',
        label: {
            emphasis: {
                show: true
            }
        },
        roam: true,
        itemStyle: {
            normal: {
                areaColor: '#323c48',
                borderColor: '#404a59'
            },
            emphasis: {
                areaColor: '#2a333d'
            }
        }
    },
    series: mySeries
};


if (option && typeof option === "object") {
    myChart.setOption(option, true);
}


        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
</script>
<h2 id="各大通讯运营商使用占比"><a href="#各大通讯运营商使用占比" class="headerlink" title="各大通讯运营商使用占比"></a>各大通讯运营商使用占比</h2><p>查看该部分<a href="http://gallery.echartsjs.com/editor.html?c=xB1p_UCQ2e" target="_blank" rel="external">Echarts源码</a></p>
<blockquote>
<p>运营商中学生选择最多的是移动，其次是联通和电信</p>
</blockquote>
<p>首先我真的不是来打广告的！！！我本人用的是联通的手机，我一直好奇其他人使用最多的到底是哪个通讯商，所以才做了，这部分的统计，结果出乎我意料(我一直觉得最多的应该是联通，个人觉得还好吧，没用过其他通讯商的电话卡),或许这能给新生一个参照。</p>
<blockquote>
<p>PS:这部分数据可能与实际情况不符，因为这部分记录的是通过学生刚入学登记的手机号码去网上查询服务商的，可能很多人在校期间更换了手机号</p>
</blockquote>
<div id="echarts5883" style="width: 100%;height: 750px;margin: 0 auto"></div>
<!-- <script src="http://echarts.baidu.com/dist/echarts.js"></script> -->

<script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('echarts5883'));
        // 指定图表的配置项和数据
        var option = 

ImageUrl = "http://upload-images.jianshu.io/upload_images/3026741-c39e9d05b41c3c7a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"


option = {
    title:{
        text:"广州大学数据分析",
        subtext:"各大通讯运营商使用占比-Acring"
    },
    
    legend:{
      data: ["联通", "电信", "移动"]  
    },
      
     graphic: {
         elements: [{
             type: 'image',
             style: {
                 image: ImageUrl,
                 width: 30,
                 height: 30
             },
             left: 'center',
             top: 'center'
         }]
     },
     series: [{
         type: 'pie',
         radius: [30, '55%'],
         center: ['50%', '50%'],
         roseType: 'radius',
         color: ['#f2c955', '#00a69d', '#46d185', '#ec5845'],
         data: [{
             value: 1324,
             name: '联通'
         }, {
             value: 996,
             name: '电信'
         }, {
             value: 9209,
             name: '移动'
         }, ],
         label: {
             normal: {
                 textStyle: {
                     fontSize: 14
                 },
                 formatter: function(param) {
                     return param.name + ':\n' + Math.round(param.percent) + '%';
                 }
             }
         },
         labelLine: {
             normal: {
                 smooth: true,
                 lineStyle: {
                     width: 2
                 }
             }
         },
         itemStyle: {
             normal: {
                 shadowBlur: 30,
                 shadowColor: 'rgba(0, 0, 0, 0.4)'
             }
         },

         animationType: 'scale',
         animationEasing: 'elasticOut',
         animationDelay: function(idx) {
             return Math.random() * 200;
         }
     }]
 }

        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
</script>
<hr>
<h2 id="各个月份生日人数分布"><a href="#各个月份生日人数分布" class="headerlink" title="各个月份生日人数分布"></a>各个月份生日人数分布</h2><p>查看该部分<a href="http://gallery.echartsjs.com/editor.html?c=xHkNMYW42x" target="_blank" rel="external">Echarts源码</a></p>
<p>每个人都有自己的生日，泥萌肯定想知道，整个广州大学有多少人会和你在同一天生日吧，答案是<strong>很多!!!</strong>，如果你是<strong>8月18号</strong>出生的，那么至少有<strong>64</strong>个人和你同一天生日，这应该是整个广州大学生日人数<strong>最多</strong>的一天，即使你是<strong>2月29号</strong>出生的(没想到还真有),也有至少<strong>7个人</strong>和你同一天生日，很神奇吧~</p>
<blockquote>
<p>生日人数最多的一个月份是<strong>8月</strong>，这个月份你的<strong>朋友圈</strong>会很忙~，生日人数最少的是<strong>4月</strong>(居然不是2月)，你可以清闲一点啦</p>
</blockquote>
<div id="echarts1072" style="width: 100%;height: 750px;margin: 0 auto"></div>
<!-- <script src="http://echarts.baidu.com/dist/echarts.js"></script> -->

<script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('echarts1072'));
        // 指定图表的配置项和数据
        var option = dataMap = {};
function dataFormatter(obj) {
    var pList = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'];
    var temp;
    for (var month = 1; month <= 12; month++) {
        
        temp = obj[month.toString()];
        obj[month + 'sum'] = temp[0];
        for (var i = 1, len = temp.length; i < len; i++) {
            obj[month.toString()][i] = {
                name : pList[i],
                value : temp[i]
            }
        }
        obj[month.toString()].shift()
        
    }
    return obj;
}

dataMap.dataMonth = dataFormatter({
    //max : 60000,
    '1': [1020, 45, 45, 34, 25, 43, 37, 31, 32, 26, 33, 25, 35, 23, 25, 39, 31, 32, 48, 37, 33, 35, 32, 34, 25, 28, 35, 44, 36, 26, 26, 20], '2': [928, 39, 42, 27, 29, 39, 36, 34, 38, 25, 30, 31, 34, 29, 35, 32, 28, 29, 37, 27, 47, 25, 25, 30, 31, 33, 42, 27, 39, 8, 0, 0], '3': [1024, 29, 26, 37, 48, 41, 34, 26, 45, 21, 39, 35, 37, 41, 29, 32, 34, 25, 39, 24, 35, 34, 36, 29, 25, 35, 32, 31, 45, 30, 29, 21], '4': [878, 26, 34, 24, 31, 36, 20, 24, 28, 30, 25, 22, 32, 28, 32, 28, 27, 34, 34, 30, 39, 36, 16, 26, 36, 34, 26, 34, 26, 26, 34, 0], '5': [902, 28, 27, 38, 26, 22, 32, 28, 39, 36, 31, 35, 20, 29, 27, 36, 25, 23, 24, 26, 35, 21, 27, 41, 30, 33, 26, 27, 30, 31, 30, 19], '6': [914, 31, 29, 31, 30, 34, 40, 32, 38, 16, 31, 27, 25, 28, 27, 28, 28, 33, 36, 23, 34, 36, 33, 31, 31, 30, 26, 35, 30, 34, 27, 0], '7': [1070, 31, 35, 36, 34, 29, 36, 28, 49, 28, 33, 36, 32, 36, 31, 47, 30, 41, 41, 43, 33, 24, 38, 40, 33, 32, 35, 21, 43, 38, 33, 24], '8': [1342, 47, 35, 26, 32, 40, 40, 31, 63, 37, 44, 37, 40, 41, 41, 48, 50, 36, 65, 44, 51, 40, 41, 51, 36, 39, 63, 55, 59, 32, 38, 40], '9': [1157, 32, 34, 33, 29, 39, 44, 32, 33, 33, 57, 36, 31, 41, 32, 36, 36, 42, 49, 45, 55, 37, 34, 35, 36, 43, 55, 34, 42, 34, 38, 0], '10': [1185, 45, 46, 33, 29, 50, 31, 40, 57, 33, 49, 34, 50, 31, 34, 33, 31, 32, 36, 33, 51, 49, 41, 30, 32, 48, 45, 39, 41, 30, 28, 24], '11': [1116, 45, 39, 42, 38, 34, 41, 38, 39, 39, 36, 28, 32, 37, 30, 38, 56, 36, 46, 34, 37, 23, 31, 40, 35, 35, 44, 42, 51, 24, 26, 0], '12': [1026, 44, 38, 32, 35, 36, 47, 35, 43, 30, 38, 32, 33, 38, 36, 27, 36, 30, 31, 32, 38, 29, 25, 27, 24, 36, 37, 26, 47, 23, 27, 14]}
);




option = {
    baseOption: {
        
        timeline: {
            // y: 0,
            axisType: 'category',
            // realtime: false,
            // loop: false,
            autoPlay: true,
            // currentIndex: 2,
            playInterval: 1500,
            // controlStyle: {
            //     position: 'left'
            // },
            data: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'],
            label: {
                formatter : function(s) {
                    return s + "月"
                }
            }
        },
        title: {
            text: '广州大学数据分析'
        },
        tooltip: {},
        
        calculable : true,
        grid: {
            top: 80,
            bottom: 100
        },
        xAxis: [
            {
                name : "天",
                'type':'category',
                'axisLabel':{'interval':0},
                'data':['1', '\n2', '3', '\n4', '5', '\n6', '7', '\n8', '9', '\n10', '11', '\n12', '13', '\n14', '15', '\n16', '17', '\n18', '19', '\n20', '21', '\n22', '23', '\n24', '25', '\n26', '27', '\n28', '29', '\n30', '31'],
                splitLine: {show: false}
            }
        ],
        yAxis: [
            {
                type: 'value',
                name: '人数',
                // max: 53500
                max : 100
            }
        ],
        series: [
            {name: 'days', type: 'bar'},
            {
                name: '每月生日人数占比',
                type: 'pie',
                color: ['#A5DEE4', '#81C7D4', '#24936E', '#5DAC81','#A8D8B9',"#F596AA","#E87A90","#F4A7B9","#DB8E71","#FB9966","#E9A368","#58B2DC"],
                center: ['75%', '20%'],
                radius: [20, '28%'],
                roseType: 'area',
                data:[{name: "1月",value : dataMap.dataMonth["1sum"]},
                    {name: "2月",value : dataMap.dataMonth["2sum"]},
                    {name: "3月",value : dataMap.dataMonth["3sum"]},
                    {name: "4月",value : dataMap.dataMonth["4sum"]},
                    {name: "5月",value : dataMap.dataMonth["5sum"]},
                    {name: "6月",value : dataMap.dataMonth["6sum"]},
                    {name: "7月",value : dataMap.dataMonth["7sum"]},
                    {name: "8月",value : dataMap.dataMonth["8sum"]},
                    {name: "9月",value : dataMap.dataMonth["9sum"]},
                    {name: "10月",value : dataMap.dataMonth["10sum"]},
                    {name: "11月",value : dataMap.dataMonth["11sum"]},
                    {name: "12月",value : dataMap.dataMonth["12sum"]},
                    ]
            }
            
        ]
    },
    options: [
        {


            title: {subtext: '1月生日人数分布-Acring'},
            series: [
                {data: dataMap.dataMonth['1'],itemStyle:{
                    normal:{
                        color: "#A5DEE4"
                    }
                },},
                
            ]
        },
        {
            
            title : {subtext: '2月生日人数分布-Acring'},
            series : [{data: dataMap.dataMonth['2'],itemStyle:{
                    normal:{
                        color: "#81C7D4"
                    }
                },},]
        },
        {
            title : {subtext: '3月生日人数分布-Acring'},
            series : [{data: dataMap.dataMonth['3'],itemStyle:{
                    normal:{
                        color: "#24936E"
                    }
                },},]
        },
        {
            title : {subtext: '4月生日人数分布-Acring'},
            series : [{data: dataMap.dataMonth['4'],itemStyle:{
                    normal:{
                        color: "#5DAC81"
                    }
                },},]
        },
        {
            title : {subtext: '5月生日人数分布-Acring'},
            series : [{data: dataMap.dataMonth['5'],itemStyle:{
                    normal:{
                        color: "#A8D8B9"
                    }
                },},]
        },
        {
            title : {subtext: '6月生日人数分布-Acring'},
            series : [{data: dataMap.dataMonth['6'],itemStyle:{
                    normal:{
                        color: "#F596AA"
                    }
                },},]
        },
        {
            title : {subtext: '7月生日人数分布-Acring'},
            series : [{data: dataMap.dataMonth['7'],itemStyle:{
                    normal:{
                        color: "#E87A90"
                    }
                },},]
        },
        {
            title : {subtext: '8月生日人数分布-Acring'},
            series : [{data: dataMap.dataMonth['8'],itemStyle:{
                    normal:{
                        color: "#F4A7B9"
                    }
                },},]
        },
        {
            title : {subtext: '9月生日人数分布-Acring'},
            series : [{data: dataMap.dataMonth['9'],itemStyle:{
                    normal:{
                        color: "#DB8E71"
                    }
                },},]
        },
        {
            title : {subtext: '10月生日人数分布-Acring'},
            series : [{data: dataMap.dataMonth['10'],itemStyle:{
                    normal:{
                        color: "#FB9966"
                    }
                },},]
        },
        {
            title : {subtext: '11月生日人数分布-Acring'},
            series : [{data: dataMap.dataMonth['11'],itemStyle:{
                    normal:{
                        color: "#E9A368"
                    }
                },},]
        },
        {
            title : {subtext: '12月生日人数分布-Acring'},
            series : [{data: dataMap.dataMonth['12'],itemStyle:{
                    normal:{
                        color: "#58B2DC"
                    }
                },},]
        },
        
    ]
};

        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
</script>
<h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>感谢各位能看到这里的小伙伴们，这个星期牺牲了很多时间在这个上面，就是为了能把他做的更全面更好看，如果能有更多人能看到那我的努力也就没有白费了，可以的话不如转发给你身边的小伙伴们也看看。下面附上我简单好记的博客地址。</p>
<blockquote>
<p>blog.acring.me</p>
<p><strong>你们有所收获就是我最大的幸福，各位大学生活愉快哟~</strong></p>
</blockquote>
]]></content>
      
        
        <tags>
            
            <tag> 数据分析 </tag>
            
            <tag> 数据可视化 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[博弈论之五个海盗分金币的问题(以及推广到更多的海盗)]]></title>
      <url>http://blog.acring.me/2017/03/18/%E6%B5%B7%E7%9B%97%E5%88%86%E9%87%91/</url>
      <content type="html"><![CDATA[<h3 id="经典的海盗分金问题"><a href="#经典的海盗分金问题" class="headerlink" title="经典的海盗分金问题"></a>经典的海盗分金问题</h3><h4 id="概述"><a href="#概述" class="headerlink" title="概述:"></a>概述:</h4><p>5个海盗抢得100枚金币，他们按抽签的顺序依次提方案：首先由1号提出分配方案，然后所有5人表决(包括自己)，超过半数同意方案才被通过，否则他将被扔入大海喂鲨鱼，依此类推。</p>
<p>大盗们都有如下的几个性格特点:</p>
<blockquote>
<p>1.足智多谋，总是采取最优策略。<br>2.贪生怕死，尽量保全自己性命。<br>3.贪得无厌，希望自己得到越多宝石越好<br>4.心狠手辣，在自己利益最大的情况想希望越多人死越好。<br>5.疑心多虑，不信任彼此，尽量确保自身利益不寄希望与别人给自己更大利益。</p>
</blockquote>
<p>在这种理想的条件下如果你是第一个海盗应该怎么提出方案才能让自己的收获最多的金币呢.</p>
<h4 id="不科学的结论"><a href="#不科学的结论" class="headerlink" title="不科学的结论"></a>不科学的结论</h4><p>按照一般的思想,我们肯定认为第一个人是最惨的,因为似乎只要死的人越多,平均每个人能分到的金币就更多,那么第一个人可能是很容易就死了,但是实际上呢,在上面的这些条件下,第一个海盗是最赚的,他能得到的金币是97个!!!</p>
<a id="more"></a>
<h4 id="有趣的推理"><a href="#有趣的推理" class="headerlink" title="有趣的推理:"></a>有趣的推理:</h4><p>我们先来看两个海盗的时候会怎么样,慢慢推理,然后我们就会发现其实很好理解.</p>
<h5 id="两个海盗–毫无悬念"><a href="#两个海盗–毫无悬念" class="headerlink" title="两个海盗–毫无悬念"></a>两个海盗–毫无悬念</h5><p>很显然,当只有两个海盗的时候,一号一定会死,因为首先只要第一个海盗死了,剩下的一个便能获得全部的金币,根据<strong>贪得无厌</strong>的原则,二号也不会投同意票,即使一号选择<br><strong>(0,100)(即一号获得0个金币,二号获得100个)</strong>但是根据<strong>心狠手辣</strong>的原则,二号还是不会投同意票,所以此时无论如何也不会有半数以上的同意票,此时的一号表示:为什么我这么惨啊!</p>
<blockquote>
<p>结果 (0, 100)</p>
</blockquote>
<h5 id="三个海盗–无奈的选择"><a href="#三个海盗–无奈的选择" class="headerlink" title="三个海盗–无奈的选择"></a>三个海盗–无奈的选择</h5><p>当存在三个海盗的时候,原来的两个海盗时的一号变成了二号,此时二号知道了,如果一号被投死,那么毫无悬念的,他没有任何活路,根据<strong>贪生怕死</strong>的原则,他会无论如何保全自己,换句话说,他无论如何都会同意此时一号的题意,那么此时聪明的一号知道他们的想法之后就开心的不行了,因为无论自己提什么条件自己都会得到半数以上的投票.那根据<strong>贪得无厌</strong>的原则,结果显而易见.</p>
<blockquote>
<p>结果 (100, 0, 0)</p>
</blockquote>
<h5 id="四个海盗–稍稍讨好就可以"><a href="#四个海盗–稍稍讨好就可以" class="headerlink" title="四个海盗–稍稍讨好就可以"></a>四个海盗–稍稍讨好就可以</h5><p>四个海盗时,此时的一号明白了此时的二号是讨好不了的.因为自己死了二号就一定能得到全部100枚金币,所以干脆不讨好,给他0枚金币吧.而此时除了自己的票还差两票,那么只要讨好三号和四号获得这两票就好,三号和四号相当容易讨好的,因为一号死了,他们就只能得到空气(三个海盗的结果为(100, 0, 0)),那么给他一块金币就好啦.当然一号不能不给三号四号金币,因为海盗都是<strong>心狠手辣</strong>的,<strong>[如果不管你死不死我都是0块金币,那我干脆要你死算了]</strong>.</p>
<blockquote>
<p>结果 (98, 0, 1, 1)</p>
</blockquote>
<h5 id="五个海盗–照本宣科"><a href="#五个海盗–照本宣科" class="headerlink" title="五个海盗–照本宣科"></a>五个海盗–照本宣科</h5><p>相同的原理,现在的一号需要2票就能保证存活,首先二号是不考虑了给金币了,不管给多少都反对的,三号给一个金币就行,然后还差一票,只要给<strong>四号或五号</strong>其中一个两枚金币,另一个不给,就可以.但这里要注意一下,此时的分歧已经产生,后面的推广推理中会用到.</p>
<blockquote>
<p>结果: (97, 0, 1, 2, 0)或(97, 0, 1, 0, 2)</p>
</blockquote>
<p>到这里我们关于五个海盗分金币的问题就得到了完美的解决,看似最惨的一号海盗得到了最多的获利,令人侧目,可惜人不都是完全理性的,有时甚至愚蠢之极,但这或许就是社会令人难以着迷也最令人害怕的地方的地方.</p>
<hr>
<h4 id="更多的推广和规律"><a href="#更多的推广和规律" class="headerlink" title="更多的推广和规律"></a>更多的推广和规律</h4><p>五个海盗的故事结束了,现在来了六个海盗,</p>
<p>我们继续可以按照之前的思路分析现在的情况,一号需要3票,二号不能讨好,三号给一枚,四号五号六号呢,这就出现的不是很好理解的情况,我先说明最后的结果是:</p>
<blockquote>
<p>(97, 0, 1, 0, 1, 1)</p>
</blockquote>
<p>为什么呢,我们可以从上面的推理发现我们其实一直没用到5.<strong>疑心多虑</strong>的原则,而现在就用到了,因为在五个海盗的时候有两种分法,四号和五号都可能分到2枚金币,也都可能分到0枚,他们不敢保证自己在这个人死后下一个人提方案时会给自己2枚还是0枚,那现在只要一号给他们一枚金币,他们就一定会投同意票<br><strong>(不信任彼此，尽量确保自身利益不寄希望与别人给自己更大利益)</strong>.</p>
<p>所以这种分法是对一号收益最多的,否则他还要要花两枚金币去收买四号,一枚金币收买五六号中的一个 <strong>((96, 0, 1, 2, 0, 1)或(96, 0, 1, 2, 1, 0))</strong>,这样不是最优的.</p>
<p>同样的思路推广下去我们会发现这样的规律:</p>
<blockquote>
<p>当 n为偶数时只要给二号到n号0,1,0,1…0,1,0,1,1<br>当 n 为奇数时给1,x,1,x….x,x.(任意一个x是二其余都是0)</p>
</blockquote>
<p>上述情况的答案都是<strong>m-n/2</strong></p>
<p>这就是海盗分金币的一般解了.</p>
]]></content>
      
        
        <tags>
            
            <tag> 博弈论 </tag>
            
            <tag> 算法 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[在Unity中调用Android原生Activity的方法]]></title>
      <url>http://blog.acring.me/2017/03/18/%E5%9C%A8Unity%E4%B8%AD%E8%B0%83%E7%94%A8Android%E5%8E%9F%E7%94%9FActivity%E7%9A%84%E6%96%B9%E6%B3%95/</url>
      <content type="html"><![CDATA[<h2 id="在Android-studio-中创建新工程"><a href="#在Android-studio-中创建新工程" class="headerlink" title="在Android studio 中创建新工程"></a>在Android studio 中创建新工程</h2><h3 id="创建新工程"><a href="#创建新工程" class="headerlink" title="创建新工程"></a>创建新工程</h3><ul>
<li>设定的Mininum SDK不要太高，我设定的API 21</li>
</ul>
<h3 id="在工程中引入Unity的接口包"><a href="#在工程中引入Unity的接口包" class="headerlink" title="在工程中引入Unity的接口包"></a>在工程中引入Unity的接口包</h3><blockquote>
<p>接口包的位置可能随版本有所不同我用的是 <em>Editor\Data\PlaybackEngines\AndroidPlayer\Variations\mono\Release\Classes</em></p>
</blockquote>
<ul>
<li>把目录下的classes.jar放入新建的工程的app\libs下</li>
</ul>
<blockquote>
<p>在项目管理器调成project模式比较好找位置</p>
</blockquote>
<p>TODO:加个图</p>
<ul>
<li>右键classes包Add as Library,<strong>把包加入环境中</strong></li>
</ul>
<h3 id="修改MainActivity为UnityPlayerActivity"><a href="#修改MainActivity为UnityPlayerActivity" class="headerlink" title="修改MainActivity为UnityPlayerActivity"></a>修改MainActivity为UnityPlayerActivity</h3><p><strong>接下来我们要把MainActivity继承于UnityPlayerActivity，让他在Unity项目打开的时候就启动并在这个类中提供打开新的有界面的Activity的接口</strong></p>
<ul>
<li>改变MainActivity的继承并删除setContentView方法(<em>因为我们一开始不需要界面，只需要它能启动,不删掉会直接出现Android界面就没有我们想要的效果了</em>)</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">UnityPlayerActivity</span></span>&#123;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="创建新界面的Activity和layout并在MainActivity中写出相应的调用函数"><a href="#创建新界面的Activity和layout并在MainActivity中写出相应的调用函数" class="headerlink" title="创建新界面的Activity和layout并在MainActivity中写出相应的调用函数"></a>创建新界面的Activity和layout并在MainActivity中写出相应的调用函数</h3><ul>
<li>新创建一个java类作为新的Activity并创建相应的layout</li>
</ul>
<p><strong>KouyuActivity.java</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> me.acring.mainkouyu;</div><div class="line"></div><div class="line"><span class="keyword">import</span> android.app.Activity;</div><div class="line"><span class="keyword">import</span> android.os.Bundle;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * Created by Acring on 2017/3/17.</div><div class="line"> * 口语练习</div><div class="line"> */</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">KouyuActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span>&#123;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle saveIntentState)</span></span>&#123;</div><div class="line">        <span class="keyword">super</span>.onCreate(saveIntentState);</div><div class="line">        setContentView(R.layout.activity_kouyu);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>activity_kouyu.xml</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</div><div class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></div><div class="line">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span> <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</div><div class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line">        <span class="attr">android:text</span>=<span class="string">"口语练习"</span>/&gt;</div><div class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li>在MainActivity中添加函数</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">startMyActivity</span><span class="params">()</span></span>&#123;</div><div class="line">        Intent intent = <span class="keyword">new</span> Intent(MainActivity.<span class="keyword">this</span>, KouyuActivity.class);</div><div class="line">        startActivity(intent);</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h3 id="配置AndroidManifest-xml"><a href="#配置AndroidManifest-xml" class="headerlink" title="配置AndroidManifest.xml"></a>配置AndroidManifest.xml</h3><ul>
<li>配置Activity</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">activity</span></span></div><div class="line">            <span class="attr">android:name</span>=<span class="string">".KouyuActivity"</span></div><div class="line">            <span class="attr">android:theme</span>=<span class="string">"@android:style/Theme.NoTitleBar.Fullscreen"</span></div><div class="line">            &gt;</div><div class="line">        <span class="tag">&lt;/<span class="name">activity</span>&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li>配置UnityActivity</li>
<li>添加 <code>&lt;meta-data android:name=&quot;unityplayer.UnityActivity&quot; android:value=&quot;true&quot; /&gt;</code></li>
<li>注意添加位置</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:name</span>=<span class="string">".MainActivity"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">meta-data</span> <span class="attr">android:name</span>=<span class="string">"unityplayer.UnityActivity"</span> <span class="attr">android:value</span>=<span class="string">"true"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">"android.intent.action.MAIN"</span> /&gt;</span></div><div class="line"></div><div class="line">                <span class="tag">&lt;<span class="name">category</span> <span class="attr">android:name</span>=<span class="string">"android.intent.category.LAUNCHER"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">activity</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="修改style-xml的配置"><a href="#修改style-xml的配置" class="headerlink" title="修改style.xml的配置"></a>修改style.xml的配置</h3><ul>
<li>打开style.xml</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"AppTheme"</span> <span class="attr">parent</span>=<span class="string">"Theme.AppCompat.Light.DarkActionBar"</span>&gt;</span><span class="xml"></span></div><div class="line">    <span class="comment">&lt;!-- Customize your theme here. --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"colorPrimary"</span>&gt;</span>@color/colorPrimary<span class="tag">&lt;/<span class="name">item</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"colorPrimaryDark"</span>&gt;</span>@color/colorPrimaryDark<span class="tag">&lt;/<span class="name">item</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"colorAccent"</span>&gt;</span>@color/colorAccent<span class="tag">&lt;/<span class="name">item</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li>以上全部删去修改为</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"AppTheme"</span> <span class="attr">parent</span>=<span class="string">"android:Theme.Light"</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div></pre></td></tr></table></figure>
<p>目的是去掉对V7包的引用，否则Unity在Build的时候会报错</p>
<ul>
<li><strong>上述步骤会使layout显示以下警告，目前不知道怎么解决，但是对程序运行似乎没有影响</strong></li>
</ul>
<blockquote>
<p>​    <strong>Missing styles. Is the correct theme chosen for this layout?</strong><br>​    Use the Theme combo box above the layout to choose a different layout, or fix<br>​    the theme style references.</p>
</blockquote>
<h3 id="修改build-gradle文件"><a href="#修改build-gradle文件" class="headerlink" title="修改build.gradle文件"></a>修改build.gradle文件</h3><ul>
<li>在<strong>build.gradle</strong>文件(<strong>Module:app</strong>)顶部类似线面的代码中:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">apply plugin: &apos;com.android.application&apos;</div><div class="line"></div><div class="line">android &#123;</div><div class="line">    compileSdkVersion 25</div><div class="line">    buildToolsVersion &quot;25.0.2&quot;</div><div class="line">    defaultConfig &#123;</div><div class="line">        applicationId &quot;me.acring.mainkouyu&quot;</div></pre></td></tr></table></figure>
<ul>
<li>将<code>apply plugin: &#39;com.android.application&#39;</code> 修改为<code>apply plugin: &#39;com.android.library&#39;</code></li>
<li>注释掉<code>applicationId &quot;me.acring.mainkouyu&quot;</code></li>
<li>删除:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">compile &apos;com.android.support:appcompat-v7:25.0.0&apos;</div><div class="line">testCompile &apos;junit:junit:4.12&apos;</div></pre></td></tr></table></figure>
<p><strong>做完之后程序不能单独在AS运行并且Junit程序会报错，不过都是正常的</strong></p>
<h3 id="Build-APK并取出关键文件"><a href="#Build-APK并取出关键文件" class="headerlink" title="Build APK并取出关键文件"></a>Build APK并取出关键文件</h3><ul>
<li>最后一步 <strong>Sync Now</strong> 并 <strong>Build APK</strong></li>
<li>可能提示 <code>Error:(6, 30) 错误: 程序包android.support.v7.app不存在</code></li>
<li>把 <code>import android.support.v7.app.AppCompatActivity;</code>注释掉就行了</li>
<li>取出<code>\app\build\outputs\aarapp-debug.aar</code>文件和<code>\app\src\main\AndroidManifest.xml</code>文件(放到一个临时位置)</li>
<li>用压缩软件打开aarapp-debug.aar文件并删除掉目录下的 \libs\classes.jar 文件。（避免重复引用）</li>
</ul>
<p><strong>安卓部分到此结束</strong></p>
<hr>
<h2 id="Unity工程的配置和调用"><a href="#Unity工程的配置和调用" class="headerlink" title="Unity工程的配置和调用"></a>Unity工程的配置和调用</h2><hr>
<h3 id="创建目录并引用文件"><a href="#创建目录并引用文件" class="headerlink" title="创建目录并引用文件"></a>创建目录并引用文件</h3><ul>
<li>新建Unity项目，在Assets目录下新建Plugins\Android\目录</li>
<li>把刚刚取出的两个文件放到该目录下</li>
</ul>
<h3 id="创建按钮并配置脚本"><a href="#创建按钮并配置脚本" class="headerlink" title="创建按钮并配置脚本"></a>创建按钮并配置脚本</h3><ul>
<li>新建一个C#脚本，添加如下函数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">public void startMyActivity()</div><div class="line">    &#123;</div><div class="line">        //AndroidJavaClass：通过指定类名可以构造出一个类</div><div class="line">        AndroidJavaClass jc = new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;);</div><div class="line"></div><div class="line">        // UnityPlayer这个类可以获取当前的Activity</div><div class="line">        // currentActivity字符串对应源码中UnityPlayer类下 的 Activity 变量名。</div><div class="line">        AndroidJavaObject jo = jc.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;);</div><div class="line"></div><div class="line">        // 在对象上调用一个Java方法</div><div class="line">        jo.Call(&quot;startMyActivity&quot;);</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<ul>
<li>把脚本配置到按钮上并绑定OnClick(具体方法应该都知道)</li>
</ul>
<h3 id="切换平台并配置必要参数"><a href="#切换平台并配置必要参数" class="headerlink" title="切换平台并配置必要参数"></a>切换平台并配置必要参数</h3><ul>
<li>打开Build Settings切换到Android平台，打开Player Settings修改Bundle Indentifier为Android工程中AndroidManifest.xml下package的名称,修改Minimum API Level为Android工程对应的API级别</li>
</ul>
]]></content>
      
        
        <tags>
            
            <tag> Unity3D </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[First]]></title>
      <url>http://blog.acring.me/2017/03/15/First/</url>
      <content type="html"><![CDATA[<h1 id="Acring的第一个小站成立啦"><a href="#Acring的第一个小站成立啦" class="headerlink" title="Acring的第一个小站成立啦"></a>Acring的第一个小站成立啦</h1><a id="more"></a>
<h2 id="一"><a href="#一" class="headerlink" title="一"></a>一</h2><hr>
<p>​    从大学开始一脸懵逼的接触计算机到现在已经在计算机领域摸索了两年，终于想着要给自己建一个属于自己的小窝，毕竟一个做计算机的一直没有一个属于自己的域名，博客还是很说不过去的。</p>
<p>​    最开始的想法是<strong>小熊师兄Airing</strong>给我的，因为我在朋友的推荐下蹭了他在软件工程二专的代理课，大概知道了怎么建站，然后也看了小熊师兄的<a href="https://blog.ursb.me" target="_blank" rel="external">个人博客</a>，感觉他的博客真的相当的漂亮，上面有很多自己的<strong>学习经历</strong>和<strong>想法</strong>，还有自己写的书，自己做的项目，专业的和业余的，当时就觉得师兄是我的<strong>偶像</strong>!!</p>
<p>​    当然，对我来说，<strong>偶像不是崇拜的对象，而是未来的目标</strong>: )。所以呢，我想着自己会有这么一天，而这一天也终有到了，我有了自己的域名==&gt;acring.me，博客域名==&gt;<a href="http://blog.acring.me">blog.acring.me</a>，虽然还很简陋但是我会慢慢把这装扮的<em>简洁而优雅</em>的，这是我一贯的 风格，最后欢迎大家来我这玩。</p>
<h2 id="二"><a href="#二" class="headerlink" title="二"></a>二</h2><hr>
<p>​    为什么要建自己的博客，当然是为了<strong>有个地方分享自己想要分享的东西</strong>，我之前没有记录的习惯，虽然做了很多有趣的小东西但一直没有想过要把这些记录下来，一是觉得自己现在玩的东西都太<em>幼稚</em>了，太<em>简单</em>了，没必要记录，更没必要分享给别人，毕竟一堆人比我更优秀，怕是有班门弄斧之嫌.</p>
<p>​    但是随着自己对计算机更多的喜爱和更多的了解，接触的东西越来越多，如果没有一个地方把这些记录下来，我觉得我即使做了过不久也就忘了，最典型的就是我大一做的抢课脚本，现在已经维护不了了，怕是之后要重写了。我的记忆力也不是相当出色的，我能熟练运用一门编程语言的唯一优势就是我会经常去使用它，而一旦不使用，比如<em>HTML</em>和<em>CSS</em>，我就忘了该怎么开始了，所以记录的习惯变得越来越重要。</p>
<p>​    同时呢，我觉得自己已经能做出一些一般人想不到或做不出的东西了，这让我越来越希望能把自己的成果分享出去，或是希望更多人得到启发或是希望得到内心的虚荣心，反正结果便是这样了。</p>
<h2 id="三"><a href="#三" class="headerlink" title="三"></a>三</h2><hr>
<p>​    我依然是一个刚刚走出新手村的萌新，可以叫我<em>AC</em>，也可以叫我<em>手环</em>,或者<em>Acring</em>,这都不重要，<strong>希望你能从我这有所收获，这个比较重要~</strong></p>
<p><img src="http://omudx2uw8.bkt.clouddn.com/ring0.jpg" alt=""></p>
]]></content>
      
        
        <tags>
            
            <tag> 随笔 </tag>
            
        </tags>
        
    </entry>
    
  
  
</search>
